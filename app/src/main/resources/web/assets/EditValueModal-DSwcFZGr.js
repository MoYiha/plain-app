import{e as b,r as k,c5 as x,ar as F,ac as S,as as p,c as v,o as f,a as n,t as u,p as q,v as M,l as e,q as C,x as E,j as $,Y as B,F as D}from"./index-BEu6YjWH.js";import{u as N}from"./vee-validate-DE4bExDP.js";const R={slot:"headline"},T={slot:"content"},w=["placeholder","error","error-text"],K={slot:"actions"},j=["disabled"],A={key:0,slot:"icon",indeterminate:""},I=b({__name:"EditValueModal",props:{getVariables:{type:Function,required:!0},title:{type:String,required:!0},placeholder:{type:String},value:{type:String},mutation:{type:Function,required:!0},done:{type:Function}},setup(r){const c=k(),s=r,{errors:d,handleSubmit:y,defineField:h}=N({validationSchema:x({name:F().required()}),initialValues:{name:s.value??""}}),[o]=h("name"),{mutate:_,loading:m,onDone:g}=s.mutation();o.value=s.value??"";function V(){p()}S(async()=>{setTimeout(()=>{var t;(t=c.value)==null||t.focus()},100)});const l=y(()=>{_(s.getVariables(o.value??""))});return g(()=>{var t;(t=s.done)==null||t.call(this,o.value),p()}),(t,a)=>(f(),v("md-dialog",null,[n("div",R,u(r.title),1),n("div",T,[q(n("md-outlined-text-field",{ref_key:"inputRef",ref:c,"onUpdate:modelValue":a[0]||(a[0]=i=>E(o)?o.value=i:null),placeholder:r.placeholder,error:e(d).name,"error-text":e(d).name?t.$t(e(d).name):"",onKeyup:a[1]||(a[1]=C((...i)=>e(l)&&e(l)(...i),["enter"]))},null,40,w),[[M,e(o)]])]),n("div",K,[n("md-outlined-button",{value:"cancel",onClick:V},u(t.$t("cancel")),1),n("md-filled-button",{value:"save",disabled:e(m),autofocus:"",onClick:a[2]||(a[2]=(...i)=>e(l)&&e(l)(...i))},[e(m)?(f(),v("md-circular-progress",A)):$("",!0),B(u(t.$t("save")),1)],8,j)])]))}}),z=D(I,[["__scopeId","data-v-eeec48b1"]]);export{z as E};
