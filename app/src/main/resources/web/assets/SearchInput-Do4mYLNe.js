import{e as R,c as a,o as n,T as se,U as u,F as w,a as _,t as y,y as I,m as V,f as re,I as ie,aN as C,r as de,w as B,S as m,j as f,k as s,p as r,al as ue,by as ce,aY as _e,V as h,cu as me,R as fe,x as ye,q as ve,bz as he,z as be,P as pe,Q as ke,bU as S,A as Te,H as ge}from"./index-CuU5w3Fk.js";import{_ as qe,a as $e}from"./VInputChip-Cze1-7DF.js";import{u as Ce}from"./search-cTEMyIe9.js";const Je=R({__name:"AllCheckedAlert",props:{limit:{type:Number,required:!0},total:{type:Number,required:!0},allCheckedAlertVisible:{type:Boolean,required:!0},realAllChecked:{type:Boolean,required:!0},selectRealAll:{type:Function,default:()=>{}},clearSelection:{type:Function,default:()=>{}}},setup(o){return(i,T)=>(n(),a("div",{class:se(["alert-info alert-all-checked",{show:o.allCheckedAlertVisible||o.realAllChecked}])},[o.allCheckedAlertVisible?(n(),a(u,{key:0},[w(y(i.$t("all_items_on_this_page_are_selected",{count:o.limit}))+" ",1),_("a",{href:"#",onClick:T[0]||(T[0]=I((...b)=>o.selectRealAll&&o.selectRealAll(...b),["prevent"]))},y(i.$t("select_all_items",{count:o.total})),1)],64)):(n(),a(u,{key:1},[w(y(i.$t("all_items_are_selected",{count:o.total}))+" ",1),_("a",{href:"#",onClick:T[1]||(T[1]=I((...b)=>o.clearSelection&&o.clearSelection(...b),["prevent"]))},y(i.$t("clear_selection")),1)],64))],2))}}),we={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function Ie(o,i){return n(),a("svg",we,i[0]||(i[0]=[_("path",{fill:"currentColor",d:"M7.425 9.475L11.15 3.4q.15-.25.375-.363T12 2.925t.475.113t.375.362l3.725 6.075q.15.25.15.525t-.125.5t-.35.363t-.525.137h-7.45q-.3 0-.525-.137T7.4 10.5t-.125-.5t.15-.525M17.5 22q-1.875 0-3.187-1.312T13 17.5t1.313-3.187T17.5 13t3.188 1.313T22 17.5t-1.312 3.188T17.5 22M3 20.5v-6q0-.425.288-.712T4 13.5h6q.425 0 .713.288T11 14.5v6q0 .425-.288.713T10 21.5H4q-.425 0-.712-.288T3 20.5m14.5-.5q1.05 0 1.775-.725T20 17.5t-.725-1.775T17.5 15t-1.775.725T15 17.5t.725 1.775T17.5 20M5 19.5h4v-4H5zM10.05 9h3.9L12 5.85zm7.45 8.5"},null,-1)]))}const Ve=V({name:"material-symbols-category-outline-rounded",render:Ie}),Ae={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function Be(o,i){return n(),a("svg",Ae,i[0]||(i[0]=[_("path",{fill:"currentColor",d:"M5 21q-.825 0-1.412-.587T3 19t.588-1.412T5 17t1.413.588T7 19t-.587 1.413T5 21m13.5 0q-.65 0-1.088-.475T16.9 19.4q-.275-2.425-1.312-4.537T12.9 11.1T9.138 8.413T4.6 7.1q-.65-.075-1.125-.512T3 5.5t.45-1.062t1.075-.363q3.075.275 5.763 1.563t4.737 3.337t3.338 4.738t1.562 5.762q.05.625-.363 1.075T18.5 21m-6 0q-.625 0-1.075-.437T10.85 19.5q-.225-1.225-.787-2.262T8.65 15.35t-1.888-1.412T4.5 13.15q-.625-.125-1.062-.575T3 11.5q0-.65.45-1.075t1.075-.325q1.825.25 3.413 1.063t2.837 2.062t2.063 2.838t1.062 3.412q.1.625-.325 1.075T12.5 21"},null,-1)]))}const Se=V({name:"material-symbols-rss-feed-rounded",render:Be}),Re={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function Me(o,i){return n(),a("svg",Re,i[0]||(i[0]=[_("path",{fill:"currentColor",d:"M9 16.5q-1.05 0-1.775-.725T6.5 14t.725-1.775T9 11.5t1.775.725T11.5 14t-.725 1.775T9 16.5M5 22q-.825 0-1.412-.587T3 20V6q0-.825.588-1.412T5 4h1V3q0-.425.288-.712T7 2t.713.288T8 3v1h8V3q0-.425.288-.712T17 2t.713.288T18 3v1h1q.825 0 1.413.588T21 6v14q0 .825-.587 1.413T19 22zm0-2h14V10H5zM5 8h14V6H5zm0 0V6z"},null,-1)]))}const Fe=V({name:"material-symbols-today-outline-rounded",render:Me}),ze={key:"filter-text"},xe={key:"filter-today"},Ne={key:"filter-trash"},Ue={class:"btn-icon"},He={class:"filters"},De={class:"form-row"},Le={class:"form-label"},Pe={class:"form-label"},je={class:"form-label"},Ke={class:"form-label"},Qe={class:"buttons"},Ee=R({__name:"SearchInput",props:{filter:{type:Object,required:!0},getUrl:{type:Function,required:!0},tags:{type:Array,default:()=>[]},feeds:{type:Array,default:()=>[]},buckets:{type:Array,default:()=>[]},types:{type:Array,default:()=>[]},showChips:{type:Boolean,default:!0},showToday:{type:Boolean,default:!1},showTrash:{type:Boolean,default:!1}},setup(o,{expose:i}){const{buildQ:T,copyFilter:b}=Ce(),M=re(),l=ie({tagIds:[]}),c=o,F=C(()=>(c.tags??[]).filter(e=>{var d;return(d=c.filter.tagIds)==null?void 0:d.includes(e.id)})),z=C(()=>(c.feeds??[]).filter(e=>c.filter.feedId===e.id)),x=C(()=>(c.buckets??[]).filter(e=>c.filter.bucketId===e.id)),N=C(()=>(c.types??[]).filter(e=>c.filter.type===e.id)),q=de(!1);B(c.filter,e=>{b(e,l)},{immediate:!0,deep:!0}),B(q,e=>{e&&b(c.filter,l)});function U(e){l.tagIds.includes(e.id)?S(l.tagIds,d=>d===e.id):l.tagIds.push(e.id)}function H(e){l.feedId===e.id?l.feedId=void 0:l.feedId=e.id}function D(e){l.bucketId===e.id?l.bucketId=void 0:l.bucketId=e.id}function L(e){l.type===e.id?l.type=void 0:l.type=e.id}function A(){v(),q.value=!1}function v(){b(l,c.filter),Te(M,c.getUrl(T(c.filter)))}function P(){l.feedId=void 0,v()}function j(){l.type=void 0,v()}function K(){l.bucketId=void 0,v()}function Q(e){S(l.tagIds??[],d=>d===e.id),v()}function E(){l.today=void 0,v()}function O(){l.trash=!1,v()}function Y(){l.text=void 0,v()}return i({dismiss:()=>{q.value=!1}}),(e,d)=>{const p=qe,G=Fe,J=_e,W=me,X=Se,Z=Ve,ee=fe,k=ce,te=$e,le=ye,g=he,ne=be,oe=ue,ae=ke("tooltip");return n(),a(u,null,[o.showChips?(n(),m(k,{key:0},{default:r(()=>[o.filter.text?(n(),a("div",ze,[s(p,{label:o.filter.text,"remove-only":"",onRemove:Y},null,8,["label"])])):f("",!0),o.filter.today?(n(),a("div",xe,[s(p,{label:e.$t("today"),"remove-only":"",onRemove:E},{default:r(()=>[s(G)]),_:1},8,["label"])])):f("",!0),o.filter.trash?(n(),a("div",Ne,[s(p,{label:e.$t("trash"),"remove-only":"",onRemove:O},{default:r(()=>[s(J)]),_:1},8,["label"])])):f("",!0),(n(!0),a(u,null,h(x.value,t=>(n(),m(p,{key:t.id,label:t.name,"remove-only":"",onRemove:K},{default:r(()=>[s(W)]),_:2},1032,["label"]))),128)),(n(!0),a(u,null,h(z.value,t=>(n(),m(p,{key:t.id,label:t.name,"remove-only":"",onRemove:P},{default:r(()=>[s(X)]),_:2},1032,["label"]))),128)),(n(!0),a(u,null,h(N.value,t=>(n(),m(p,{key:t.id,label:t.name,"remove-only":"",onRemove:j},{default:r(()=>[s(Z)]),_:2},1032,["label"]))),128)),(n(!0),a(u,null,h(F.value,t=>(n(),m(p,{key:t.id,label:t.name,"remove-only":"",onRemove:$=>Q(t)},{default:r(()=>[s(ee)]),_:2},1032,["label","onRemove"]))),128))]),_:1})):f("",!0),s(oe,{modelValue:q.value,"onUpdate:modelValue":d[3]||(d[3]=t=>q.value=t),"max-height":400},{trigger:r(()=>[pe((n(),a("button",Ue,[s(te)])),[[ae,e.$t("search")]])]),default:r(()=>[_("div",He,[_("div",De,[s(le,{modelValue:l.text,"onUpdate:modelValue":d[0]||(d[0]=t=>l.text=t),label:e.$t("keywords"),onKeyup:ve(A,["enter"])},null,8,["modelValue","label"])]),o.showToday?(n(),m(k,{key:0},{default:r(()=>[s(g,{key:"chip-today",label:e.$t("today"),selected:l.today,onClick:d[1]||(d[1]=t=>l.today=!l.today)},null,8,["label","selected"])]),_:1})):f("",!0),o.showTrash?(n(),m(k,{key:1},{default:r(()=>[s(g,{key:"chip-today",label:e.$t("trash"),selected:l.trash,onClick:d[2]||(d[2]=t=>l.trash=!l.trash)},null,8,["label","selected"])]),_:1})):f("",!0),o.tags.length>0?(n(),a(u,{key:2},[_("label",Le,y(e.$t("tags")),1),s(k,null,{default:r(()=>[(n(!0),a(u,null,h(o.tags,t=>(n(),m(g,{key:t.id,label:t.name,selected:l.tagIds.includes(t.id),onClick:$=>U(t)},null,8,["label","selected","onClick"]))),128))]),_:1})],64)):f("",!0),o.feeds.length>0?(n(),a(u,{key:3},[_("label",Pe,y(e.$t("page_title.feeds")),1),s(k,null,{default:r(()=>[(n(!0),a(u,null,h(o.feeds,t=>(n(),m(g,{key:t.id,label:t.name,selected:l.feedId===t.id,onClick:$=>H(t)},null,8,["label","selected","onClick"]))),128))]),_:1})],64)):f("",!0),o.buckets.length>0?(n(),a(u,{key:4},[_("label",je,y(e.$t("folders")),1),s(k,null,{default:r(()=>[(n(!0),a(u,null,h(o.buckets,t=>(n(),m(g,{key:t.id,label:t.name,selected:l.bucketId===t.id,onClick:$=>D(t)},null,8,["label","selected","onClick"]))),128))]),_:1})],64)):f("",!0),o.types.length>0?(n(),a(u,{key:5},[_("label",Ke,y(e.$t("types")),1),s(k,null,{default:r(()=>[(n(!0),a(u,null,h(o.types,t=>(n(),m(g,{key:t.id,label:t.name,selected:l.type===t.id,onClick:$=>L(t)},null,8,["label","selected","onClick"]))),128))]),_:1})],64)):f("",!0),_("div",Qe,[s(ne,{onClick:I(A,["stop"])},{default:r(()=>[w(y(e.$t("search")),1)]),_:1})])])]),_:1},8,["modelValue"])],64)}}}),We=ge(Ee,[["__scopeId","data-v-2da64b85"]]);export{We as _,Je as a};
