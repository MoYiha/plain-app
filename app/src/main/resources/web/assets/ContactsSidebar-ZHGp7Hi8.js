import{_ as g}from"./LeftSidebar.vuevuetypescriptsetuptruelang-xThtdZrs.js";import{_ as C}from"./TagFilter.vuevuetypescriptsetuptruelang-DHeEG-nY.js";import{e as y,f as S,s as k,g as B,G as T,r as w,J as N,w as b,O as I,o as i,a3 as u,a4 as _,a1 as V,aB as $,a as c,k as q,y as z,P as A,c as L,j as Q,t as n,l as m,Y as R,z as x}from"./index-BEu6YjWH.js";import{u as G}from"./search-Cl5-OtJh.js";import"./more-vert-DqCIvKEs.js";import"./EditValueModal-DSwcFZGr.js";import"./vee-validate-DE4bExDP.js";const M={class:"nav"},O={class:"title"},P={key:0,class:"count"},U=y({__name:"ContactsSidebar",setup(j){const p=S(),{counter:a}=k(B()),{parseQ:d}=G(),s=T({tagIds:[]}),o=w(""),{fetch:f}=N({handle:t=>{t&&(a.value.contacts=t.total)},document:$,variables:()=>({})});function r(){var e;const t=_.currentRoute.value,l=V(((e=t.query.q)==null?void 0:e.toString())??"");d(s,l),o.value=s.tagIds.length===1?s.tagIds[0]:"",f()}r(),b(()=>_.currentRoute.value,()=>{r()});function v(){x(p,"/contacts")}return(t,l)=>{const e=C,h=g;return i(),I(h,null,{title:u(()=>[R(n(t.$t("page_title.contacts")),1)]),body:u(()=>[c("ul",M,[c("li",{class:A({active:!o.value}),onClick:z(v,["prevent"])},[c("span",O,n(t.$t("all")),1),m(a).contacts>=0?(i(),L("span",P,n(m(a).contacts.toLocaleString()),1)):Q("",!0)],2)]),q(e,{type:"CONTACT",selected:o.value},null,8,["selected"])]),_:1})}}});export{U as default};
