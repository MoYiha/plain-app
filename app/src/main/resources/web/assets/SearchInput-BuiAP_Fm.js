import{e as A,c as l,o,P as ee,Q as c,Y as C,a as i,t as m,y as k,m as q,f as te,G as le,aG as b,r as oe,j as u,p as I,k as p,aS as ne,R as _,M as se,v as ie,q as re,cj as de,N as ae,bL as w,z as ce,F as ue}from"./index-H9YOjX-Y.js";import{_ as me}from"./search-rounded-MZmDzmil.js";import{u as he}from"./search-DOkNcsc9.js";const tt=A({__name:"AllCheckedAlert",props:{limit:{type:Number,required:!0},total:{type:Number,required:!0},allCheckedAlertVisible:{type:Boolean,required:!0},realAllChecked:{type:Boolean,required:!0},selectRealAll:{type:Function},clearSelection:{type:Function}},setup(r){return(d,f)=>(o(),l("div",{class:ee(["alert-info alert-all-checked",{show:r.allCheckedAlertVisible||r.realAllChecked}])},[r.allCheckedAlertVisible?(o(),l(c,{key:0},[C(m(d.$t("all_items_on_this_page_are_selected",{count:r.limit}))+" ",1),i("a",{href:"#",onClick:f[0]||(f[0]=k((...y)=>r.selectRealAll&&r.selectRealAll(...y),["prevent"]))},m(d.$t("select_all_items",{count:r.total})),1)],64)):(o(),l(c,{key:1},[C(m(d.$t("all_items_are_selected",{count:r.total}))+" ",1),i("a",{href:"#",onClick:f[1]||(f[1]=k((...y)=>r.clearSelection&&r.clearSelection(...y),["prevent"]))},m(d.$t("clear_selection")),1)],64))],2))}}),_e={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function fe(r,d){return o(),l("svg",_e,d[0]||(d[0]=[i("path",{fill:"currentColor",d:"M7.425 9.475L11.15 3.4q.15-.25.375-.363T12 2.925t.475.113t.375.362l3.725 6.075q.15.25.15.525t-.125.5t-.35.363t-.525.137h-7.45q-.3 0-.525-.137T7.4 10.5t-.125-.5t.15-.525M17.5 22q-1.875 0-3.187-1.312T13 17.5t1.313-3.187T17.5 13t3.188 1.313T22 17.5t-1.312 3.188T17.5 22M3 20.5v-6q0-.425.288-.712T4 13.5h6q.425 0 .713.288T11 14.5v6q0 .425-.288.713T10 21.5H4q-.425 0-.712-.288T3 20.5m14.5-.5q1.05 0 1.775-.725T20 17.5t-.725-1.775T17.5 15t-1.775.725T15 17.5t.725 1.775T17.5 20M5 19.5h4v-4H5zM10.05 9h3.9L12 5.85zm7.45 8.5"},null,-1)]))}const pe=q({name:"material-symbols-category-outline-rounded",render:fe}),ye={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function ve(r,d){return o(),l("svg",ye,d[0]||(d[0]=[i("path",{fill:"currentColor",d:"M5 21q-.825 0-1.412-.587T3 19t.588-1.412T5 17t1.413.588T7 19t-.587 1.413T5 21m13.5 0q-.65 0-1.088-.475T16.9 19.4q-.275-2.425-1.312-4.537T12.9 11.1T9.138 8.413T4.6 7.1q-.65-.075-1.125-.512T3 5.5t.45-1.062t1.075-.363q3.075.275 5.763 1.563t4.737 3.337t3.338 4.738t1.562 5.762q.05.625-.363 1.075T18.5 21m-6 0q-.625 0-1.075-.437T10.85 19.5q-.225-1.225-.787-2.262T8.65 15.35t-1.888-1.412T4.5 13.15q-.625-.125-1.062-.575T3 11.5q0-.65.45-1.075t1.075-.325q1.825.25 3.413 1.063t2.837 2.062t2.063 2.838t1.062 3.412q.1.625-.325 1.075T12.5 21"},null,-1)]))}const be=q({name:"material-symbols-rss-feed-rounded",render:ve}),ke={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function Te(r,d){return o(),l("svg",ke,d[0]||(d[0]=[i("path",{fill:"currentColor",d:"M9 16.5q-1.05 0-1.775-.725T6.5 14t.725-1.775T9 11.5t1.775.725T11.5 14t-.725 1.775T9 16.5M5 22q-.825 0-1.412-.587T3 20V6q0-.825.588-1.412T5 4h1V3q0-.425.288-.712T7 2t.713.288T8 3v1h8V3q0-.425.288-.712T17 2t.713.288T18 3v1h1q.825 0 1.413.588T21 6v14q0 .825-.587 1.413T19 22zm0-2h14V10H5zM5 8h14V6H5zm0 0V6z"},null,-1)]))}const ge=q({name:"material-symbols-today-outline-rounded",render:Te}),qe={key:0},$e={key:"filter-text"},Ce=["label"],Ie={key:"filter-today"},we=["label"],Ae={key:"filter-trash"},Se=["label"],Ve=["label"],Be=["label"],Me=["label"],Re=["label","onRemove"],Fe=["open"],ze={class:"filters"},Ne={class:"form-row"},xe=["label"],De={key:0},He=["label","selected"],Le={key:1},je=["label","selected"],Pe={class:"form-label"},Ue=["label","selected","onClick"],Ge={class:"form-label"},Ke=["label","selected","onClick"],Qe={class:"form-label"},Ee=["label","selected","onClick"],Oe={class:"form-label"},Ye=["label","selected","onClick"],Je={class:"buttons"},We=A({__name:"SearchInput",props:{filter:{type:Object,required:!0},getUrl:{type:Function,required:!0},tags:{type:Array,default:()=>[]},feeds:{type:Array,default:()=>[]},buckets:{type:Array,default:()=>[]},types:{type:Array,default:()=>[]},showChips:{type:Boolean,default:!0},showToday:{type:Boolean,default:!1},showTrash:{type:Boolean,default:!1}},setup(r,{expose:d}){const{copyFilter:f,buildQ:y}=he(),S=te(),s=le({tagIds:[]}),n=r,V=b(()=>(n.tags??[]).filter(t=>{var a;return(a=n.filter.tagIds)==null?void 0:a.includes(t.id)})),B=b(()=>(n.feeds??[]).filter(t=>n.filter.feedId===t.id)),M=b(()=>(n.buckets??[]).filter(t=>n.filter.bucketId===t.id)),R=b(()=>(n.types??[]).filter(t=>n.filter.type===t.id)),T=oe(!1);function F(t){s.tagIds.includes(t.id)?w(s.tagIds,a=>a===t.id):s.tagIds.push(t.id)}function z(t){s.feedId===t.id?s.feedId=void 0:s.feedId=t.id}function N(t){s.bucketId===t.id?s.bucketId=void 0:s.bucketId=t.id}function x(t){s.type===t.id?s.type=void 0:s.type=t.id}function $(){f(s,n.filter),h(),g()}function h(){ce(S,n.getUrl(y(n.filter)))}function D(){n.filter.feedId=void 0,h()}function H(){n.filter.type=void 0,h()}function L(){n.filter.bucketId=void 0,h()}function j(t){w(n.filter.tagIds??[],a=>a===t.id),h()}function P(){n.filter.today=void 0,h()}function U(){n.filter.trash=!1,h()}function G(){n.filter.text=void 0,h()}function K(){T.value=!0,f(n.filter,s)}function g(){T.value=!1}return d({dismiss:g}),(t,a)=>{const Q=ge,E=ne,O=de,Y=be,J=pe,W=ae,X=me,Z=se("tooltip");return o(),l(c,null,[r.showChips?(o(),l("md-chip-set",qe,[n.filter.text?(o(),l("div",$e,[i("md-input-chip",{label:n.filter.text,"remove-only":"",onRemove:G},null,40,Ce)])):u("",!0),n.filter.today?(o(),l("div",Ie,[i("md-input-chip",{label:t.$t("today"),"remove-only":"",onRemove:P},[p(Q,{slot:"icon"})],40,we)])):u("",!0),n.filter.trash?(o(),l("div",Ae,[i("md-input-chip",{label:t.$t("trash"),"remove-only":"",onRemove:U},[p(E,{slot:"icon"})],40,Se)])):u("",!0),(o(!0),l(c,null,_(M.value,e=>(o(),l("md-input-chip",{key:e.id,label:e.name,"remove-only":"",onRemove:L},[p(O,{slot:"icon"})],40,Ve))),128)),(o(!0),l(c,null,_(B.value,e=>(o(),l("md-input-chip",{key:e.id,label:e.name,"remove-only":"",onRemove:D},[p(Y,{slot:"icon"})],40,Be))),128)),(o(!0),l(c,null,_(R.value,e=>(o(),l("md-input-chip",{key:e.id,label:e.name,"remove-only":"",onRemove:H},[p(J,{slot:"icon"})],40,Me))),128)),(o(!0),l(c,null,_(V.value,e=>(o(),l("md-input-chip",{key:e.id,label:e.name,"remove-only":"",onRemove:v=>j(e)},[p(W,{slot:"icon"})],40,Re))),128))])):u("",!0),I((o(),l("button",{id:"btn-search",class:"btn-icon",onClick:k(K,["prevent"])},[a[3]||(a[3]=i("md-ripple",null,null,-1)),p(X)])),[[Z,t.$t("search")]]),i("md-menu",{positioning:"popover",anchor:"btn-search","menu-corner":"start-end","anchor-corner":"end-end","stay-open-on-focusout":"",quick:"",open:T.value,onClosed:g},[i("div",ze,[i("div",Ne,[I(i("md-outlined-text-field",{"onUpdate:modelValue":a[0]||(a[0]=e=>s.text=e),label:t.$t("keywords"),onKeyup:re($,["enter"])},null,40,xe),[[ie,s.text]])]),n.showToday?(o(),l("md-chip-set",De,[i("md-filter-chip",{key:"chip-today",label:t.$t("today"),selected:s.today,onClick:a[1]||(a[1]=e=>s.today=!s.today)},null,8,He)])):u("",!0),n.showTrash?(o(),l("md-chip-set",Le,[i("md-filter-chip",{key:"chip-today",label:t.$t("trash"),selected:s.trash,onClick:a[2]||(a[2]=e=>s.trash=!s.trash)},null,8,je)])):u("",!0),n.tags.length>0?(o(),l(c,{key:2},[i("label",Pe,m(t.$t("tags")),1),i("md-chip-set",null,[(o(!0),l(c,null,_(r.tags,e=>(o(),l("md-filter-chip",{key:e.id,label:e.name,selected:s.tagIds.includes(e.id),onClick:v=>F(e)},null,8,Ue))),128))])],64)):u("",!0),n.feeds.length>0?(o(),l(c,{key:3},[i("label",Ge,m(t.$t("page_title.feeds")),1),i("md-chip-set",null,[(o(!0),l(c,null,_(r.feeds,e=>(o(),l("md-filter-chip",{key:e.id,label:e.name,selected:s.feedId===e.id,onClick:v=>z(e)},null,8,Ke))),128))])],64)):u("",!0),n.buckets.length>0?(o(),l(c,{key:4},[i("label",Qe,m(t.$t("folders")),1),i("md-chip-set",null,[(o(!0),l(c,null,_(r.buckets,e=>(o(),l("md-filter-chip",{key:e.id,label:e.name,selected:s.bucketId===e.id,onClick:v=>N(e)},null,8,Ee))),128))])],64)):u("",!0),n.types.length>0?(o(),l(c,{key:5},[i("label",Oe,m(t.$t("types")),1),i("md-chip-set",null,[(o(!0),l(c,null,_(r.types,e=>(o(),l("md-filter-chip",{key:e.id,label:e.name,selected:s.type===e.id,onClick:v=>x(e)},null,8,Ye))),128))])],64)):u("",!0),i("div",Je,[i("md-filled-button",{onClick:k($,["stop"])},m(t.$t("search")),1)])])],40,Fe)],64)}}}),lt=ue(We,[["__scopeId","data-v-e9c76af6"]]);export{lt as _,tt as a};
