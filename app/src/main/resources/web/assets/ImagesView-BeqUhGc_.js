import{_ as Ht}from"./VPagination.vuevuetypescriptsetuptruelang-CHD_8v0v.js";import{_ as Ot,a as Kt,b as Qt,c as jt}from"./ViewToggleButtons.vuevuetypescriptsetuptruelang-jz36DVqt.js";import{e as ve,u as st,c as m,o,T as z,U as C,Q as c,R as ye,l as e,J as l,ai as ot,z as r,q as u,k as d,a8 as nt,aO as at,aP as P,al as it,aQ as ee,aR as te,aS as lt,S as dt,a as g,aK as se,t as h,n as _e,$ as rt,a0 as Gt,G as We,a1 as Xe,f as Wt,s as Je,r as H,K as Xt,g as Jt,an as Ye,ao as Yt,L as Zt,M as xt,aT as es,aU as Ze,aV as ts,ap as ss,N as os,aW as ns,aX as as,O as is,P as ls,j as V,p as ds,ah as rs,ar as us,V as x,W as ps,ay as ms,aY as cs,F as gs,aZ as ks,aj as fs,aq as _s,a_ as vs,ax as ys,a$ as hs,B as xe,a2 as $s,a3 as bs,b0 as et,b1 as tt,a4 as ws,a5 as M}from"./index-DRp6xo3j.js";import{_ as Cs,a as Is,b as Ts}from"./SearchInput-BJwFSU_P.js";import{_ as Fs}from"./sort-rounded-CWaGCvOj.js";import{_ as Ss}from"./MediaKeyboardShortcuts.vuevuetypescriptsetuptruelang-CQl8yN-o.js";import{_ as ut}from"./VCheckbox-COaKMA3E.js";import{u as Ds}from"./search-VN1T4MU3.js";import{a as Vs}from"./tags-DBIbojtk.js";import{u as Ls,a as As}from"./key-events-cECSsEaK.js";import{_ as Es}from"./ListItemPhone.vuevuetypescriptsetuptruelang-CQmW3Kot.js";import{_ as Ms}from"./FieldId.vuevuetypescriptsetuptruelang-slfJ4h1L.js";import"./search-rounded-DveNm3Pb.js";const Bs=ve({__name:"ImageActionButtons",props:{item:{},filter:{},dataType:{},app:{},isPhone:{type:Boolean},deleteItem:{type:Function},restore:{type:Function},downloadFile:{type:Function},trash:{type:Function},addItemToTags:{type:Function},restoreLoading:{type:Function},trashLoading:{type:Function}},setup(he){const{t}=st();return(a,k)=>{const b=nt,I=ot,q=at,N=it,$=lt,U=dt,p=ye("tooltip");return o(),m("div",{class:z(["list-item-actions",{mobile:a.isPhone}])},[a.filter.trash?(o(),m(C,{key:0},[c((o(),l(I,{class:"sm",onClick:k[0]||(k[0]=r(T=>a.deleteItem(a.dataType,a.item),["stop"]))},{default:u(()=>[d(b)]),_:1})),[[p,e(t)("delete")]]),c((o(),l(I,{class:"sm",loading:a.restoreLoading(`ids:${a.item.id}`),onClick:k[1]||(k[1]=r(T=>a.restore(a.dataType,`ids:${a.item.id}`),["stop"]))},{default:u(()=>[d(q)]),_:1},8,["loading"])),[[p,e(t)("restore")]]),c((o(),l(I,{class:"sm",onClick:k[2]||(k[2]=r(T=>a.downloadFile(a.item.path,e(P)(a.item.path).replace(" ","-")),["stop"]))},{default:u(()=>[d(N)]),_:1})),[[p,e(t)("download")]])],64)):(o(),m(C,{key:1},[e(ee)(e(te).MEDIA_TRASH,a.app.osVersion)?c((o(),l(I,{key:0,class:"sm",loading:a.trashLoading(`ids:${a.item.id}`),onClick:k[3]||(k[3]=r(T=>a.trash(a.dataType,`ids:${a.item.id}`),["stop"]))},{default:u(()=>[d($)]),_:1},8,["loading"])),[[p,e(t)("move_to_trash")]]):c((o(),l(I,{key:1,class:"sm",onClick:k[4]||(k[4]=r(T=>a.deleteItem(a.dataType,a.item),["stop"]))},{default:u(()=>[d(b)]),_:1})),[[p,e(t)("delete")]]),c((o(),l(I,{class:"sm",onClick:k[5]||(k[5]=r(T=>a.downloadFile(a.item.path,e(P)(a.item.path).replace(" ","-")),["stop"]))},{default:u(()=>[d(N)]),_:1})),[[p,e(t)("download")]]),c((o(),l(I,{class:"sm",onClick:k[6]||(k[6]=r(T=>a.addItemToTags(a.item),["stop"]))},{default:u(()=>[d(U)]),_:1})),[[p,e(t)("add_to_tags")]])],64))],2)}}}),Us={class:"list-item-start"},Rs={class:"number"},zs=["src"],Ps={class:"title"},qs={class:"subtitle"},Ns={class:"time"},Hs={class:"image"},Os=["src"],Ks={class:"subtitle"},Qs={class:"subtitle"},js=ve({__name:"ImageListItem",props:{item:{},index:{},selectedIds:{},shiftEffectingIds:{},shouldSelect:{type:Boolean},isPhone:{type:Boolean},bucketsMap:{},filter:{},dataType:{},mainStore:{},app:{},handleItemClick:{type:Function},handleMouseOver:{type:Function},toggleSelect:{type:Function},viewBucket:{type:Function},deleteItem:{type:Function},restore:{type:Function},downloadFile:{type:Function},trash:{type:Function},addItemToTags:{type:Function},view:{type:Function},restoreLoading:{type:Function},trashLoading:{type:Function}},setup(he){return(t,a)=>{var U;const k=ut,b=Ms,I=rt,q=Bs,N=Es,$=ye("tooltip");return t.isPhone?(o(),l(N,{key:1,"is-selected":t.selectedIds.includes(t.item.id),"is-selecting":t.shiftEffectingIds.includes(t.item.id),"checkbox-checked":t.shiftEffectingIds.includes(t.item.id)?t.shouldSelect:t.selectedIds.includes(t.item.id),onClick:a[6]||(a[6]=p=>t.handleItemClick(p,t.item,t.index,()=>t.view(t.index))),onMouseover:a[7]||(a[7]=p=>t.handleMouseOver(p,t.index)),onCheckboxClick:a[8]||(a[8]=p=>t.toggleSelect(p,t.item,t.index))},{image:u(()=>[g("div",Hs,[g("img",{class:"image-thumb",src:e(se)(t.item.fileId,"&w=200&h=200"),onerror:"this.src='/broken-image.png'"},null,8,Os)])]),title:u(()=>[We(h(e(P)(t.item.path)),1)]),subtitle:u(()=>{var p;return[g("div",Ks,[g("span",null,h(e(_e)(t.item.size)),1),g("a",{onClick:a[5]||(a[5]=r(T=>t.viewBucket(t.mainStore,t.item.bucketId),["stop","prevent"]))},h((p=t.bucketsMap[t.item.bucketId])==null?void 0:p.name),1),d(I,{tags:t.item.tags,type:t.dataType,"only-links":!0},null,8,["tags","type"])]),g("div",Qs,h(e(Xe)(t.item.createdAt)),1)]}),actions:u(()=>[d(q,{item:t.item,filter:t.filter,"data-type":t.dataType,app:t.app,"is-phone":!0,"delete-item":t.deleteItem,restore:t.restore,"download-file":t.downloadFile,trash:t.trash,"add-item-to-tags":t.addItemToTags,"restore-loading":t.restoreLoading,"trash-loading":t.trashLoading},null,8,["item","filter","data-type","app","delete-item","restore","download-file","trash","add-item-to-tags","restore-loading","trash-loading"])]),_:1},8,["is-selected","is-selecting","checkbox-checked"])):(o(),m("section",{key:0,class:z(["media-item selectable-card",{selected:t.selectedIds.includes(t.item.id),selecting:t.shiftEffectingIds.includes(t.item.id)}]),onClick:a[3]||(a[3]=r(p=>t.handleItemClick(p,t.item,t.index,()=>t.view(t.index)),["stop"])),onMouseover:a[4]||(a[4]=p=>t.handleMouseOver(p,t.index))},[g("div",Us,[t.shiftEffectingIds.includes(t.item.id)?(o(),l(k,{key:0,class:"checkbox","touch-target":"wrapper",checked:t.shouldSelect,onClick:a[0]||(a[0]=r(p=>t.toggleSelect(p,t.item,t.index),["stop"]))},null,8,["checked"])):(o(),l(k,{key:1,class:"checkbox","touch-target":"wrapper",checked:t.selectedIds.includes(t.item.id),onClick:a[1]||(a[1]=r(p=>t.toggleSelect(p,t.item,t.index),["stop"]))},null,8,["checked"])),g("span",Rs,[d(b,{id:t.index+1,raw:t.item},null,8,["id","raw"])])]),g("img",{class:"image",src:e(se)(t.item.fileId,"&w=200&h=200"),onerror:"this.src='/broken-image.png'"},null,8,zs),g("div",Ps,h(e(P)(t.item.path)),1),g("div",qs,[g("span",null,h(e(_e)(t.item.size)),1),g("a",{onClick:a[2]||(a[2]=r(p=>t.viewBucket(t.mainStore,t.item.bucketId),["stop","prevent"]))},h((U=t.bucketsMap[t.item.bucketId])==null?void 0:U.name),1),d(I,{tags:t.item.tags,type:t.dataType,"only-links":!0},null,8,["tags","type"])]),d(q,{item:t.item,filter:t.filter,"data-type":t.dataType,app:t.app,"delete-item":t.deleteItem,restore:t.restore,"download-file":t.downloadFile,trash:t.trash,"add-item-to-tags":t.addItemToTags,"restore-loading":t.restoreLoading,"trash-loading":t.trashLoading},null,8,["item","filter","data-type","app","delete-item","restore","download-file","trash","add-item-to-tags","restore-loading","trash-loading"]),g("div",Ns,[c((o(),m("span",null,[We(h(e(Xe)(t.item.createdAt)),1)])),[[$,e(Gt)(t.item.createdAt)]])])],34))}}}),Gs={class:"top-app-bar"},Ws={class:"title"},Xs={key:0},Js={key:1},Ys={key:0,class:"actions"},Zs=["onClick"],xs={key:0,class:"secondary-actions"},eo=["onClick","onMouseover"],to=["src"],so={key:1,class:"actions"},oo={class:"right"},no={key:2,class:"no-data-placeholder"},B=55,yo=ve({__name:"ImagesView",setup(he){var Ne;const t=ds("isPhone"),a=Wt(),{imageSortBy:k}=Je(a),b=H([]),{t:I}=st(),{parseQ:q,buildQ:N}=Ds(),$=Xt({tagIds:[],bucketId:void 0}),U=Jt(),{app:p,urlTokenKey:T,uploads:oe}=Je(U),W=H(!1),ne=H(!1),{input:pt,upload:mt,uploadChanged:$e}=Ye(oe),{input:ct,upload:gt,uploadChanged:be}=Ye(oe),{dropping:kt,fileDragEnter:we,fileDragLeave:Ce,dropFiles:ft}=Yt(oe),ae=H(!1),f=Zt.IMAGE,Ie=xt(),Te=Ie.query,ie=H(parseInt(((Ne=Te.page)==null?void 0:Ne.toString())??"1")),{tags:O,buckets:K,fetch:_t}=es(f),vt=Ze(()=>{const s={};return K.value.forEach(i=>{s[i.id]=i}),s}),F=H(""),{addToTags:yt}=Vs(f,O),{deleteItems:le,deleteItem:de}=ts(),{view:ht}=hs(f),{selectedIds:w,allChecked:Fe,realAllChecked:L,selectRealAll:$t,allCheckedAlertVisible:bt,clearSelection:Q,toggleAllChecked:wt,toggleSelect:X,total:S,checked:R,shiftEffectingIds:re,handleItemClick:Se,handleMouseOver:De,selectAll:Ct,shouldSelect:Ve}=Ls(b),{downloadItems:Le}=ss(T,f,Q,()=>ms("images")),{downloadFile:ue}=ys(T),Ae=s=>{const i=Ie.query.q;xe(a,i?`/images?page=${s}&q=${i}`:`/images?page=${s}`)},{keyDown:Ee,keyUp:Me}=As(S,B,ie,Ct,Q,Ae,()=>{ee(te.MEDIA_TRASH,p.value.osVersion)?Y(f,j()):le(f,w.value,L.value,S.value,F.value)}),It=_s(),Tt=Ze(()=>b.value.map(s=>({src:se(s.fileId),name:P(s.path),duration:0,size:s.size,path:s.path,type:f,data:s})));function pe(s){U.lightbox={sources:Tt.value,index:s,visible:!0}}const j=()=>{let s=F.value;return L.value||(s=`ids:${w.value.join(",")}`),s};function Be(s){$s(bs,{type:f,tags:O.value,item:{key:s.id,title:s.title,size:s.size},selected:O.value.filter(i=>s.tags.some(A=>A.id===i.id))})}function Ft(s){k.value!==s&&(ae.value=!0,k.value=s)}const{loading:J,fetch:G}=os({handle:async(s,i)=>{if(ae.value=!1,i)gs(I(i),"error");else if(s){const A=[];for(const D of s.images)A.push({...D,fileId:ks(T.value,D.path,D.id)});b.value=A,S.value=s.imageCount}},document:cs,variables:()=>({offset:(ie.value-1)*B,limit:B,query:F.value,sortBy:k.value})}),{trashLoading:me,trash:Y}=ns(),{restoreLoading:ce,restore:ge}=as();function Ue(s){return s?`/images?q=${s}`:"/images"}function ke(){const s=K.value.find(i=>i.id===$.bucketId);return s?tt(s.topItems[0]):`${p.value.internalStoragePath}/Pictures`}function St(){mt(ke())}function Dt(){gt(ke())}function Vt(s){ft(s,ke(),i=>et(i.name))}const Re=s=>{s.type===f&&(Q(),G())},ze=s=>{s.type===f&&G()},Pe=s=>{s.type===f&&(Q(),G())},qe=s=>{s.status==="done"&&et(s.fileName)&&((!$.bucketId||K.value.some(A=>A.id===$.bucketId&&A.topItems.some(D=>s.dir.startsWith(tt(D)))))&&setTimeout(()=>{G()},1e3),M.emit("media_items_actioned",{type:f,action:"upload",query:""}))};function Lt(s){Object.assign($,s),xe(a,Ue(N($)))}return is(()=>{var s;F.value=ws(((s=Te.q)==null?void 0:s.toString())??""),q($,F.value),_t(),G(),M.on("item_tags_updated",ze),M.on("items_tags_updated",Re),M.on("media_items_actioned",Pe),M.on("upload_task_done",qe),window.addEventListener("keydown",Ee),window.addEventListener("keyup",Me)}),ls(()=>{M.off("item_tags_updated",ze),M.off("items_tags_updated",Re),M.off("media_items_actioned",Pe),M.off("upload_task_done",qe),window.removeEventListener("keydown",Ee),window.removeEventListener("keyup",Me)}),(s,i)=>{const A=ut,D=nt,_=ot,He=at,Z=it,Oe=lt,Ke=dt,At=Cs,Et=Ss,Mt=fs,Qe=rs,Bt=Fs,je=Ot,Ut=Ts,Rt=Is,fe=Qt,Ge=jt,zt=vs,Pt=rt,qt=Kt,Nt=Ht,v=ye("tooltip");return o(),m(C,null,[g("div",Gs,[d(A,{"touch-target":"wrapper",checked:e(Fe),indeterminate:!e(Fe)&&e(R),onChange:e(wt)},null,8,["checked","indeterminate","onChange"]),g("div",Ws,[e(w).length?(o(),m("span",Xs,h(s.$t("x_selected",{count:e(L)?e(S).toLocaleString():e(w).length.toLocaleString()})),1)):(o(),m("span",Js,h(s.$t("page_title.images"))+" ("+h(e(S).toLocaleString())+")",1)),e(R)?(o(),m(C,{key:2},[$.trash?(o(),m(C,{key:0},[c((o(),l(_,{onClick:i[0]||(i[0]=r(n=>e(le)(e(f),e(w),e(L),e(S),F.value),["stop"]))},{default:u(()=>[d(D)]),_:1})),[[v,s.$t("delete")]]),c((o(),l(_,{loading:e(ce)(j()),onClick:i[1]||(i[1]=r(n=>e(ge)(e(f),j()),["stop"]))},{default:u(()=>[d(He)]),_:1},8,["loading"])),[[v,s.$t("restore")]]),c((o(),l(_,{onClick:i[2]||(i[2]=r(n=>e(Le)(e(L),e(w),F.value),["stop"]))},{default:u(()=>[d(Z)]),_:1})),[[v,s.$t("download")]])],64)):(o(),m(C,{key:1},[e(ee)(e(te).MEDIA_TRASH,e(p).osVersion)?c((o(),l(_,{key:0,loading:e(me)(j()),onClick:i[3]||(i[3]=r(n=>e(Y)(e(f),j()),["stop"]))},{default:u(()=>[d(Oe)]),_:1},8,["loading"])),[[v,s.$t("move_to_trash")]]):c((o(),l(_,{key:1,onClick:i[4]||(i[4]=r(n=>e(le)(e(f),e(w),e(L),e(S),F.value),["stop"]))},{default:u(()=>[d(D)]),_:1})),[[v,s.$t("delete")]]),c((o(),l(_,{onClick:i[5]||(i[5]=r(n=>e(Le)(e(L),e(w),F.value),["stop"]))},{default:u(()=>[d(Z)]),_:1})),[[v,s.$t("download")]]),c((o(),l(_,{onClick:i[6]||(i[6]=r(n=>e(yt)(e(w),e(L),F.value),["stop"]))},{default:u(()=>[d(Ke)]),_:1})),[[v,s.$t("add_to_tags")]])],64))],64)):V("",!0)]),!e(t)||!e(R)?(o(),m("div",Ys,[d(At,{filter:$,tags:e(O),buckets:e(K),"get-url":Ue,"show-chips":!e(t),"is-phone":e(t)},null,8,["filter","tags","buckets","show-chips","is-phone"]),d(Et),$.trash?V("",!0):(o(),l(Qe,{key:0,modelValue:W.value,"onUpdate:modelValue":i[9]||(i[9]=n=>W.value=n)},{trigger:u(()=>[c((o(),l(_,null,{default:u(()=>[d(Mt)]),_:1})),[[v,s.$t("upload")]])]),default:u(()=>[g("div",{class:"dropdown-item",onClick:i[7]||(i[7]=r(n=>{St(),W.value=!1},["stop"]))},h(s.$t("upload_files")),1),g("div",{class:"dropdown-item",onClick:i[8]||(i[8]=r(n=>{Dt(),W.value=!1},["stop"]))},h(s.$t("upload_folder")),1)]),_:1},8,["modelValue"])),d(Qe,{modelValue:ne.value,"onUpdate:modelValue":i[10]||(i[10]=n=>ne.value=n)},{trigger:u(()=>[c((o(),l(_,{loading:ae.value},{default:u(()=>[d(Bt)]),_:1},8,["loading"])),[[v,s.$t("sort")]])]),default:u(()=>[(o(!0),m(C,null,x(e(It),n=>(o(),m("div",{key:n.value,class:z(["dropdown-item",{selected:n.value===e(k)}]),onClick:E=>{Ft(n.value),ne.value=!1}},h(s.$t(n.label)),11,Zs))),128))]),_:1},8,["modelValue"]),e(t)?V("",!0):(o(),l(je,{key:1,"card-view":e(a).imagesCardView,"onUpdate:cardView":i[11]||(i[11]=n=>e(a).imagesCardView=n)},null,8,["card-view"]))])):V("",!0)]),e(t)&&!e(R)?(o(),m("div",xs,[d(je,{"card-view":e(a).imagesCardView,"onUpdate:cardView":i[12]||(i[12]=n=>e(a).imagesCardView=n)},null,8,["card-view"])])):V("",!0),e(t)?(o(),l(Ut,{key:1,class:"mobile-search-filters",filter:$,tags:e(O),feeds:[],buckets:e(K),types:[],onFilterChange:Lt},null,8,["filter","tags","buckets"])):V("",!0),d(Rt,{limit:B,total:e(S),"all-checked-alert-visible":e(bt),"real-all-checked":e(L),"select-real-all":e($t),"clear-selection":e(Q)},null,8,["total","all-checked-alert-visible","real-all-checked","select-real-all","clear-selection"]),g("div",{class:"scroll-content",onDragover:i[16]||(i[16]=r((...n)=>e(we)&&e(we)(...n),["stop","prevent"]))},[c(g("div",{class:"drag-mask",onDrop:r(Vt,["stop","prevent"]),onDragleave:i[13]||(i[13]=r((...n)=>e(Ce)&&e(Ce)(...n),["stop","prevent"]))},h(s.$t("release_to_send_files")),545),[[us,e(kt)]]),e(a).imagesCardView?(o(),m("div",{key:1,class:z(["media-list",{"select-mode":e(R)}])},[(o(!0),m(C,null,x(b.value,(n,E)=>(o(),l(js,{key:n.id,item:n,index:E,"is-phone":e(t),"selected-ids":e(w),"shift-effecting-ids":e(re),"should-select":e(Ve),"buckets-map":vt.value,filter:$,"data-type":e(f),"main-store":e(a),app:e(p),"handle-item-click":e(Se),"handle-mouse-over":e(De),"toggle-select":e(X),"view-bucket":e(ht),"delete-item":e(de),restore:e(ge),"download-file":e(ue),trash:e(Y),"add-item-to-tags":Be,view:pe,"restore-loading":e(ce),"trash-loading":e(me)},null,8,["item","index","is-phone","selected-ids","shift-effecting-ids","should-select","buckets-map","filter","data-type","main-store","app","handle-item-click","handle-mouse-over","toggle-select","view-bucket","delete-item","restore","download-file","trash","restore-loading","trash-loading"]))),128)),e(J)&&b.value.length===0?(o(),l(qt,{key:0,limit:B,"is-phone":e(t)},null,8,["is-phone"])):V("",!0)],2)):(o(),m("div",{key:0,class:z(["media-grid",{"select-mode":e(R)}])},[(o(!0),m(C,null,x(b.value,(n,E)=>(o(),m("section",{key:n.id,class:z(["media-item",{selected:e(w).includes(n.id),selecting:e(re).includes(n.id)}]),onClick:r(y=>e(Se)(y,n,E,pe),["stop"]),onMouseover:y=>e(De)(y,E)},[g("img",{class:"image-thumb image",src:e(se)(n.fileId,"&w=200&h=200"),onerror:"this.src='/broken-image.png'"},null,8,to),e(re).includes(n.id)?(o(),l(_,{key:0,class:"btn-checkbox",onClick:r(y=>e(X)(y,n,E),["stop"])},{default:u(()=>[e(Ve)?(o(),l(fe,{key:0})):(o(),l(Ge,{key:1}))]),_:2},1032,["onClick"])):e(w).includes(n.id)?(o(),l(_,{key:1,class:"btn-checkbox",onClick:r(y=>e(X)(y,n,E),["stop"])},{default:u(()=>[d(fe)]),_:2},1032,["onClick"])):(o(),m(C,{key:2},[d(_,{class:"btn-checkbox",onClick:r(y=>e(X)(y,n,E),["stop"])},{default:u(()=>[e(w).includes(n.id)?(o(),l(fe,{key:0})):(o(),l(Ge,{key:1}))]),_:2},1032,["onClick"]),e(R)?c((o(),l(_,{key:0,class:"btn-zoom sm",onClick:r(y=>pe(E),["stop"])},{default:u(()=>[d(zt)]),_:2},1032,["onClick"])),[[v,s.$t("open")]]):(o(),m("div",so,[$.trash?(o(),m(C,{key:0},[c((o(),l(_,{class:"sm",onClick:r(y=>e(de)(e(f),n),["stop"])},{default:u(()=>[d(D)]),_:2},1032,["onClick"])),[[v,s.$t("delete")]]),c((o(),l(_,{class:"sm",loading:e(ce)(`ids:${n.id}`),onClick:r(y=>e(ge)(e(f),`ids:${n.id}`),["stop"])},{default:u(()=>[d(He)]),_:2},1032,["loading","onClick"])),[[v,s.$t("restore")]]),c((o(),l(_,{class:"sm",onClick:r(y=>e(ue)(n.path,e(P)(n.path).replace(" ","-")),["stop"])},{default:u(()=>[d(Z)]),_:2},1032,["onClick"])),[[v,s.$t("download")]])],64)):(o(),m(C,{key:1},[e(ee)(e(te).MEDIA_TRASH,e(p).osVersion)?c((o(),l(_,{key:0,class:"sm",loading:e(me)(`ids:${n.id}`),onClick:r(y=>e(Y)(e(f),`ids:${n.id}`),["stop"])},{default:u(()=>[d(Oe)]),_:2},1032,["loading","onClick"])),[[v,s.$t("move_to_trash")]]):c((o(),l(_,{key:1,class:"sm",onClick:r(y=>e(de)(e(f),n),["stop"])},{default:u(()=>[d(D)]),_:2},1032,["onClick"])),[[v,s.$t("delete")]]),c((o(),l(_,{class:"sm",onClick:r(y=>e(ue)(n.path,e(P)(n.path).replace(" ","-")),["stop"])},{default:u(()=>[d(Z)]),_:2},1032,["onClick"])),[[v,s.$t("download")]]),c((o(),l(_,{class:"sm",onClick:r(y=>Be(n),["stop"])},{default:u(()=>[d(Ke)]),_:2},1032,["onClick"])),[[v,s.$t("add_to_tags")]])],64))])),g("div",{class:z(["info",{"has-tags":n.tags.length>0}])},[d(Pt,{tags:n.tags,type:e(f)},null,8,["tags","type"]),g("span",oo,h(e(_e)(n.size)),1)],2)],64))],42,eo))),128)),e(J)&&b.value.length===0?(o(),m(C,{key:0},x(B,n=>g("section",{key:n,class:"skeleton-image media-item"})),64)):V("",!0)],2)),!e(J)&&b.value.length===0?(o(),m("div",no,h(s.$t(e(ps)(e(J),e(p).permissions,"WRITE_EXTERNAL_STORAGE"))),1)):V("",!0),e(S)>B?(o(),l(Nt,{key:3,page:ie.value,go:Ae,total:e(S),limit:B},null,8,["page","total"])):V("",!0),g("input",{ref_key:"fileInput",ref:pt,style:{display:"none"},type:"file",accept:"image/*",multiple:"",onChange:i[14]||(i[14]=(...n)=>e($e)&&e($e)(...n))},null,544),g("input",{ref_key:"dirFileInput",ref:ct,style:{display:"none"},type:"file",accept:"image/*",multiple:"",webkitdirectory:"",mozdirectory:"",directory:"",onChange:i[15]||(i[15]=(...n)=>e(be)&&e(be)(...n))},null,544)],32)],64)}}});export{yo as default};
