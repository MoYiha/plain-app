import{d as w,c as l,o,M as ee,N as a,V as $,a as i,t as m,x as k,m as V,e as te,D as le,aE as b,r as oe,h as u,n as q,j as p,aQ as ne,O as _,J as se,v as ie,p as re,cg as de,K as ae,bG as I,y as ce,C as ue}from"./index-Dohfv8Fq.js";import{_ as me}from"./search-rounded-DoLKRhlL.js";import{_ as he}from"./rss-feed-rounded-DCFCzJSD.js";import{u as _e}from"./search-BGPnRmZx.js";const et=w({__name:"AllCheckedAlert",props:{limit:{type:Number,required:!0},total:{type:Number,required:!0},allCheckedAlertVisible:{type:Boolean,required:!0},realAllChecked:{type:Boolean,required:!0},selectRealAll:{type:Function},clearSelection:{type:Function}},setup(r){return(c,f)=>(o(),l("div",{class:ee(["alert-info alert-all-checked",{show:r.allCheckedAlertVisible||r.realAllChecked}])},[r.allCheckedAlertVisible?(o(),l(a,{key:0},[$(m(c.$t("all_items_on_this_page_are_selected",{count:r.limit}))+" ",1),i("a",{href:"#",onClick:f[0]||(f[0]=k((...y)=>r.selectRealAll&&r.selectRealAll(...y),["prevent"]))},m(c.$t("select_all_items",{count:r.total})),1)],64)):(o(),l(a,{key:1},[$(m(c.$t("all_items_are_selected",{count:r.total}))+" ",1),i("a",{href:"#",onClick:f[1]||(f[1]=k((...y)=>r.clearSelection&&r.clearSelection(...y),["prevent"]))},m(c.$t("clear_selection")),1)],64))],2))}}),fe={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function pe(r,c){return o(),l("svg",fe,c[0]||(c[0]=[i("path",{fill:"currentColor",d:"M7.425 9.475L11.15 3.4q.15-.25.375-.363T12 2.925t.475.113t.375.362l3.725 6.075q.15.25.15.525t-.125.5t-.35.363t-.525.137h-7.45q-.3 0-.525-.137T7.4 10.5t-.125-.5t.15-.525M17.5 22q-1.875 0-3.187-1.312T13 17.5t1.313-3.187T17.5 13t3.188 1.313T22 17.5t-1.312 3.188T17.5 22M3 20.5v-6q0-.425.288-.712T4 13.5h6q.425 0 .713.288T11 14.5v6q0 .425-.288.713T10 21.5H4q-.425 0-.712-.288T3 20.5m14.5-.5q1.05 0 1.775-.725T20 17.5t-.725-1.775T17.5 15t-1.775.725T15 17.5t.725 1.775T17.5 20M5 19.5h4v-4H5zM10.05 9h3.9L12 5.85zm7.45 8.5"},null,-1)]))}const ye=V({name:"material-symbols-category-outline-rounded",render:pe}),ve={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function be(r,c){return o(),l("svg",ve,c[0]||(c[0]=[i("path",{fill:"currentColor",d:"M9 16.5q-1.05 0-1.775-.725T6.5 14t.725-1.775T9 11.5t1.775.725T11.5 14t-.725 1.775T9 16.5M5 22q-.825 0-1.412-.587T3 20V6q0-.825.588-1.412T5 4h1V3q0-.425.288-.712T7 2t.713.288T8 3v1h8V3q0-.425.288-.712T17 2t.713.288T18 3v1h1q.825 0 1.413.588T21 6v14q0 .825-.587 1.413T19 22zm0-2h14V10H5zM5 8h14V6H5zm0 0V6z"},null,-1)]))}const ke=V({name:"material-symbols-today-outline-rounded",render:be}),Te={key:0},ge={key:"filter-text"},Ce=["label"],$e={key:"filter-today"},qe=["label"],Ie={key:"filter-trash"},we=["label"],Ve=["label"],Ae=["label"],Se=["label"],Be=["label","onRemove"],Me=["open"],Re={class:"filters"},Fe={class:"form-row"},ze=["label"],Ne={key:0},xe=["label","selected"],De={key:1},He=["label","selected"],Ke={class:"form-label"},Le=["label","selected","onClick"],Ue={class:"form-label"},je=["label","selected","onClick"],Ee={class:"form-label"},Oe=["label","selected","onClick"],Pe={class:"form-label"},Qe=["label","selected","onClick"],Ge={class:"buttons"},Je=w({__name:"SearchInput",props:{filter:{type:Object,required:!0},getUrl:{type:Function,required:!0},tags:{type:Array,default:()=>[]},feeds:{type:Array,default:()=>[]},buckets:{type:Array,default:()=>[]},types:{type:Array,default:()=>[]},showChips:{type:Boolean,default:!0},showToday:{type:Boolean,default:!1},showTrash:{type:Boolean,default:!1}},setup(r,{expose:c}){const{copyFilter:f,buildQ:y}=_e(),A=te(),s=le({tagIds:[]}),n=r,S=b(()=>(n.tags??[]).filter(t=>{var d;return(d=n.filter.tagIds)==null?void 0:d.includes(t.id)})),B=b(()=>(n.feeds??[]).filter(t=>n.filter.feedId===t.id)),M=b(()=>(n.buckets??[]).filter(t=>n.filter.bucketId===t.id)),R=b(()=>(n.types??[]).filter(t=>n.filter.type===t.id)),T=oe(!1);function F(t){s.tagIds.includes(t.id)?I(s.tagIds,d=>d===t.id):s.tagIds.push(t.id)}function z(t){s.feedId===t.id?s.feedId=void 0:s.feedId=t.id}function N(t){s.bucketId===t.id?s.bucketId=void 0:s.bucketId=t.id}function x(t){s.type===t.id?s.type=void 0:s.type=t.id}function C(){f(s,n.filter),h(),g()}function h(){ce(A,n.getUrl(y(n.filter)))}function D(){n.filter.feedId=void 0,h()}function H(){n.filter.type=void 0,h()}function K(){n.filter.bucketId=void 0,h()}function L(t){I(n.filter.tagIds??[],d=>d===t.id),h()}function U(){n.filter.today=void 0,h()}function j(){n.filter.trash=!1,h()}function E(){n.filter.text=void 0,h()}function O(){T.value=!0,f(n.filter,s)}function g(){T.value=!1}return c({dismiss:g}),(t,d)=>{const P=ke,Q=ne,G=de,J=he,W=ye,X=ae,Y=me,Z=se("tooltip");return o(),l(a,null,[r.showChips?(o(),l("md-chip-set",Te,[n.filter.text?(o(),l("div",ge,[i("md-input-chip",{label:n.filter.text,"remove-only":"",onRemove:E},null,40,Ce)])):u("",!0),n.filter.today?(o(),l("div",$e,[i("md-input-chip",{label:t.$t("today"),"remove-only":"",onRemove:U},[p(P,{slot:"icon"})],40,qe)])):u("",!0),n.filter.trash?(o(),l("div",Ie,[i("md-input-chip",{label:t.$t("trash"),"remove-only":"",onRemove:j},[p(Q,{slot:"icon"})],40,we)])):u("",!0),(o(!0),l(a,null,_(M.value,e=>(o(),l("md-input-chip",{key:e.id,label:e.name,"remove-only":"",onRemove:K},[p(G,{slot:"icon"})],40,Ve))),128)),(o(!0),l(a,null,_(B.value,e=>(o(),l("md-input-chip",{key:e.id,label:e.name,"remove-only":"",onRemove:D},[p(J,{slot:"icon"})],40,Ae))),128)),(o(!0),l(a,null,_(R.value,e=>(o(),l("md-input-chip",{key:e.id,label:e.name,"remove-only":"",onRemove:H},[p(W,{slot:"icon"})],40,Se))),128)),(o(!0),l(a,null,_(S.value,e=>(o(),l("md-input-chip",{key:e.id,label:e.name,"remove-only":"",onRemove:v=>L(e)},[p(X,{slot:"icon"})],40,Be))),128))])):u("",!0),q((o(),l("button",{id:"btn-search",class:"btn-icon",onClick:k(O,["prevent"])},[d[3]||(d[3]=i("md-ripple",null,null,-1)),p(Y)])),[[Z,t.$t("search")]]),i("md-menu",{positioning:"popover",anchor:"btn-search","menu-corner":"start-end","anchor-corner":"end-end","stay-open-on-focusout":"",quick:"",open:T.value,onClosed:g},[i("div",Re,[i("div",Fe,[q(i("md-outlined-text-field",{"onUpdate:modelValue":d[0]||(d[0]=e=>s.text=e),label:t.$t("keywords"),onKeyup:re(C,["enter"])},null,40,ze),[[ie,s.text]])]),n.showToday?(o(),l("md-chip-set",Ne,[i("md-filter-chip",{key:"chip-today",label:t.$t("today"),selected:s.today,onClick:d[1]||(d[1]=e=>s.today=!s.today)},null,8,xe)])):u("",!0),n.showTrash?(o(),l("md-chip-set",De,[i("md-filter-chip",{key:"chip-today",label:t.$t("trash"),selected:s.trash,onClick:d[2]||(d[2]=e=>s.trash=!s.trash)},null,8,He)])):u("",!0),n.tags.length>0?(o(),l(a,{key:2},[i("label",Ke,m(t.$t("tags")),1),i("md-chip-set",null,[(o(!0),l(a,null,_(r.tags,e=>(o(),l("md-filter-chip",{key:e.id,label:e.name,selected:s.tagIds.includes(e.id),onClick:v=>F(e)},null,8,Le))),128))])],64)):u("",!0),n.feeds.length>0?(o(),l(a,{key:3},[i("label",Ue,m(t.$t("page_title.feeds")),1),i("md-chip-set",null,[(o(!0),l(a,null,_(r.feeds,e=>(o(),l("md-filter-chip",{key:e.id,label:e.name,selected:s.feedId===e.id,onClick:v=>z(e)},null,8,je))),128))])],64)):u("",!0),n.buckets.length>0?(o(),l(a,{key:4},[i("label",Ee,m(t.$t("folders")),1),i("md-chip-set",null,[(o(!0),l(a,null,_(r.buckets,e=>(o(),l("md-filter-chip",{key:e.id,label:e.name,selected:s.bucketId===e.id,onClick:v=>N(e)},null,8,Oe))),128))])],64)):u("",!0),n.types.length>0?(o(),l(a,{key:5},[i("label",Pe,m(t.$t("types")),1),i("md-chip-set",null,[(o(!0),l(a,null,_(r.types,e=>(o(),l("md-filter-chip",{key:e.id,label:e.name,selected:s.type===e.id,onClick:v=>x(e)},null,8,Qe))),128))])],64)):u("",!0),i("div",Ge,[i("md-filled-button",{onClick:k(C,["stop"])},m(t.$t("search")),1)])])],40,Me)],64)}}}),tt=ue(Je,[["__scopeId","data-v-e9c76af6"]]);export{tt as _,et as a};
