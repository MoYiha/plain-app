import{_ as q}from"./LeftSidebar.vuevuetypescriptsetuptruelang-Cvb_6RH0.js";import{e as w,f as y,s as N,g as x,u as D,G as F,r as h,aG as Q,w as T,O as z,o as c,a3 as _,a4 as m,a1 as A,br as E,a as r,c as v,y as b,P as k,l as g,I as G,t as i,R as I,Q as L,Y as M,z as S,A as V,B as H}from"./index-H9YOjX-Y.js";const O={class:"nav"},Y={class:"title"},j=["onClick"],J={class:"title"},Z=w({__name:"FilesSidebar",setup(K){const u=G(),p=y(),{app:s}=N(x()),{t:n}=D(),{parseQ:$}=E(),l=F({showHidden:!1,linkName:"",text:"",parent:""}),B=h(""),d=h(!1);function P(){S(p,"/files/recent")}const C=Q(()=>{const e=[{name:"internal",label:n("internal_storage"),path:s.value.internalStoragePath}];return s.value.sdcardPath&&e.push({name:"sdcard",label:n("sdcard"),path:s.value.sdcardPath}),s.value.usbDiskPaths.forEach((t,a)=>{e.push({name:`usb${a+1}`,label:`${n("usb_storage")} ${a+1}`,path:t})}),e.push({name:"app",label:n("app_data"),path:s.value.externalFilesDir}),e});function R(e){const t=V([{name:"parent",op:"",value:e.path},{name:"link_name",op:"",value:e.name}]);S(p,`/files?q=${H(t)}`)}function f(){var a;const e=m.currentRoute.value;if(e.path==="/files/recent"){d.value=!0;return}d.value=!1;const t=A(((a=e.query.q)==null?void 0:a.toString())??"");$(l,t),B.value=l.parent}return f(),T(()=>m.currentRoute.value.fullPath,()=>{f()}),(e,t)=>{const a=q;return c(),z(a,null,{title:_(()=>[M(i(e.$t("page_title.files")),1)]),body:_(()=>[r("ul",O,[r("li",{class:k({active:g(u).path==="/files/recent"}),onClick:b(P,["prevent"])},[r("span",Y,i(e.$t("recents")),1)],2),(c(!0),v(L,null,I(C.value,o=>(c(),v("li",{class:k({active:g(u).path==="/files"&&o.name===l.linkName}),onClick:b(U=>R(o),["prevent"])},[r("span",J,i(o.label),1)],10,j))),256))])]),_:1})}}});export{Z as default};
