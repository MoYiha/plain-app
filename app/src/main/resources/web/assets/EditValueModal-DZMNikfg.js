import{d as _,h as b,c7 as V,ar as S,aU as k,as as m,o as x,c as F,a as n,t as u,x as M,y as q,m as t,z as E,A as $,H as B}from"./index-BxNI00MG.js";import{u as C}from"./vee-validate.esm-9czZ1sUw.js";const D={slot:"headline"},R={slot:"content"},w=["placeholder","error","error-text"],A={slot:"actions"},K=["disabled"],T=_({__name:"EditValueModal",props:{getVariables:{type:Function,required:!0},title:{type:String,required:!0},placeholder:{type:String},value:{type:String},mutation:{type:Function,required:!0},done:{type:Function}},setup(r){const c=b(),l=r,{errors:d,handleSubmit:p,defineField:v}=C({validationSchema:V({name:S().required()}),initialValues:{name:l.value??""}}),[o]=v("name"),{mutate:f,loading:y,onDone:h}=l.mutation();o.value=l.value??"";function g(){m()}k(async()=>{setTimeout(()=>{var e;(e=c.value)==null||e.focus()},100)});const i=p(()=>{f(l.getVariables(o.value??""))});return h(()=>{var e;(e=l.done)==null||e.call(this,o.value),m()}),(e,a)=>(x(),F("md-dialog",null,[n("div",D,u(r.title),1),n("div",R,[M(n("md-outlined-text-field",{ref_key:"inputRef",ref:c,placeholder:r.placeholder,"onUpdate:modelValue":a[0]||(a[0]=s=>E(o)?o.value=s:null),onKeyup:a[1]||(a[1]=$((...s)=>t(i)&&t(i)(...s),["enter"])),error:t(d).name,"error-text":t(d).name?e.$t(t(d).name):""},null,40,w),[[q,t(o)]])]),n("div",A,[n("md-outlined-button",{value:"cancel",onClick:g},u(e.$t("cancel")),1),n("md-filled-button",{value:"save",disabled:t(y),onClick:a[2]||(a[2]=(...s)=>t(i)&&t(i)(...s)),autofocus:""},u(e.$t("save")),9,K)])]))}}),H=B(T,[["__scopeId","data-v-3e402994"]]);export{H as E};
