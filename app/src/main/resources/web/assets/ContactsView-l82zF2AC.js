import{_ as Ze}from"./VPagination.vuevuetypescriptsetuptruelang-BmXTgLz3.js";import{m as ue,c as l,o as s,a as e,d as re,r as B,ar as Ve,as as O,at as et,t as c,n as _,v as h,k as t,p as tt,q as st,C as Ue,D as Le,u as xe,i as ae,au as ke,a9 as de,h as N,j as f,N as v,O as b,a6 as Ie,a1 as ge,ai as lt,V as ie,av as ot,e as nt,s as at,f as dt,E as it,F as ut,G as rt,g as ct,H as mt,I as pt,J as _t,x as S,ah as vt,K as ft,L as Ce,M as we,P as bt,Y as le,aw as ht,A as Ne,ax as yt,B as $t,R as kt,ay as gt,T as Ct,U as wt,W as Nt,X as qt,y as Tt,Z as Vt,az as qe,aa as Ut,$ as Lt,a0 as G,aA as xt}from"./index-Dohfv8Fq.js";import{_ as It}from"./call-outline-rounded-B_RMlFtN.js";import{_ as St}from"./contact-page-outline-rounded-Qv8WCmhL.js";import{_ as Mt,a as At}from"./SearchInput-NYtHFioA.js";import{u as Se,a as Me}from"./vee-validate-BgwL6Mce.js";import{u as Dt,a as Ft}from"./tags-TPcx2lPg.js";import{b as zt,u as Et,a as Bt}from"./key-events-COB8z-tk.js";import{u as Rt}from"./search-BGPnRmZx.js";import"./search-rounded-DoLKRhlL.js";import"./rss-feed-rounded-DCFCzJSD.js";const Kt={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function Ot(U,g){return s(),l("svg",Kt,g[0]||(g[0]=[e("path",{fill:"currentColor",d:"M3 21v-4.25L16.2 3.575q.3-.275.663-.425t.762-.15t.775.15t.65.45L20.425 5q.3.275.438.65T21 6.4q0 .4-.137.763t-.438.662L7.25 21zM17.6 7.8L19 6.4L17.6 5l-1.4 1.4z"},null,-1)]))}const Qt=ue({name:"material-symbols-edit",render:Ot}),jt={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function Gt(U,g){return s(),l("svg",jt,g[0]||(g[0]=[e("path",{fill:"currentColor",d:"M12 13.825L8.1 17.7q-.275.275-.687.288T6.7 17.7q-.275-.275-.275-.7t.275-.7l4.6-4.6q.15-.15.325-.213t.375-.062t.375.062t.325.213l4.6 4.6q.275.275.288.688t-.288.712q-.275.275-.7.275t-.7-.275zm0-6L8.1 11.7q-.275.275-.687.288T6.7 11.7q-.275-.275-.275-.7t.275-.7l4.6-4.6q.15-.15.325-.212T12 5.425t.375.063t.325.212l4.6 4.6q.275.275.288.688t-.288.712q-.275.275-.7.275t-.7-.275z"},null,-1)]))}const Ht=ue({name:"material-symbols-keyboard-double-arrow-up-rounded",render:Gt}),Wt={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function Jt(U,g){return s(),l("svg",Wt,g[0]||(g[0]=[e("path",{fill:"currentColor",d:"m12 16.175l3.9-3.875q.275-.275.688-.288t.712.288q.275.275.275.7t-.275.7l-4.6 4.6q-.15.15-.325.213t-.375.062t-.375-.062t-.325-.213l-4.6-4.6q-.275-.275-.288-.687T6.7 12.3q.275-.275.7-.275t.7.275zm0-6L15.9 6.3q.275-.275.688-.287t.712.287q.275.275.275.7t-.275.7l-4.6 4.6q-.15.15-.325.213t-.375.062t-.375-.062t-.325-.213L6.7 7.7q-.275-.275-.288-.687T6.7 6.3q.275-.275.7-.275t.7.275z"},null,-1)]))}const Pt=ue({name:"material-symbols-keyboard-double-arrow-down-rounded",render:Jt});function H(U){return Array.from({length:U},(g,q)=>q+1).concat(-1)}const Y={phoneNumberTypes:H(20),emailTypes:H(4),addressTypes:H(3),eventTypes:H(3),imTypes:H(8),websiteTypes:H(7)},Xt={slot:"headline"},Yt={slot:"content"},Zt=["error","error-text"],es={slot:"actions"},ts=re({__name:"PromptModal",props:{do:{type:Function,required:!0},title:{type:String,required:!0},value:{type:String}},setup(U){const{handleSubmit:g}=Se(),q=B(),d=U,{value:C,resetField:R,errorMessage:M}=Me("inputValue",Ve().required()),y=g(()=>{d.do(C.value??""),O()});return C.value=d.value,d.value||R(),(async()=>{var L;await et(),(L=q.value)==null||L.focus()})(),(L,T)=>(s(),l("md-dialog",null,[e("div",Xt,c(U.title),1),e("div",Yt,[_(e("md-outlined-text-field",{ref_key:"inputRef",ref:q,"onUpdate:modelValue":T[0]||(T[0]=w=>st(C)?C.value=w:null),class:"form-control",error:t(M),"error-text":t(M)?L.$t(t(M)):"",onKeyup:T[1]||(T[1]=tt((...w)=>t(y)&&t(y)(...w),["enter"]))},null,40,Zt),[[h,t(C)]])]),e("div",es,[e("md-outlined-button",{value:"cancel",onClick:T[2]||(T[2]=(...w)=>t(O)&&t(O)(...w))},c(L.$t("cancel")),1),e("md-filled-button",{value:"ok",autofocus:"",onClick:T[3]||(T[3]=(...w)=>t(y)&&t(y)(...w))},c(L.$t("ok")),1)])]))}}),ss=Ue(ts,[["__scopeId","data-v-6b1f087f"]]),ls={slot:"headline"},os={slot:"content"},ns={class:"form-label"},as={class:"form-row"},ds=["label"],is=["label"],us=["label"],rs={key:1,class:"v-center"},cs={key:0,class:"form-row"},ms=["label"],ps=["label"],_s={class:"v-center"},vs={class:"form-label"},fs=["onUpdate:modelValue","onChange"],bs=["value"],hs={slot:"headline"},ys=["onUpdate:modelValue","placeholder"],$s={class:"v-center"},ks=["onClick"],gs={key:1,class:"form-label"},Cs=["onUpdate:modelValue","onChange"],ws=["value"],Ns={slot:"headline"},qs=["onUpdate:modelValue","label"],Ts={class:"v-center"},Vs=["onClick"],Us={key:2,class:"form-label"},Ls=["onUpdate:modelValue","onChange"],xs=["value"],Is={slot:"headline"},Ss=["onUpdate:modelValue","label"],Ms={class:"v-center"},As=["onClick"],Ds={key:3,class:"form-label"},Fs=["onUpdate:modelValue","onChange"],zs=["value"],Es={slot:"headline"},Bs=["onUpdate:modelValue","placeholder"],Rs={class:"v-center"},Ks=["onClick"],Os={key:4,class:"form-label"},Qs=["onUpdate:modelValue","onChange"],js=["value"],Gs={slot:"headline"},Hs=["onUpdate:modelValue","placeholder"],Ws={class:"v-center"},Js=["onClick"],Ps={class:"form-row",style:{display:"block",position:"relative"}},Xs={class:"menu-items"},Ys=["onClick"],Zs={slot:"headline"},el=["onClick"],tl={slot:"headline"},sl=["onClick"],ll={slot:"headline"},ol=["onClick"],nl={slot:"headline"},al=["onClick"],dl={slot:"headline"},il={class:"form-row"},ul=["label"],rl={slot:"actions"},cl=["disabled"],ml={key:0,slot:"icon",indeterminate:""},Te=re({__name:"EditContactModal",props:{data:{type:Object},sources:{type:Array},done:{type:Function,required:!0}},setup(U){const{handleSubmit:g}=Se(),q=U,d=Le({firstName:"",middleName:"",lastName:"",prefix:"",suffix:"",nickname:"",organization:null,notes:"",source:"",starred:0,phoneNumbers:[],emails:[],addresses:[],websites:[],events:[],ims:[],groupIds:[]}),C=B(!1),{t:R}=xe(),{mutate:M,loading:y,onDone:L}=ae({document:de`
    mutation createContact($input: ContactInput!) {
      createContact(input: $input) {
        ...ContactFragment
      }
    }
    ${ke}
  `,options:{update:()=>{q.done()}}}),{mutate:T,loading:w,onDone:J}=ae({document:de`
    mutation updateContact($id: ID!, $input: ContactInput!) {
      updateContact(id: $id, input: $input) {
        ...ContactFragment
      }
    }
    ${ke}
  `,options:{update:()=>{q.done()}}}),{value:K,resetField:Q,errorMessage:ce}=Me("inputValue",Ve().test("required",o=>"valid.required",o=>!0).test("target-value",o=>"invalid_value",o=>!0)),A=(o,i)=>{o.splice(0,o.length);for(const I of i)o.push({label:I.label,value:I.value,type:I.type})};(()=>{const o=q.data;o?(Object.assign(d,{firstName:o.firstName,middleName:o.middleName,lastName:o.lastName,prefix:o.prefix,suffix:o.suffix,notes:o.notes}),A(d.phoneNumbers,o.phoneNumbers),A(d.emails,o.emails),A(d.addresses,o.addresses),A(d.websites,o.websites),A(d.events,o.events),A(d.ims,o.ims)):(Object.assign(d,{firstName:"",middleName:"",lastName:"",prefix:"",suffix:"",notes:"",phoneNumbers:[{type:2,value:"",label:""}],emails:[],addresses:[],websites:[],events:[],ims:[]}),Q())})();const D=o=>{o.type===-1&&ot(ss,{value:o.label,title:R("custom"),do:i=>{o.label=i}})},V=(o,i,I)=>i===-1?o.label?o.label:R("custom"):R(`contact.${I}.${i}`),F=(o,i)=>{i.push({type:1,value:"",label:""}),o.close()},x=(o,i)=>{o.splice(i,1)},Z=g(()=>{var o,i;q.data?T({id:q.data.id,input:d}):(d.source=((i=(o=q.sources)==null?void 0:o[0])==null?void 0:i.name)??"",M({input:d}))});return L(()=>{O()}),J(()=>{O()}),(o,i)=>{const I=Pt,ee=Ht,$=Ie,P=lt;return s(),l("md-dialog",null,[e("div",ls,c(U.data?o.$t("edit"):o.$t("create")),1),e("div",os,[e("label",ns,c(o.$t("name")),1),e("div",as,[_(e("md-outlined-text-field",{"onUpdate:modelValue":i[0]||(i[0]=a=>d.firstName=a),label:o.$t("first_name")},null,8,ds),[[h,d.firstName]]),C.value?_((s(),l("md-outlined-text-field",{key:0,"onUpdate:modelValue":i[1]||(i[1]=a=>d.middleName=a),label:o.$t("middle_name")},null,8,is)),[[h,d.middleName]]):N("",!0),_(e("md-outlined-text-field",{"onUpdate:modelValue":i[2]||(i[2]=a=>d.lastName=a),label:o.$t("last_name")},null,8,us),[[h,d.lastName]]),C.value?N("",!0):(s(),l("div",rs,[e("button",{class:"btn-icon",onClick:i[3]||(i[3]=a=>C.value=!0)},[i[10]||(i[10]=e("md-ripple",null,null,-1)),f(I)])]))]),C.value?(s(),l("div",cs,[_(e("md-outlined-text-field",{"onUpdate:modelValue":i[4]||(i[4]=a=>d.prefix=a),label:o.$t("prefix")},null,8,ms),[[h,d.prefix]]),_(e("md-outlined-text-field",{"onUpdate:modelValue":i[5]||(i[5]=a=>d.suffix=a),label:o.$t("suffix")},null,8,ps),[[h,d.suffix]]),e("div",_s,[e("button",{class:"btn-icon",onClick:i[6]||(i[6]=a=>C.value=!1)},[i[11]||(i[11]=e("md-ripple",null,null,-1)),f(ee)])])])):N("",!0),e("label",vs,c(o.$t("phone_number")),1),(s(!0),l(v,null,b(d.phoneNumbers,(a,k)=>(s(),l("div",{key:k,class:"form-row"},[_(e("md-outlined-select",{"onUpdate:modelValue":r=>a.type=r,class:"flex-2","menu-positioning":"fixed",onChange:r=>D(a)},[(s(!0),l(v,null,b(t(Y).phoneNumberTypes,r=>(s(),l("md-select-option",{key:r,value:r},[e("div",hs,c(V(a,r,"phone_number_type")),1)],8,bs))),128))],40,fs),[[h,a.type,void 0,{number:!0}]]),_(e("md-outlined-text-field",{"onUpdate:modelValue":r=>a.value=r,placeholder:o.$t("telephone"),class:"flex-3"},null,8,ys),[[h,a.value]]),e("div",$s,[d.phoneNumbers.length>1?(s(),l("button",{key:0,class:"btn-icon",onClick:r=>x(d.phoneNumbers,k)},[i[12]||(i[12]=e("md-ripple",null,null,-1)),f($)],8,ks)):N("",!0)])]))),128)),d.emails.length?(s(),l("label",gs,c(o.$t("email")),1)):N("",!0),(s(!0),l(v,null,b(d.emails,(a,k)=>(s(),l("div",{key:k,class:"form-row"},[_(e("md-outlined-select",{"onUpdate:modelValue":r=>a.type=r,class:"flex-2","menu-positioning":"fixed",onChange:r=>D(a)},[(s(!0),l(v,null,b(t(Y).emailTypes,r=>(s(),l("md-select-option",{key:r,value:r},[e("div",Ns,c(V(a,r,"email_type")),1)],8,ws))),128))],40,Cs),[[h,a.type,void 0,{number:!0}]]),_(e("md-outlined-text-field",{"onUpdate:modelValue":r=>a.value=r,label:o.$t("email"),class:"flex-3"},null,8,qs),[[h,a.value]]),e("div",Ts,[e("button",{class:"btn-icon",onClick:r=>x(d.emails,k)},[i[13]||(i[13]=e("md-ripple",null,null,-1)),f($)],8,Vs)])]))),128)),d.addresses.length?(s(),l("label",Us,c(o.$t("address")),1)):N("",!0),(s(!0),l(v,null,b(d.addresses,(a,k)=>(s(),l("div",{key:k,class:"form-row"},[_(e("md-outlined-select",{"onUpdate:modelValue":r=>a.type=r,class:"flex-2","menu-positioning":"fixed",onChange:r=>D(a)},[(s(!0),l(v,null,b(t(Y).addressTypes,r=>(s(),l("md-select-option",{key:r,value:r},[e("div",Is,c(V(a,r,"address_type")),1)],8,xs))),128))],40,Ls),[[h,a.type,void 0,{number:!0}]]),_(e("md-outlined-text-field",{"onUpdate:modelValue":r=>a.value=r,label:o.$t("address"),class:"flex-3"},null,8,Ss),[[h,a.value]]),e("div",Ms,[e("button",{class:"btn-icon",onClick:r=>x(d.addresses,k)},[i[14]||(i[14]=e("md-ripple",null,null,-1)),f($)],8,As)])]))),128)),d.websites.length?(s(),l("label",Ds,c(o.$t("website")),1)):N("",!0),(s(!0),l(v,null,b(d.websites,(a,k)=>(s(),l("div",{key:k,class:"form-row"},[_(e("md-outlined-select",{"onUpdate:modelValue":r=>a.type=r,class:"flex-2","menu-positioning":"fixed",onChange:r=>D(a)},[(s(!0),l(v,null,b(t(Y).websiteTypes,r=>(s(),l("md-select-option",{key:r,value:r},[e("div",Es,c(V(a,r,"website_type")),1)],8,zs))),128))],40,Fs),[[h,a.type,void 0,{number:!0}]]),_(e("md-outlined-text-field",{"onUpdate:modelValue":r=>a.value=r,placeholder:o.$t("website"),class:"flex-3"},null,8,Bs),[[h,a.value]]),e("div",Rs,[e("button",{class:"btn-icon",onClick:r=>x(d.websites,k)},[i[15]||(i[15]=e("md-ripple",null,null,-1)),f($)],8,Ks)])]))),128)),d.ims.length?(s(),l("label",Os,c(o.$t("im")),1)):N("",!0),(s(!0),l(v,null,b(d.ims,(a,k)=>(s(),l("div",{key:k,class:"form-row"},[_(e("md-outlined-select",{"onUpdate:modelValue":r=>a.type=r,class:"flex-2","menu-positioning":"fixed",onChange:r=>D(a)},[(s(!0),l(v,null,b(t(Y).imTypes,r=>(s(),l("md-select-option",{key:r,value:r},[e("div",Gs,c(V(a,r,"im_type")),1)],8,js))),128))],40,Qs),[[h,a.type,void 0,{number:!0}]]),_(e("md-outlined-text-field",{"onUpdate:modelValue":r=>a.value=r,placeholder:o.$t("im"),class:"flex-3"},null,8,Hs),[[h,a.value]]),e("div",Ws,[e("button",{class:"btn-icon",onClick:r=>x(d.ims,k)},[i[16]||(i[16]=e("md-ripple",null,null,-1)),f($)],8,Js)])]))),128)),e("div",Ps,[f(P,{placement:"auto"},{content:ge(a=>[e("div",Xs,[e("md-menu-item",{onClick:()=>F(a,d.phoneNumbers)},[e("div",Zs,c(o.$t("phone_number")),1)],8,Ys),e("md-menu-item",{onClick:()=>F(a,d.emails)},[e("div",tl,c(o.$t("email")),1)],8,el),e("md-menu-item",{onClick:()=>F(a,d.addresses)},[e("div",ll,c(o.$t("address")),1)],8,sl),e("md-menu-item",{onClick:()=>F(a,d.websites)},[e("div",nl,c(o.$t("website")),1)],8,ol),e("md-menu-item",{onClick:()=>F(a,d.ims)},[e("div",dl,c(o.$t("im")),1)],8,al)])]),default:ge(()=>[e("div",null,[e("md-outlined-button",null,c(o.$t("add_field")),1)])]),_:1})]),e("div",il,[_(e("md-outlined-text-field",{"onUpdate:modelValue":i[7]||(i[7]=a=>d.notes=a),type:"textarea",label:o.$t("notes"),rows:"3"},null,8,ul),[[h,d.notes]])])]),e("div",rl,[e("md-outlined-button",{value:"cancel",onClick:i[8]||(i[8]=(...a)=>t(O)&&t(O)(...a))},c(o.$t("cancel")),1),e("md-filled-button",{value:"save",disabled:t(y)||t(w),autofocus:"",onClick:i[9]||(i[9]=(...a)=>t(Z)&&t(Z)(...a))},[t(y)||t(w)?(s(),l("md-circular-progress",ml)):N("",!0),ie(" "+c(o.$t("save")),1)],8,cl)])])}}}),pl={class:"top-app-bar"},_l=["checked","indeterminate"],vl={class:"title"},fl={key:0},bl={key:1},hl={class:"btn-icon",style:{display:"none"}},yl={class:"actions"},$l={class:"scroll-content"},kl=["onClick","onMouseover"],gl={class:"start"},Cl=["checked","onClick"],wl=["checked","onClick"],Nl={class:"number"},ql=["src"],Tl={class:"title"},Vl={class:"subtitle"},Ul={key:0},Ll={class:"info"},xl={class:"list-unstyled"},Il={key:0,indeterminate:"",class:"spinner-sm"},Sl=["onClick"],Ml={class:"actions"},Al=["onClick"],Dl=["onClick"],Fl=["onClick"],zl={class:"time"},El={class:"start"},Bl={class:"number"},Rl={key:0,class:"no-data-placeholder"},W=50,Kl=re({__name:"ContactsView",setup(U){var $e;const g=nt(),{app:q}=at(dt()),d=B([]),{t:C}=xe(),{parseQ:R}=Rt(),M=Le({tagIds:[]}),y=it.CONTACT,L=ut(),T=L.query,w=B(parseInt((($e=T.page)==null?void 0:$e.toString())??"1")),J=B([]),K=B(""),{tags:Q,fetch:ce}=Dt(y),{addToTags:A}=Ft(y,Q),{deleteItems:D}=zt(xt,()=>{i(),j(),G.emit("refetch_tags",y)}),{selectedIds:V,allChecked:F,realAllChecked:x,selectRealAll:Z,allCheckedAlertVisible:o,clearSelection:i,toggleAllChecked:I,toggleSelect:ee,total:$,checked:P,shiftEffectingIds:a,handleItemClick:k,handleMouseOver:r,selectAll:Ae,shouldSelect:De}=Et(d),me=n=>{const m=L.query.q;Tt(g,m?`/contacts?page=${n}&q=${m}`:`/contacts?page=${n}`)},{keyDown:pe,keyUp:_e}=Bt($,W,w,Ae,i,me,()=>{D(V.value,x.value,$.value,K.value)}),{loading:oe,fetch:j}=rt({handle:(n,m)=>{m?Ne(C(m),"error"):n&&(d.value=n.contacts,$.value=n.contactCount)},document:ht,variables:()=>({offset:(w.value-1)*W,limit:W,query:K.value})});ct({handle:(n,m)=>{m?Ne(C(m),"error"):n&&(J.value=n.contactSources)},document:yt,variables:null});const ve=n=>{n.type===y&&(i(),j())},fe=n=>{n.type===y&&j()};function Fe(n){le(Vt,{type:y,tags:Q.value,item:{key:n.id,title:"",size:0},selected:Q.value.filter(m=>n.tags.some(z=>z.id===m.id))})}function be(n){let m="";qe(n.firstName)||qe(n.lastName)?m=`${n.lastName}${n.middleName}${n.firstName}`:m=[n.firstName,n.middleName,n.lastName].filter(se=>se).join(" ");const z=n.suffix?`, ${n.suffix}`:"",te=`${n.prefix} ${m} ${z}`.trim();return te||(n.emails.length?n.emails[0].value:"")}function ze(n){le(Ut,{id:n.id,name:be(n),gql:de`
      mutation DeleteContact($query: String!) {
        deleteContacts(query: $query)
      }
    `,variables:()=>({query:`ids:${n.id}`}),typeName:"Contact",done:()=>{$.value--,n.tags.length&&G.emit("refetch_tags",y)}})}function Ee(n){le(Te,{data:n,sources:J,done:j})}function Be(){le(Te,{data:null,sources:J,done:j})}function Re(n){return n?`/contacts?q=${n}`:"/contacts"}const he=B(""),ye=B(0),{mutate:Ke,loading:Oe}=ae({document:$t});function Qe(n,m,z){he.value=n,ye.value=z,Ke({number:m})}return mt(()=>{var n;K.value=Lt(((n=T.q)==null?void 0:n.toString())??""),R(M,K.value),ce(),j(),G.on("item_tags_updated",fe),G.on("items_tags_updated",ve),window.addEventListener("keydown",pe),window.addEventListener("keyup",_e)}),pt(()=>{G.off("item_tags_updated",fe),G.off("items_tags_updated",ve),window.removeEventListener("keydown",pe),window.removeEventListener("keyup",_e)}),(n,m)=>{const z=Ie,te=vt,se=ft,je=Mt,Ge=At,He=kt,We=St,Je=Ct,Pe=It,Xe=Qt,Ye=Ze,E=_t("tooltip");return s(),l(v,null,[e("div",pl,[e("md-checkbox",{"touch-target":"wrapper",checked:t(F),indeterminate:!t(F)&&t(P),onChange:m[0]||(m[0]=(...p)=>t(I)&&t(I)(...p))},null,40,_l),e("div",vl,[t(V).length?(s(),l("span",fl,c(n.$t("x_selected",{count:t(x)?t($).toLocaleString():t(V).length.toLocaleString()})),1)):(s(),l("span",bl,c(n.$t("page_title.contacts"))+" ("+c(t($).toLocaleString())+")",1)),t(P)?(s(),l(v,{key:2},[_((s(),l("button",{class:"btn-icon",onClick:m[1]||(m[1]=S(p=>t(D)(t(V),t(x),t($),K.value),["stop"]))},[m[3]||(m[3]=e("md-ripple",null,null,-1)),f(z)])),[[E,n.$t("delete")]]),_((s(),l("button",hl,[m[4]||(m[4]=e("md-ripple",null,null,-1)),f(te)])),[[E,n.$t("download")]]),_((s(),l("button",{class:"btn-icon",onClick:m[2]||(m[2]=S(p=>t(A)(t(V),t(x),K.value),["stop"]))},[m[5]||(m[5]=e("md-ripple",null,null,-1)),f(se)])),[[E,n.$t("add_to_tags")]])],64)):N("",!0)]),e("div",yl,[f(je,{filter:M,tags:t(Q),"get-url":Re},null,8,["filter","tags"]),e("md-outlined-button",{class:"btn-sm",onClick:Be},c(n.$t("create")),1)])]),f(Ge,{limit:W,total:t($),"all-checked-alert-visible":t(o),"real-all-checked":t(x),"select-real-all":t(Z),"clear-selection":t(i)},null,8,["total","all-checked-alert-visible","real-all-checked","select-real-all","clear-selection"]),e("div",$l,[e("div",{class:we(["contact-list",{"select-mode":t(P)}])},[(s(!0),l(v,null,b(d.value,(p,X)=>(s(),l("section",{key:p.id,class:we(["contact-item selectable-card",{selected:t(V).includes(p.id),selecting:t(a).includes(p.id)}]),onClick:S(u=>t(k)(u,p,X,()=>{}),["stop"]),onMouseover:u=>t(r)(u,X)},[e("div",gl,[t(a).includes(p.id)?(s(),l("md-checkbox",{key:0,class:"checkbox","touch-target":"wrapper",checked:t(De),onClick:S(u=>t(ee)(u,p,X),["stop"])},null,8,Cl)):(s(),l("md-checkbox",{key:1,class:"checkbox","touch-target":"wrapper",checked:t(V).includes(p.id),onClick:S(u=>t(ee)(u,p,X),["stop"])},null,8,wl)),e("span",Nl,[f(He,{id:X+1,raw:p},null,8,["id","raw"])])]),p.thumbnailId?(s(),l("img",{key:0,class:"image",src:t(gt)(p.thumbnailId),width:"50"},null,8,ql)):(s(),Ce(We,{key:1,class:"image"})),e("div",Tl,c(be(p)),1),e("div",Vl,[p.notes?(s(),l("span",Ul,c(p.notes),1)):N("",!0),f(Je,{tags:p.tags,type:t(y),"only-links":!0},null,8,["tags","type"])]),e("div",Ll,[e("ul",xl,[(s(!0),l(v,null,b(p.phoneNumbers,(u,ne)=>(s(),l("li",{key:ne,class:"phone-number"},[ie(c(u.type>0?n.$t(`contact.phone_number_type.${u.type}`):u.label)+" "+c(u.normalizedNumber||u.value)+" ",1),t(Oe)&&he.value===p.id&&ye.value===ne?(s(),l("md-circular-progress",Il)):_((s(),l("button",{key:1,class:"btn-icon sm",onClick:S(Ol=>Qe(p.id,u.normalizedNumber||u.value,ne),["stop"])},[m[6]||(m[6]=e("md-ripple",null,null,-1)),f(Pe)],8,Sl)),[[E,n.$t("make_a_phone_call")]])]))),128)),(s(!0),l(v,null,b(p.emails,u=>(s(),l("li",{key:u.type+u.value},c(u.type>0?n.$t(`contact.email_type.${u.type}`):u.label)+" "+c(u.value),1))),128)),(s(!0),l(v,null,b(p.addresses,u=>(s(),l("li",{key:u.type+u.value},c(u.type>0?n.$t(`contact.address_type.${u.type}`):u.label)+" "+c(u.value),1))),128)),(s(!0),l(v,null,b(p.websites,u=>(s(),l("li",{key:u.type+u.value},c(u.type>0?n.$t(`contact.website_type.${u.type}`):u.label)+" "+c(u.value),1))),128)),(s(!0),l(v,null,b(p.ims,u=>(s(),l("li",{key:u.type+u.value},c(u.type>0?n.$t(`contact.im_type.${u.type}`):u.label)+" "+c(u.value),1))),128)),(s(!0),l(v,null,b(p.events,u=>(s(),l("li",{key:u.type+u.value},c(u.type>0?n.$t(`contact.event_type.${u.type}`):u.label)+" "+c(u.value),1))),128))])]),e("div",Ml,[_((s(),l("button",{class:"btn-icon sm",onClick:S(u=>ze(p),["stop"])},[m[7]||(m[7]=e("md-ripple",null,null,-1)),f(z)],8,Al)),[[E,n.$t("delete")]]),_((s(),l("button",{class:"btn-icon sm",onClick:S(u=>Ee(p),["stop"])},[m[8]||(m[8]=e("md-ripple",null,null,-1)),f(Xe)],8,Dl)),[[E,n.$t("edit")]]),_((s(),l("button",{class:"btn-icon sm",onClick:S(u=>Fe(p),["stop"])},[m[9]||(m[9]=e("md-ripple",null,null,-1)),f(se)],8,Fl)),[[E,n.$t("add_to_tags")]])]),e("div",zl,[_((s(),l("span",null,[ie(c(t(Nt)(p.updatedAt)),1)])),[[E,t(wt)(p.updatedAt)]])])],42,kl))),128)),t(oe)&&d.value.length===0?(s(),l(v,{key:0},b(20,p=>e("section",{key:p,class:"contact-item selectable-card-skeleton"},[e("div",El,[m[10]||(m[10]=e("div",{class:"checkbox"},[e("div",{class:"skeleton-checkbox"})],-1)),e("span",Bl,c(p),1)]),m[11]||(m[11]=qt('<div class="image" data-v-50443cad><div class="skeleton-image" data-v-50443cad></div></div><div class="title" data-v-50443cad><div class="skeleton-text skeleton-title" data-v-50443cad></div></div><div class="subtitle" data-v-50443cad><div class="skeleton-text skeleton-subtitle" data-v-50443cad></div></div><div class="info" data-v-50443cad><div class="skeleton-text skeleton-info" data-v-50443cad></div></div><div class="actions" data-v-50443cad><div class="skeleton-text skeleton-actions" data-v-50443cad></div></div><div class="time" data-v-50443cad><div class="skeleton-text skeleton-time" data-v-50443cad></div></div>',6))])),64)):N("",!0)],2),!t(oe)&&d.value.length===0?(s(),l("div",Rl,c(n.$t(t(bt)(t(oe),t(q).permissions,"WRITE_CONTACTS"))),1)):N("",!0),t($)>W?(s(),Ce(Ye,{key:1,page:w.value,go:me,total:t($),limit:W},null,8,["page","total"])):N("",!0)])],64)}}}),to=Ue(Kl,[["__scopeId","data-v-50443cad"]]);export{to as default};
