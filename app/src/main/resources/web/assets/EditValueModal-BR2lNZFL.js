import{d as b,r as k,c5 as S,ar as q,ac as x,as as p,c as v,o as f,a as n,t as u,n as C,v as F,k as e,p as M,q as E,h as $,V as B,C as D}from"./index-Dohfv8Fq.js";import{u as N}from"./vee-validate-BgwL6Mce.js";const R={slot:"headline"},T={slot:"content"},w=["placeholder","error","error-text"],K={slot:"actions"},A=["disabled"],I={key:0,slot:"icon",indeterminate:""},U=b({__name:"EditValueModal",props:{getVariables:{type:Function,required:!0},title:{type:String,required:!0},placeholder:{type:String},value:{type:String},mutation:{type:Function,required:!0},done:{type:Function}},setup(r){const c=k(),s=r,{errors:d,handleSubmit:h,defineField:y}=N({validationSchema:S({name:q().required()}),initialValues:{name:s.value??""}}),[o]=y("name"),{mutate:V,loading:m,onDone:_}=s.mutation();o.value=s.value??"";function g(){p()}x(async()=>{setTimeout(()=>{var t;(t=c.value)==null||t.focus()},100)});const l=h(()=>{V(s.getVariables(o.value??""))});return _(()=>{var t;(t=s.done)==null||t.call(this,o.value),p()}),(t,a)=>(f(),v("md-dialog",null,[n("div",R,u(r.title),1),n("div",T,[C(n("md-outlined-text-field",{ref_key:"inputRef",ref:c,"onUpdate:modelValue":a[0]||(a[0]=i=>E(o)?o.value=i:null),placeholder:r.placeholder,error:e(d).name,"error-text":e(d).name?t.$t(e(d).name):"",onKeyup:a[1]||(a[1]=M((...i)=>e(l)&&e(l)(...i),["enter"]))},null,40,w),[[F,e(o)]])]),n("div",K,[n("md-outlined-button",{value:"cancel",onClick:g},u(t.$t("cancel")),1),n("md-filled-button",{value:"save",disabled:e(m),autofocus:"",onClick:a[2]||(a[2]=(...i)=>e(l)&&e(l)(...i))},[e(m)?(f(),v("md-circular-progress",I)):$("",!0),B(u(t.$t("save")),1)],8,A)])]))}}),G=D(U,[["__scopeId","data-v-eeec48b1"]]);export{G as E};
