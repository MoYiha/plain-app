import{_ as g}from"./LeftSidebar.vuevuetypescriptsetuptruelang-CF3KQ8wQ.js";import{_ as C}from"./TagFilter.vuevuetypescriptsetuptruelang-DA-dvEFf.js";import{d as S,u as y,s as k,i as B,I as N,h as T,K as w,k as I,v as V,q as l,aB as $,a5 as u,$ as b,o as p,V as q,t as c,a as n,w as A,N as L,m,c as Q,e as R,p as x,f as z}from"./index-BxNI00MG.js";import{u as M}from"./search-D1_YTViL.js";import"./sidebar-JKGKmRjc.js";import"./more-vert-rfLdxqnE.js";import"./EditValueModal-DZMNikfg.js";import"./vee-validate.esm-9czZ1sUw.js";const D={class:"nav"},E={class:"title"},G={key:0,class:"count"},X=S({__name:"ContactsSidebar",setup(K){const _=y(),{counter:a}=k(B()),{parseQ:d}=M(),s=N({tagIds:[]}),o=T(""),{fetch:f}=w({handle:t=>{t&&(a.value.contacts=t.total)},document:$,variables:()=>({}),appApi:!0});function r(){var e;const t=u.currentRoute.value,i=b(((e=t.query.q)==null?void 0:e.toString())??"");d(s,i),o.value=s.tagIds.length===1?s.tagIds[0]:"",f()}r(),I(()=>u.currentRoute.value,()=>{r()});function v(){z(_,"/contacts")}return(t,i)=>{const e=C,h=g;return p(),V(h,null,{title:l(()=>[q(c(t.$t("page_title.contacts")),1)]),body:l(()=>[n("ul",D,[n("li",{onClick:A(v,["prevent"]),class:L({active:!o.value})},[n("span",E,c(t.$t("all")),1),m(a).contacts>=0?(p(),Q("span",G,c(m(a).contacts.toLocaleString()),1)):R("",!0)],2)]),x(e,{type:"CONTACT",selected:o.value},null,8,["selected"])]),_:1})}}});export{X as default};
