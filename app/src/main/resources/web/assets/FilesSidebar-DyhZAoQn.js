import{_ as w}from"./LeftSidebar.vuevuetypescriptsetuptruelang-CbCF_-pF.js";import{d as y,e as N,s as R,f as x,u as D,D as F,r as h,aE as E,w as L,L as M,o as c,a1 as _,a2 as m,$ as T,bp as V,a as r,c as v,x as b,M as k,k as $,F as Q,t as i,O as z,N as A,V as H,y as S,a4 as I,a5 as O}from"./index-Dohfv8Fq.js";const j={class:"nav"},G={class:"title"},J=["onClick"],K={class:"title"},Z=y({__name:"FilesSidebar",setup(U){const u=Q(),p=N(),{app:s}=R(x()),{t:n}=D(),{parseQ:g}=V(),l=F({showHidden:!1,linkName:"",text:"",parent:""}),B=h(""),d=h(!1);function C(){S(p,"/files/recent")}const P=E(()=>{const e=[{name:"internal",label:n("internal_storage"),path:s.value.internalStoragePath}];return s.value.sdcardPath&&e.push({name:"sdcard",label:n("sdcard"),path:s.value.sdcardPath}),s.value.usbDiskPaths.forEach((t,a)=>{e.push({name:`usb${a+1}`,label:`${n("usb_storage")} ${a+1}`,path:t})}),e.push({name:"app",label:n("app_name"),path:s.value.externalFilesDir}),e});function q(e){const t=I([{name:"parent",op:"",value:e.path},{name:"link_name",op:"",value:e.name}]);S(p,`/files?q=${O(t)}`)}function f(){var a;const e=m.currentRoute.value;if(e.path==="/files/recent"){d.value=!0;return}d.value=!1;const t=T(((a=e.query.q)==null?void 0:a.toString())??"");g(l,t),B.value=l.parent}return f(),L(()=>m.currentRoute.value.fullPath,()=>{f()}),(e,t)=>{const a=w;return c(),M(a,null,{title:_(()=>[H(i(e.$t("page_title.files")),1)]),body:_(()=>[r("ul",j,[r("li",{class:k({active:$(u).path==="/files/recent"}),onClick:b(C,["prevent"])},[r("span",G,i(e.$t("recents")),1)],2),(c(!0),v(A,null,z(P.value,o=>(c(),v("li",{class:k({active:$(u).path==="/files"&&o.name===l.linkName}),onClick:b(W=>q(o),["prevent"])},[r("span",K,i(o.label),1)],10,J))),256))])]),_:1})}}});export{Z as default};
