import{_ as Ze}from"./VPagination.vuevuetypescriptsetuptruelang-BzK-L-Ey.js";import{m as oe,c as s,o as t,a as e,e as re,at as Ve,r as B,au as Ue,av as xe,aw as K,ax as et,t as c,p as _,v as y,l,q as tt,x as lt,F as Le,G as Se,u as Ie,i as de,ay as ke,a8 as ie,j as q,k as f,Q as v,R as h,a5 as Me,a2 as ge,ai as st,X as ue,az as ot,f as nt,s as at,g as dt,H as it,I as ut,J as rt,h as ct,K as mt,L as pt,M as _t,y as I,ah as vt,N as ft,O as Ce,P as we,S as bt,Z as se,aA as ht,D as qe,aB as yt,E as $t,aC as kt,V as gt,W as Ct,Y as wt,d as qt,z as Tt,$ as Nt,aD as Te,a9 as Vt,a0 as Ut,a1 as G,aE as xt}from"./index-BaWXnnLZ.js";import{_ as Lt}from"./call-outline-rounded-BHND40zM.js";import{_ as St}from"./FieldId.vuevuetypescriptsetuptruelang-eOYRhci9.js";import{_ as It,a as Mt}from"./SearchInput-Cq5_Bnx2.js";import{u as Dt,a as zt}from"./tags-zkWLe_qU.js";import{b as At,u as Ft,a as Et}from"./key-events-B0Jq4BkE.js";import{u as Bt}from"./search-brnXFXDL.js";import"./search-rounded-Dmop53vQ.js";const Rt={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function Qt(U,b){return t(),s("svg",Rt,b[0]||(b[0]=[e("path",{fill:"currentColor",d:"M3 21v-4.25L16.2 3.575q.3-.275.663-.425t.762-.15t.775.15t.65.45L20.425 5q.3.275.438.65T21 6.4q0 .4-.137.763t-.438.662L7.25 21zM17.6 7.8L19 6.4L17.6 5l-1.4 1.4z"},null,-1)]))}const Kt=oe({name:"material-symbols-edit",render:Qt}),Ot={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function jt(U,b){return t(),s("svg",Ot,b[0]||(b[0]=[e("path",{fill:"currentColor",d:"M12 14q.825 0 1.413-.587T14 12t-.587-1.412T12 10t-1.412.588T10 12t.588 1.413T12 14m-4 4h8v-.575q0-.6-.325-1.1t-.9-.75q-.65-.275-1.338-.425T12 15t-1.437.15t-1.338.425q-.575.25-.9.75T8 17.425zm10 4H6q-.825 0-1.412-.587T4 20V4q0-.825.588-1.412T6 2h7.175q.4 0 .763.15t.637.425l4.85 4.85q.275.275.425.638t.15.762V20q0 .825-.587 1.413T18 22m0-2V8.85L13.15 4H6v16zM6 20V4z"},null,-1)]))}const Gt=oe({name:"material-symbols-contact-page-outline-rounded",render:jt}),Ht={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function Wt(U,b){return t(),s("svg",Ht,b[0]||(b[0]=[e("path",{fill:"currentColor",d:"M12 13.825L8.1 17.7q-.275.275-.687.288T6.7 17.7q-.275-.275-.275-.7t.275-.7l4.6-4.6q.15-.15.325-.213t.375-.062t.375.062t.325.213l4.6 4.6q.275.275.288.688t-.288.712q-.275.275-.7.275t-.7-.275zm0-6L8.1 11.7q-.275.275-.687.288T6.7 11.7q-.275-.275-.275-.7t.275-.7l4.6-4.6q.15-.15.325-.212T12 5.425t.375.063t.325.212l4.6 4.6q.275.275.288.688t-.288.712q-.275.275-.7.275t-.7-.275z"},null,-1)]))}const Jt=oe({name:"material-symbols-keyboard-double-arrow-up-rounded",render:Wt}),Pt={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function Xt(U,b){return t(),s("svg",Pt,b[0]||(b[0]=[e("path",{fill:"currentColor",d:"m12 16.175l3.9-3.875q.275-.275.688-.288t.712.288q.275.275.275.7t-.275.7l-4.6 4.6q-.15.15-.325.213t-.375.062t-.375-.062t-.325-.213l-4.6-4.6q-.275-.275-.288-.687T6.7 12.3q.275-.275.7-.275t.7.275zm0-6L15.9 6.3q.275-.275.688-.287t.712.287q.275.275.275.7t-.275.7l-4.6 4.6q-.15.15-.325.213t-.375.062t-.375-.062t-.325-.213L6.7 7.7q-.275-.275-.288-.687T6.7 6.3q.275-.275.7-.275t.7.275z"},null,-1)]))}const Yt=oe({name:"material-symbols-keyboard-double-arrow-down-rounded",render:Xt});function H(U){return Array.from({length:U},(b,T)=>T+1).concat(-1)}const Y={phoneNumberTypes:H(20),emailTypes:H(4),addressTypes:H(3),eventTypes:H(3),imTypes:H(8),websiteTypes:H(7)},Zt={slot:"headline"},el={slot:"content"},tl=["error","error-text"],ll={slot:"actions"},sl=re({__name:"PromptModal",props:{do:{type:Function,required:!0},title:{type:String,required:!0},value:{type:String}},setup(U){const{handleSubmit:b}=Ve(),T=B(),d=U,{value:C,resetField:R,errorMessage:M}=Ue("inputValue",xe().required()),$=b(()=>{d.do(C.value??""),K()});return C.value=d.value,d.value||R(),(async()=>{var x;await et(),(x=T.value)==null||x.focus()})(),(x,N)=>(t(),s("md-dialog",null,[e("div",Zt,c(U.title),1),e("div",el,[_(e("md-outlined-text-field",{ref_key:"inputRef",ref:T,"onUpdate:modelValue":N[0]||(N[0]=w=>lt(C)?C.value=w:null),class:"form-control",error:l(M),"error-text":l(M)?x.$t(l(M)):"",onKeyup:N[1]||(N[1]=tt((...w)=>l($)&&l($)(...w),["enter"]))},null,40,tl),[[y,l(C)]])]),e("div",ll,[e("md-outlined-button",{value:"cancel",onClick:N[2]||(N[2]=(...w)=>l(K)&&l(K)(...w))},c(x.$t("cancel")),1),e("md-filled-button",{value:"ok",autofocus:"",onClick:N[3]||(N[3]=(...w)=>l($)&&l($)(...w))},c(x.$t("ok")),1)])]))}}),ol=Le(sl,[["__scopeId","data-v-6b1f087f"]]),nl={slot:"headline"},al={slot:"content"},dl={class:"form-label"},il={class:"form-row"},ul=["label"],rl=["label"],cl=["label"],ml={key:1,class:"v-center"},pl={key:0,class:"form-row"},_l=["label"],vl=["label"],fl={class:"v-center"},bl={class:"form-label"},hl=["onUpdate:modelValue","onChange"],yl=["value"],$l={slot:"headline"},kl=["onUpdate:modelValue","placeholder"],gl={class:"v-center"},Cl=["onClick"],wl={key:1,class:"form-label"},ql=["onUpdate:modelValue","onChange"],Tl=["value"],Nl={slot:"headline"},Vl=["onUpdate:modelValue","label"],Ul={class:"v-center"},xl=["onClick"],Ll={key:2,class:"form-label"},Sl=["onUpdate:modelValue","onChange"],Il=["value"],Ml={slot:"headline"},Dl=["onUpdate:modelValue","label"],zl={class:"v-center"},Al=["onClick"],Fl={key:3,class:"form-label"},El=["onUpdate:modelValue","onChange"],Bl=["value"],Rl={slot:"headline"},Ql=["onUpdate:modelValue","placeholder"],Kl={class:"v-center"},Ol=["onClick"],jl={key:4,class:"form-label"},Gl=["onUpdate:modelValue","onChange"],Hl=["value"],Wl={slot:"headline"},Jl=["onUpdate:modelValue","placeholder"],Pl={class:"v-center"},Xl=["onClick"],Yl={class:"form-row",style:{display:"block",position:"relative"}},Zl={class:"menu-items"},es=["onClick"],ts={slot:"headline"},ls=["onClick"],ss={slot:"headline"},os=["onClick"],ns={slot:"headline"},as=["onClick"],ds={slot:"headline"},is=["onClick"],us={slot:"headline"},rs={class:"form-row"},cs=["label"],ms={slot:"actions"},ps=["disabled"],_s={key:0,slot:"icon",indeterminate:""},Ne=re({__name:"EditContactModal",props:{data:{type:Object},sources:{type:Array},done:{type:Function,required:!0}},setup(U){const{handleSubmit:b}=Ve(),T=U,d=Se({firstName:"",middleName:"",lastName:"",prefix:"",suffix:"",nickname:"",organization:null,notes:"",source:"",starred:0,phoneNumbers:[],emails:[],addresses:[],websites:[],events:[],ims:[],groupIds:[]}),C=B(!1),{t:R}=Ie(),{mutate:M,loading:$,onDone:x}=de({document:ie`
    mutation createContact($input: ContactInput!) {
      createContact(input: $input) {
        ...ContactFragment
      }
    }
    ${ke}
  `,options:{update:()=>{T.done()}}}),{mutate:N,loading:w,onDone:J}=de({document:ie`
    mutation updateContact($id: ID!, $input: ContactInput!) {
      updateContact(id: $id, input: $input) {
        ...ContactFragment
      }
    }
    ${ke}
  `,options:{update:()=>{T.done()}}}),{value:Q,resetField:O,errorMessage:ce}=Ue("inputValue",xe().test("required",o=>"valid.required",o=>!0).test("target-value",o=>"invalid_value",o=>!0)),D=(o,i)=>{o.splice(0,o.length);for(const S of i)o.push({label:S.label,value:S.value,type:S.type})};(()=>{const o=T.data;o?(Object.assign(d,{firstName:o.firstName,middleName:o.middleName,lastName:o.lastName,prefix:o.prefix,suffix:o.suffix,notes:o.notes}),D(d.phoneNumbers,o.phoneNumbers),D(d.emails,o.emails),D(d.addresses,o.addresses),D(d.websites,o.websites),D(d.events,o.events),D(d.ims,o.ims)):(Object.assign(d,{firstName:"",middleName:"",lastName:"",prefix:"",suffix:"",notes:"",phoneNumbers:[{type:2,value:"",label:""}],emails:[],addresses:[],websites:[],events:[],ims:[]}),O())})();const z=o=>{o.type===-1&&ot(ol,{value:o.label,title:R("custom"),do:i=>{o.label=i}})},V=(o,i,S)=>i===-1?o.label?o.label:R("custom"):R(`contact.${S}.${i}`),A=(o,i)=>{i.push({type:1,value:"",label:""}),o.close()},L=(o,i)=>{o.splice(i,1)},Z=b(()=>{var o,i;T.data?N({id:T.data.id,input:d}):(d.source=((i=(o=T.sources)==null?void 0:o[0])==null?void 0:i.name)??"",M({input:d}))});return x(()=>{K()}),J(()=>{K()}),(o,i)=>{const S=Yt,ee=Jt,k=Me,P=st;return t(),s("md-dialog",null,[e("div",nl,c(U.data?o.$t("edit"):o.$t("create")),1),e("div",al,[e("label",dl,c(o.$t("name")),1),e("div",il,[_(e("md-outlined-text-field",{"onUpdate:modelValue":i[0]||(i[0]=a=>d.firstName=a),label:o.$t("first_name")},null,8,ul),[[y,d.firstName]]),C.value?_((t(),s("md-outlined-text-field",{key:0,"onUpdate:modelValue":i[1]||(i[1]=a=>d.middleName=a),label:o.$t("middle_name")},null,8,rl)),[[y,d.middleName]]):q("",!0),_(e("md-outlined-text-field",{"onUpdate:modelValue":i[2]||(i[2]=a=>d.lastName=a),label:o.$t("last_name")},null,8,cl),[[y,d.lastName]]),C.value?q("",!0):(t(),s("div",ml,[e("button",{class:"btn-icon",onClick:i[3]||(i[3]=a=>C.value=!0)},[i[10]||(i[10]=e("md-ripple",null,null,-1)),f(S)])]))]),C.value?(t(),s("div",pl,[_(e("md-outlined-text-field",{"onUpdate:modelValue":i[4]||(i[4]=a=>d.prefix=a),label:o.$t("prefix")},null,8,_l),[[y,d.prefix]]),_(e("md-outlined-text-field",{"onUpdate:modelValue":i[5]||(i[5]=a=>d.suffix=a),label:o.$t("suffix")},null,8,vl),[[y,d.suffix]]),e("div",fl,[e("button",{class:"btn-icon",onClick:i[6]||(i[6]=a=>C.value=!1)},[i[11]||(i[11]=e("md-ripple",null,null,-1)),f(ee)])])])):q("",!0),e("label",bl,c(o.$t("phone_number")),1),(t(!0),s(v,null,h(d.phoneNumbers,(a,g)=>(t(),s("div",{key:g,class:"form-row"},[_(e("md-outlined-select",{"onUpdate:modelValue":r=>a.type=r,class:"flex-2","menu-positioning":"fixed",onChange:r=>z(a)},[(t(!0),s(v,null,h(l(Y).phoneNumberTypes,r=>(t(),s("md-select-option",{key:r,value:r},[e("div",$l,c(V(a,r,"phone_number_type")),1)],8,yl))),128))],40,hl),[[y,a.type,void 0,{number:!0}]]),_(e("md-outlined-text-field",{"onUpdate:modelValue":r=>a.value=r,placeholder:o.$t("telephone"),class:"flex-3"},null,8,kl),[[y,a.value]]),e("div",gl,[d.phoneNumbers.length>1?(t(),s("button",{key:0,class:"btn-icon",onClick:r=>L(d.phoneNumbers,g)},[i[12]||(i[12]=e("md-ripple",null,null,-1)),f(k)],8,Cl)):q("",!0)])]))),128)),d.emails.length?(t(),s("label",wl,c(o.$t("email")),1)):q("",!0),(t(!0),s(v,null,h(d.emails,(a,g)=>(t(),s("div",{key:g,class:"form-row"},[_(e("md-outlined-select",{"onUpdate:modelValue":r=>a.type=r,class:"flex-2","menu-positioning":"fixed",onChange:r=>z(a)},[(t(!0),s(v,null,h(l(Y).emailTypes,r=>(t(),s("md-select-option",{key:r,value:r},[e("div",Nl,c(V(a,r,"email_type")),1)],8,Tl))),128))],40,ql),[[y,a.type,void 0,{number:!0}]]),_(e("md-outlined-text-field",{"onUpdate:modelValue":r=>a.value=r,label:o.$t("email"),class:"flex-3"},null,8,Vl),[[y,a.value]]),e("div",Ul,[e("button",{class:"btn-icon",onClick:r=>L(d.emails,g)},[i[13]||(i[13]=e("md-ripple",null,null,-1)),f(k)],8,xl)])]))),128)),d.addresses.length?(t(),s("label",Ll,c(o.$t("address")),1)):q("",!0),(t(!0),s(v,null,h(d.addresses,(a,g)=>(t(),s("div",{key:g,class:"form-row"},[_(e("md-outlined-select",{"onUpdate:modelValue":r=>a.type=r,class:"flex-2","menu-positioning":"fixed",onChange:r=>z(a)},[(t(!0),s(v,null,h(l(Y).addressTypes,r=>(t(),s("md-select-option",{key:r,value:r},[e("div",Ml,c(V(a,r,"address_type")),1)],8,Il))),128))],40,Sl),[[y,a.type,void 0,{number:!0}]]),_(e("md-outlined-text-field",{"onUpdate:modelValue":r=>a.value=r,label:o.$t("address"),class:"flex-3"},null,8,Dl),[[y,a.value]]),e("div",zl,[e("button",{class:"btn-icon",onClick:r=>L(d.addresses,g)},[i[14]||(i[14]=e("md-ripple",null,null,-1)),f(k)],8,Al)])]))),128)),d.websites.length?(t(),s("label",Fl,c(o.$t("website")),1)):q("",!0),(t(!0),s(v,null,h(d.websites,(a,g)=>(t(),s("div",{key:g,class:"form-row"},[_(e("md-outlined-select",{"onUpdate:modelValue":r=>a.type=r,class:"flex-2","menu-positioning":"fixed",onChange:r=>z(a)},[(t(!0),s(v,null,h(l(Y).websiteTypes,r=>(t(),s("md-select-option",{key:r,value:r},[e("div",Rl,c(V(a,r,"website_type")),1)],8,Bl))),128))],40,El),[[y,a.type,void 0,{number:!0}]]),_(e("md-outlined-text-field",{"onUpdate:modelValue":r=>a.value=r,placeholder:o.$t("website"),class:"flex-3"},null,8,Ql),[[y,a.value]]),e("div",Kl,[e("button",{class:"btn-icon",onClick:r=>L(d.websites,g)},[i[15]||(i[15]=e("md-ripple",null,null,-1)),f(k)],8,Ol)])]))),128)),d.ims.length?(t(),s("label",jl,c(o.$t("im")),1)):q("",!0),(t(!0),s(v,null,h(d.ims,(a,g)=>(t(),s("div",{key:g,class:"form-row"},[_(e("md-outlined-select",{"onUpdate:modelValue":r=>a.type=r,class:"flex-2","menu-positioning":"fixed",onChange:r=>z(a)},[(t(!0),s(v,null,h(l(Y).imTypes,r=>(t(),s("md-select-option",{key:r,value:r},[e("div",Wl,c(V(a,r,"im_type")),1)],8,Hl))),128))],40,Gl),[[y,a.type,void 0,{number:!0}]]),_(e("md-outlined-text-field",{"onUpdate:modelValue":r=>a.value=r,placeholder:o.$t("im"),class:"flex-3"},null,8,Jl),[[y,a.value]]),e("div",Pl,[e("button",{class:"btn-icon",onClick:r=>L(d.ims,g)},[i[16]||(i[16]=e("md-ripple",null,null,-1)),f(k)],8,Xl)])]))),128)),e("div",Yl,[f(P,{placement:"auto"},{content:ge(a=>[e("div",Zl,[e("md-menu-item",{onClick:()=>A(a,d.phoneNumbers)},[e("div",ts,c(o.$t("phone_number")),1)],8,es),e("md-menu-item",{onClick:()=>A(a,d.emails)},[e("div",ss,c(o.$t("email")),1)],8,ls),e("md-menu-item",{onClick:()=>A(a,d.addresses)},[e("div",ns,c(o.$t("address")),1)],8,os),e("md-menu-item",{onClick:()=>A(a,d.websites)},[e("div",ds,c(o.$t("website")),1)],8,as),e("md-menu-item",{onClick:()=>A(a,d.ims)},[e("div",us,c(o.$t("im")),1)],8,is)])]),default:ge(()=>[e("div",null,[e("md-outlined-button",null,c(o.$t("add_field")),1)])]),_:1})]),e("div",rs,[_(e("md-outlined-text-field",{"onUpdate:modelValue":i[7]||(i[7]=a=>d.notes=a),type:"textarea",label:o.$t("notes"),rows:"3"},null,8,cs),[[y,d.notes]])])]),e("div",ms,[e("md-outlined-button",{value:"cancel",onClick:i[8]||(i[8]=(...a)=>l(K)&&l(K)(...a))},c(o.$t("cancel")),1),e("md-filled-button",{value:"save",disabled:l($)||l(w),autofocus:"",onClick:i[9]||(i[9]=(...a)=>l(Z)&&l(Z)(...a))},[l($)||l(w)?(t(),s("md-circular-progress",_s)):q("",!0),ue(" "+c(o.$t("save")),1)],8,ps)])])}}}),vs={class:"top-app-bar"},fs=["checked","indeterminate"],bs={class:"title"},hs={key:0},ys={key:1},$s={class:"btn-icon",style:{display:"none"}},ks={class:"actions"},gs={class:"scroll-content"},Cs=["onClick","onMouseover"],ws={class:"start"},qs=["checked","onClick"],Ts=["checked","onClick"],Ns={class:"number"},Vs=["src"],Us={class:"title"},xs={class:"subtitle"},Ls={key:0},Ss={class:"info"},Is={class:"list-unstyled"},Ms={key:0,indeterminate:"",class:"spinner-sm"},Ds=["onClick"],zs={class:"actions"},As=["onClick"],Fs=["onClick"],Es=["onClick"],Bs={class:"time"},Rs={class:"start"},Qs={class:"number"},Ks={key:0,class:"no-data-placeholder"},W=50,Os=re({__name:"ContactsView",setup(U){var $e;const b=nt(),{app:T}=at(dt()),d=B([]),{t:C}=Ie(),{parseQ:R}=Bt(),M=Se({tagIds:[]}),$=it.CONTACT,x=ut(),N=x.query,w=B(parseInt((($e=N.page)==null?void 0:$e.toString())??"1")),J=B([]),Q=B(""),{tags:O,fetch:ce}=Dt($),{addToTags:D}=zt($,O),{deleteItems:z}=At(xt,()=>{i(),j(),G.emit("refetch_tags",$)}),{selectedIds:V,allChecked:A,realAllChecked:L,selectRealAll:Z,allCheckedAlertVisible:o,clearSelection:i,toggleAllChecked:S,toggleSelect:ee,total:k,checked:P,shiftEffectingIds:a,handleItemClick:g,handleMouseOver:r,selectAll:De,shouldSelect:ze}=Ft(d),me=n=>{const m=x.query.q;Tt(b,m?`/contacts?page=${n}&q=${m}`:`/contacts?page=${n}`)},{keyDown:pe,keyUp:_e}=Et(k,W,w,De,i,me,()=>{z(V.value,L.value,k.value,Q.value)}),{loading:ne,fetch:j}=rt({handle:(n,m)=>{m?qe(C(m),"error"):n&&(d.value=n.contacts,k.value=n.contactCount)},document:ht,variables:()=>({offset:(w.value-1)*W,limit:W,query:Q.value})});ct({handle:(n,m)=>{m?qe(C(m),"error"):n&&(J.value=n.contactSources)},document:yt,variables:null});const ve=n=>{n.type===$&&(i(),j())},fe=n=>{n.type===$&&j()};function Ae(n){se(Nt,{type:$,tags:O.value,item:{key:n.id,title:"",size:0},selected:O.value.filter(m=>n.tags.some(F=>F.id===m.id))})}function be(n){let m="";Te(n.firstName)||Te(n.lastName)?m=`${n.lastName}${n.middleName}${n.firstName}`:m=[n.firstName,n.middleName,n.lastName].filter(le=>le).join(" ");const F=n.suffix?`, ${n.suffix}`:"",te=`${n.prefix} ${m} ${F}`.trim();return te||(n.emails.length?n.emails[0].value:"")}function Fe(n){se(Vt,{id:n.id,name:be(n),gql:ie`
      mutation DeleteContact($query: String!) {
        deleteContacts(query: $query)
      }
    `,variables:()=>({query:`ids:${n.id}`}),typeName:"Contact",done:()=>{k.value--,n.tags.length&&G.emit("refetch_tags",$)}})}function Ee(n){se(Ne,{data:n,sources:J,done:j})}function Be(){se(Ne,{data:null,sources:J,done:j})}function Re(n){return n?`/contacts?q=${n}`:"/contacts"}const he=B(""),ye=B(0),{mutate:Qe,loading:Ke}=de({document:$t});function Oe(n,m,F){he.value=n,ye.value=F,Qe({number:m})}return mt(()=>{var n;Q.value=Ut(((n=N.q)==null?void 0:n.toString())??""),R(M,Q.value),ce(),j(),G.on("item_tags_updated",fe),G.on("items_tags_updated",ve),window.addEventListener("keydown",pe),window.addEventListener("keyup",_e)}),pt(()=>{G.off("item_tags_updated",fe),G.off("items_tags_updated",ve),window.removeEventListener("keydown",pe),window.removeEventListener("keyup",_e)}),(n,m)=>{const F=Me,te=vt,le=ft,je=It,Ge=Mt,He=St,We=Gt,Je=gt,Pe=Lt,Xe=Kt,Ye=Ze,E=_t("tooltip");return t(),s(v,null,[e("div",vs,[e("md-checkbox",{"touch-target":"wrapper",checked:l(A),indeterminate:!l(A)&&l(P),onChange:m[0]||(m[0]=(...p)=>l(S)&&l(S)(...p))},null,40,fs),e("div",bs,[l(V).length?(t(),s("span",hs,c(n.$t("x_selected",{count:l(L)?l(k).toLocaleString():l(V).length.toLocaleString()})),1)):(t(),s("span",ys,c(n.$t("page_title.contacts"))+" ("+c(l(k).toLocaleString())+")",1)),l(P)?(t(),s(v,{key:2},[_((t(),s("button",{class:"btn-icon",onClick:m[1]||(m[1]=I(p=>l(z)(l(V),l(L),l(k),Q.value),["stop"]))},[m[3]||(m[3]=e("md-ripple",null,null,-1)),f(F)])),[[E,n.$t("delete")]]),_((t(),s("button",$s,[m[4]||(m[4]=e("md-ripple",null,null,-1)),f(te)])),[[E,n.$t("download")]]),_((t(),s("button",{class:"btn-icon",onClick:m[2]||(m[2]=I(p=>l(D)(l(V),l(L),Q.value),["stop"]))},[m[5]||(m[5]=e("md-ripple",null,null,-1)),f(le)])),[[E,n.$t("add_to_tags")]])],64)):q("",!0)]),e("div",ks,[f(je,{filter:M,tags:l(O),"get-url":Re},null,8,["filter","tags"]),e("md-outlined-button",{class:"btn-sm",onClick:Be},c(n.$t("create")),1)])]),f(Ge,{limit:W,total:l(k),"all-checked-alert-visible":l(o),"real-all-checked":l(L),"select-real-all":l(Z),"clear-selection":l(i)},null,8,["total","all-checked-alert-visible","real-all-checked","select-real-all","clear-selection"]),e("div",gs,[e("div",{class:we(["contact-list",{"select-mode":l(P)}])},[(t(!0),s(v,null,h(d.value,(p,X)=>(t(),s("section",{key:p.id,class:we(["contact-item selectable-card",{selected:l(V).includes(p.id),selecting:l(a).includes(p.id)}]),onClick:I(u=>l(g)(u,p,X,()=>{}),["stop"]),onMouseover:u=>l(r)(u,X)},[e("div",ws,[l(a).includes(p.id)?(t(),s("md-checkbox",{key:0,class:"checkbox","touch-target":"wrapper",checked:l(ze),onClick:I(u=>l(ee)(u,p,X),["stop"])},null,8,qs)):(t(),s("md-checkbox",{key:1,class:"checkbox","touch-target":"wrapper",checked:l(V).includes(p.id),onClick:I(u=>l(ee)(u,p,X),["stop"])},null,8,Ts)),e("span",Ns,[f(He,{id:X+1,raw:p},null,8,["id","raw"])])]),p.thumbnailId?(t(),s("img",{key:0,class:"image",src:l(kt)(p.thumbnailId),width:"50"},null,8,Vs)):(t(),Ce(We,{key:1,class:"image"})),e("div",Us,c(be(p)),1),e("div",xs,[p.notes?(t(),s("span",Ls,c(p.notes),1)):q("",!0),f(Je,{tags:p.tags,type:l($),"only-links":!0},null,8,["tags","type"])]),e("div",Ss,[e("ul",Is,[(t(!0),s(v,null,h(p.phoneNumbers,(u,ae)=>(t(),s("li",{key:ae,class:"phone-number"},[ue(c(u.type>0?n.$t(`contact.phone_number_type.${u.type}`):u.label)+" "+c(u.normalizedNumber||u.value)+" ",1),l(Ke)&&he.value===p.id&&ye.value===ae?(t(),s("md-circular-progress",Ms)):_((t(),s("button",{key:1,class:"btn-icon sm",onClick:I(js=>Oe(p.id,u.normalizedNumber||u.value,ae),["stop"])},[m[6]||(m[6]=e("md-ripple",null,null,-1)),f(Pe)],8,Ds)),[[E,n.$t("make_a_phone_call")]])]))),128)),(t(!0),s(v,null,h(p.emails,u=>(t(),s("li",{key:u.type+u.value},c(u.type>0?n.$t(`contact.email_type.${u.type}`):u.label)+" "+c(u.value),1))),128)),(t(!0),s(v,null,h(p.addresses,u=>(t(),s("li",{key:u.type+u.value},c(u.type>0?n.$t(`contact.address_type.${u.type}`):u.label)+" "+c(u.value),1))),128)),(t(!0),s(v,null,h(p.websites,u=>(t(),s("li",{key:u.type+u.value},c(u.type>0?n.$t(`contact.website_type.${u.type}`):u.label)+" "+c(u.value),1))),128)),(t(!0),s(v,null,h(p.ims,u=>(t(),s("li",{key:u.type+u.value},c(u.type>0?n.$t(`contact.im_type.${u.type}`):u.label)+" "+c(u.value),1))),128)),(t(!0),s(v,null,h(p.events,u=>(t(),s("li",{key:u.type+u.value},c(u.type>0?n.$t(`contact.event_type.${u.type}`):u.label)+" "+c(u.value),1))),128))])]),e("div",zs,[_((t(),s("button",{class:"btn-icon sm",onClick:I(u=>Fe(p),["stop"])},[m[7]||(m[7]=e("md-ripple",null,null,-1)),f(F)],8,As)),[[E,n.$t("delete")]]),_((t(),s("button",{class:"btn-icon sm",onClick:I(u=>Ee(p),["stop"])},[m[8]||(m[8]=e("md-ripple",null,null,-1)),f(Xe)],8,Fs)),[[E,n.$t("edit")]]),_((t(),s("button",{class:"btn-icon sm",onClick:I(u=>Ae(p),["stop"])},[m[9]||(m[9]=e("md-ripple",null,null,-1)),f(le)],8,Es)),[[E,n.$t("add_to_tags")]])]),e("div",Bs,[_((t(),s("span",null,[ue(c(l(wt)(p.updatedAt)),1)])),[[E,l(Ct)(p.updatedAt)]])])],42,Cs))),128)),l(ne)&&d.value.length===0?(t(),s(v,{key:0},h(20,p=>e("section",{key:p,class:"contact-item selectable-card-skeleton"},[e("div",Rs,[m[10]||(m[10]=e("div",{class:"checkbox"},[e("div",{class:"skeleton-checkbox"})],-1)),e("span",Qs,c(p),1)]),m[11]||(m[11]=qt('<div class="image" data-v-50443cad><div class="skeleton-image" data-v-50443cad></div></div><div class="title" data-v-50443cad><div class="skeleton-text skeleton-title" data-v-50443cad></div></div><div class="subtitle" data-v-50443cad><div class="skeleton-text skeleton-subtitle" data-v-50443cad></div></div><div class="info" data-v-50443cad><div class="skeleton-text skeleton-info" data-v-50443cad></div></div><div class="actions" data-v-50443cad><div class="skeleton-text skeleton-actions" data-v-50443cad></div></div><div class="time" data-v-50443cad><div class="skeleton-text skeleton-time" data-v-50443cad></div></div>',6))])),64)):q("",!0)],2),!l(ne)&&d.value.length===0?(t(),s("div",Ks,c(n.$t(l(bt)(l(ne),l(T).permissions,"WRITE_CONTACTS"))),1)):q("",!0),l(k)>W?(t(),Ce(Ye,{key:1,page:w.value,go:me,total:l(k),limit:W},null,8,["page","total"])):q("",!0)])],64)}}}),to=Le(Os,[["__scopeId","data-v-50443cad"]]);export{to as default};
