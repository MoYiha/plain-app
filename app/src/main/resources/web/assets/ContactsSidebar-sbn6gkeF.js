import{_ as h}from"./LeftSidebar.vuevuetypescriptsetuptruelang-DEmfzh0O.js";import{_ as C}from"./TagFilter-CV0FK2WV.js";import{e as S,f as y,s as k,g as T,I as w,r as B,L as I,w as N,R as b,o as i,p as u,a5 as _,a3 as A,aJ as L,a as c,k as R,y as V,S as q,c as Q,j as $,t as n,l as p,F as x,A as z}from"./index-Bm4LvS3o.js";import{u as M}from"./search-KPji0eDE.js";import"./more-vert-CdXXCe8G.js";import"./VIconButton.vuevuetypescriptsetuptruelang-BiHMDYOC.js";const j={class:"nav"},D={class:"title"},E={key:0,class:"count"},U=S({__name:"ContactsSidebar",setup(F){const d=y(),{counter:a}=k(T()),{parseQ:m}=M(),s=w({tagIds:[]}),o=B(""),{fetch:f}=I({handle:t=>{t&&(a.value.contacts=t.total)},document:L,variables:()=>({})});function r(){var e;const t=_.currentRoute.value,l=A(((e=t.query.q)==null?void 0:e.toString())??"");m(s,l),o.value=s.tagIds.length===1?s.tagIds[0]:"",f()}r(),N(()=>_.currentRoute.value,()=>{r()});function v(){z(d,"/contacts")}return(t,l)=>{const e=C,g=h;return i(),b(g,null,{title:u(()=>[x(n(t.$t("page_title.contacts")),1)]),body:u(()=>[c("ul",j,[c("li",{class:q({active:!o.value}),onClick:V(v,["prevent"])},[c("span",D,n(t.$t("all")),1),p(a).contacts>=0?(i(),Q("span",E,n(p(a).contacts.toLocaleString()),1)):$("",!0)],2)]),R(e,{type:"CONTACT",selected:o.value},null,8,["selected"])]),_:1})}}});export{U as default};
