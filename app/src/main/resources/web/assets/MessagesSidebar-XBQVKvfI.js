import{_ as T}from"./LeftSidebar.vuevuetypescriptsetuptruelang-CbCF_-pF.js";import{_ as q}from"./TagFilter.vuevuetypescriptsetuptruelang-BkMRTiB-.js";import{d as N,e as V,s as I,f as Q,D as x,r as m,G as R,w as z,L as A,o as u,a1 as g,a2 as y,$ as D,a3 as G,a as t,j,c as _,x as h,M as S,h as k,t as a,k as C,O as E,N as F,V as O,a4 as P,y as $,a5 as H}from"./index-Dohfv8Fq.js";import{u as J}from"./search-BGPnRmZx.js";import"./more-vert-XVOmELru.js";import"./EditValueModal-BR2lNZFL.js";import"./vee-validate-BgwL6Mce.js";const K={class:"nav"},U={class:"title"},W={key:0,class:"count"},X=["onClick"],Y={class:"title"},Z={key:0,class:"count"},ie=N({__name:"MessagesSidebar",setup(ee){const d=V(),{counter:p}=I(Q()),{parseQ:B}=J(),o=x({tagIds:[]}),n=m(""),c=m(""),r=m(new Map),{fetch:b}=R({handle:e=>{e&&(p.value.messages=e.total,r.value.set("1",e.inbox),r.value.set("2",e.sent),r.value.set("3",e.drafts))},document:G,variables:()=>({})});function v(e){return r.value.get(e)??-1}function f(){var i;const e=y.currentRoute.value,l=D(((i=e.query.q)==null?void 0:i.toString())??"");B(o,l),n.value=o.type??"",c.value=o.tagIds.length===1?o.tagIds[0]:"",n.value&&(c.value=""),b()}f(),z(()=>y.currentRoute.value,()=>{f()});function w(e){const l=P([{name:"type",op:"",value:e}]);$(d,`/messages?q=${H(l)}`)}function L(){$(d,"/messages")}return(e,l)=>{const i=q,M=T;return u(),A(M,null,{title:g(()=>[O(a(e.$t("page_title.messages")),1)]),body:g(()=>[t("ul",K,[t("li",{class:S({active:!c.value&&!n.value}),onClick:h(L,["prevent"])},[t("span",U,a(e.$t("all")),1),C(p).messages>=0?(u(),_("span",W,a(C(p).messages.toLocaleString()),1)):k("",!0)],2),(u(),_(F,null,E(["1","2","3"],s=>t("li",{key:s,class:S({active:s===n.value}),onClick:h(se=>w(s),["prevent"])},[t("span",Y,a(e.$t(`message_type.${s}`)),1),v(s)>=0?(u(),_("span",Z,a(v(s).toLocaleString()),1)):k("",!0)],10,X)),64))]),j(i,{type:"SMS",selected:c.value},null,8,["selected"])]),_:1})}}});export{ie as default};
