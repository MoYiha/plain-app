import{_ as I}from"./LeftSidebar.vuevuetypescriptsetuptruelang-CF3KQ8wQ.js";import{_ as M}from"./TagFilter.vuevuetypescriptsetuptruelang-DA-dvEFf.js";import{o as m,c as b,a,d as T,h as k,g as S,j as V,bi as x,ar as B,l as L,C as G,bj as Q,at as z,as as q,x as w,y as D,m as s,z as K,A as N,t as f,u as P,I as F,k as R,v as j,q as C,a5 as $,$ as E,S as H,V as U,p as y,w as A,N as Y,f as J,Y as O}from"./index-BxNI00MG.js";import{u as W}from"./search-D1_YTViL.js";import{u as X,a as Z}from"./vee-validate.esm-9czZ1sUw.js";import"./sidebar-JKGKmRjc.js";import"./more-vert-rfLdxqnE.js";import"./EditValueModal-DZMNikfg.js";const tt={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},et=a("path",{fill:"currentColor",d:"m9.25 22l-.4-3.2q-.325-.125-.612-.3t-.563-.375L4.7 19.375l-2.75-4.75l2.575-1.95Q4.5 12.5 4.5 12.338v-.675q0-.163.025-.338L1.95 9.375l2.75-4.75l2.975 1.25q.275-.2.575-.375t.6-.3l.4-3.2h5.5l.4 3.2q.325.125.613.3t.562.375l2.975-1.25l2.75 4.75l-2.575 1.95q.025.175.025.338v.674q0 .163-.05.338l2.575 1.95l-2.75 4.75l-2.95-1.25q-.275.2-.575.375t-.6.3l-.4 3.2zM11 20h1.975l.35-2.65q.775-.2 1.438-.587t1.212-.938l2.475 1.025l.975-1.7l-2.15-1.625q.125-.35.175-.737T17.5 12t-.05-.787t-.175-.738l2.15-1.625l-.975-1.7l-2.475 1.05q-.55-.575-1.212-.962t-1.438-.588L13 4h-1.975l-.35 2.65q-.775.2-1.437.588t-1.213.937L5.55 7.15l-.975 1.7l2.15 1.6q-.125.375-.175.75t-.05.8q0 .4.05.775t.175.75l-2.15 1.625l.975 1.7l2.475-1.05q.55.575 1.213.963t1.437.587zm1.05-4.5q1.45 0 2.475-1.025T15.55 12t-1.025-2.475T12.05 8.5q-1.475 0-2.488 1.025T8.55 12t1.013 2.475T12.05 15.5M12 12"},null,-1),ot=[et];function st(v,c){return m(),b("svg",tt,[...ot])}const at={name:"material-symbols-settings-outline",render:st},lt=a("div",{slot:"headline"},"ChatGPT",-1),nt={slot:"content"},it=["label","error","error-text"],rt={slot:"actions"},ut=["disabled"],ct=T({__name:"AIChatConfigModal",props:{value:{type:String}},setup(v){const{handleSubmit:c}=X(),d=k(),{t:r}=S(),u=v,{mutate:p,loading:h,onDone:g}=V({document:x,options:{update:()=>{}},appApi:!0}),{value:t,resetField:_,errorMessage:l}=Z("inputValue",B());t.value=u.value??"",t.value||_(),L({handle:(o,e)=>{e?G(r(e),"error"):o&&(t.value=o.aiChatConfig.chatGPTApiKey)},document:Q,variables:null,appApi:!0}),(async()=>{var o;await z(),(o=d.value)==null||o.focus()})();const i=c(()=>{p({chatGPTApiKey:t.value??""})});return g(()=>{q()}),(o,e)=>(m(),b("md-dialog",null,[lt,a("div",nt,[w(a("md-outlined-text-field",{ref_key:"input",ref:d,label:o.$t("api_key"),class:"form-control","onUpdate:modelValue":e[0]||(e[0]=n=>K(t)?t.value=n:null),onKeyup:e[1]||(e[1]=N((...n)=>s(i)&&s(i)(...n),["enter"])),error:s(l),"error-text":s(l)?o.$t(s(l)):""},null,40,it),[[D,s(t)]])]),a("div",rt,[a("md-outlined-button",{value:"cancel",onClick:e[2]||(e[2]=(...n)=>s(q)&&s(q)(...n))},f(o.$t("cancel")),1),a("md-filled-button",{value:"save",disabled:s(h),onClick:e[3]||(e[3]=(...n)=>s(i)&&s(i)(...n)),autofocus:""},f(o.$t("save")),9,ut)])]))}}),dt=a("md-ripple",null,null,-1),pt={class:"nav"},_t={class:"title"},$t=T({__name:"AIChatsSidebar",setup(v){const c=P(),{parseQ:d}=W(),r=F({tagIds:[]}),u=k("");function p(){var l;const t=$.currentRoute.value,_=E(((l=t.query.q)==null?void 0:l.toString())??"");d(r,_),u.value=r.tagIds.length===1?r.tagIds[0]:""}p(),R(()=>$.currentRoute.value,()=>{p()});function h(){J(c,"/aichats")}function g(){O(ct)}return(t,_)=>{const l=at,i=M,o=I,e=H("tooltip");return m(),j(o,null,{title:C(()=>[U(f(t.$t("page_title.aichats")),1)]),actions:C(()=>[w((m(),b("button",{class:"btn-icon",onClick:A(g,["prevent"])},[dt,y(l)])),[[e,t.$t("config")]])]),body:C(()=>[a("ul",pt,[a("li",{onClick:A(h,["prevent"]),class:Y({active:!u.value})},[a("span",_t,f(t.$t("all")),1)],2)]),y(i,{type:"AI_CHAT",selected:u.value},null,8,["selected"])]),_:1})}}});export{$t as default};
