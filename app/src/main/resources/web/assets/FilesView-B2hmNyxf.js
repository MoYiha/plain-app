import{_ as ho}from"./more-vert-B9buNtZx.js";import{m as te,c as i,o as n,a,e as dt,f as rt,r as w,I as ct,w as Xe,U as q,k as d,by as go,p as r,al as ut,j as D,x as ko,q as yo,bz as bo,z as wo,y as v,F as ee,t as _,P as m,Q as pt,A as _t,bA as ft,H as vt,bB as $o,u as Co,K as To,s as ye,g as qo,ai as Vo,aN as Ye,bC as Io,bD as Do,bE as So,bF as Fo,aP as Uo,L as Eo,bG as Lo,ah as Ze,i as Mo,au as No,M as Bo,N as xo,l as s,O as zo,V as be,S as g,am as Ho,bq as Po,W as Ro,aU as Ao,bH as Oo,E as O,bI as Ko,bJ as Qo,a8 as Wo,ak as jo,bK as Go,T as et,as as Jo,d as Xo,bL as mt,aI as Yo,n as L,a0 as Zo,a1 as en,bM as tn,bN as on,a2 as Z,bO as tt,bP as ot,aW as nt,bQ as st,ap as we,bR as at,bS as nn,bT as lt,a4 as sn,a5 as z,bU as an}from"./index-CuU5w3Fk.js";import{_ as ln}from"./FieldId.vuevuetypescriptsetuptruelang-BAr-ccW2.js";import{_ as dn,a as rn}from"./upload-rounded-Bty2yz0H.js";import{_ as cn}from"./content-paste-rounded-768Mfkiy.js";import{_ as un,a as pn}from"./VInputChip-Cze1-7DF.js";import{u as _n,c as fn}from"./key-events-CMYOn2tc.js";const vn={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function mn(V,c){return n(),i("svg",vn,c[0]||(c[0]=[a("path",{fill:"currentColor",d:"M4 20q-.825 0-1.412-.587T2 18V6q0-.825.588-1.412T4 4h5.175q.4 0 .763.15t.637.425L12 6h8q.825 0 1.413.588T22 8v10q0 .825-.587 1.413T20 20zm0-2h16V8h-8.825l-2-2H4zm0 0V6zm10-4v1q0 .425.288.713T15 16t.713-.288T16 15v-1h1q.425 0 .713-.288T18 13t-.288-.712T17 12h-1v-1q0-.425-.288-.712T15 10t-.712.288T14 11v1h-1q-.425 0-.712.288T12 13t.288.713T13 14z"},null,-1)]))}const hn=te({name:"material-symbols-create-new-folder-outline-rounded",render:mn}),gn={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function kn(V,c){return n(),i("svg",gn,c[0]||(c[0]=[a("path",{fill:"currentColor",d:"M19.075 21.9L17.5 20.35q-1.225.8-2.613 1.225T12 22q-2.075 0-3.9-.788t-3.175-2.137T2.788 15.9T2 12q0-1.5.425-2.887T3.65 6.5L2.075 4.925q-.3-.3-.3-.712t.3-.713t.713-.3t.712.3l17 17q.3.3.3.7t-.3.7t-.712.3t-.713-.3M12 20q1.075 0 2.088-.275t1.962-.825L5.1 7.95q-.55.95-.825 1.962T4 12q0 3.325 2.338 5.663T12 20m0-16q-.825 0-1.612.163T8.85 4.65q-.4.175-.8.05t-.6-.475t-.088-.75t.488-.575q.975-.45 2.012-.675T12 2q2.075 0 3.9.788t3.175 2.137T21.213 8.1T22 12q0 1.1-.225 2.138T21.1 16.15q-.175.375-.575.488t-.75-.088t-.475-.6t.05-.8q.325-.75.488-1.537T20 12q0-3.325-2.337-5.663T12 4m-1.425 9.425"},null,-1)]))}const yn=te({name:"material-symbols-hide-source-outline-rounded",render:kn}),bn={key:"filter-text"},wn={key:"filter-show-hidden"},$n={class:"btn-icon"},Cn={class:"filters"},Tn={class:"form-row"},qn={class:"buttons"},Vn=dt({__name:"FileSearchInput",props:{parent:{type:String,required:!0},filter:{type:Object,required:!0},getUrl:{type:Function,required:!0},navigateToDir:{type:Function,required:!1}},setup(V,{expose:c}){const{buildQ:oe}=ft(),I=V,ne=rt(),u=w(!1),C=ct({showHidden:!1,linkName:"",text:"",parent:""});Xe(I.filter,f=>{Object.assign(C,f)},{immediate:!0,deep:!0}),Xe(u,f=>{f&&Object.assign(C,I.filter)});function K(f){_t(ne,I.getUrl(oe(f)))}function H(f){return f.startsWith("/")}function b(){var $;const f=($=C.text)==null?void 0:$.trim();if(f&&H(f)&&I.navigateToDir){I.navigateToDir(f),u.value=!1;return}M(),u.value=!1}function T(f){f==="text"?(C.text="",M()):f==="showHidden"&&(C.showHidden=!1,M())}function M(){Object.assign(I.filter,C),K(I.filter)}function se(){C.showHidden=!C.showHidden}return c({dismiss:()=>{u.value=!1}}),(f,$)=>{const P=un,E=yn,R=go,Q=pn,ae=ko,le=bo,ie=wo,de=ut,W=pt("tooltip");return n(),i(q,null,[d(R,null,{default:r(()=>[V.filter.text?(n(),i("div",bn,[d(P,{label:V.filter.text,"remove-only":"",onRemove:$[0]||($[0]=()=>T("text"))},null,8,["label"])])):D("",!0),V.filter.showHidden?(n(),i("div",wn,[d(P,{label:f.$t("show_hidden"),"remove-only":"",onRemove:$[1]||($[1]=()=>T("showHidden"))},{default:r(()=>[d(E)]),_:1},8,["label"])])):D("",!0)]),_:1}),d(de,{modelValue:u.value,"onUpdate:modelValue":$[3]||($[3]=N=>u.value=N),"max-height":400},{trigger:r(()=>[m((n(),i("button",$n,[d(Q)])),[[W,f.$t("search")]])]),default:r(()=>[a("div",Cn,[a("div",Tn,[d(ae,{modelValue:C.text,"onUpdate:modelValue":$[2]||($[2]=N=>C.text=N),label:f.$t("keywords"),onKeyup:yo(b,["enter"])},null,8,["modelValue","label"])]),d(R,null,{default:r(()=>[d(le,{key:"chip-show-hidden",label:f.$t("show_hidden"),selected:C.showHidden,onClick:se},null,8,["label","selected"])]),_:1}),a("div",qn,[d(ie,{onClick:v(b,["stop"])},{default:r(()=>[ee(_(f.$t("search")),1)]),_:1})])])]),_:1},8,["modelValue"])],64)}}}),In=vt(Vn,[["__scopeId","data-v-32dffa4e"]]),Dn={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function Sn(V,c){return n(),i("svg",Dn,c[0]||(c[0]=[a("path",{fill:"currentColor",d:"m12 14l-2.35 2.35q.2.375.275.8T10 18q0 1.65-1.175 2.825T6 22t-2.825-1.175T2 18t1.175-2.825T6 14q.425 0 .85.075t.8.275L10 12L7.65 9.65q-.375.2-.8.275T6 10q-1.65 0-2.825-1.175T2 6t1.175-2.825T6 2t2.825 1.175T10 6q0 .425-.075.85t-.275.8L20.6 18.6q.675.675.3 1.538T19.575 21q-.275 0-.537-.112t-.463-.313zm3-3l-2-2l5.575-5.575q.2-.2.463-.312T19.574 3q.95 0 1.313.875t-.313 1.55zM6 8q.825 0 1.413-.587T8 6t-.587-1.412T6 4t-1.412.588T4 6t.588 1.413T6 8m6 4.5q.2 0 .35-.15t.15-.35t-.15-.35t-.35-.15t-.35.15t-.15.35t.15.35t.35.15M6 20q.825 0 1.413-.587T8 18t-.587-1.412T6 16t-1.412.588T4 18t.588 1.413T6 20"},null,-1)]))}const Fn=te({name:"material-symbols-content-cut-rounded",render:Sn}),Un={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function En(V,c){return n(),i("svg",Un,c[0]||(c[0]=[a("path",{fill:"currentColor",d:"M9 18q-.825 0-1.412-.587T7 16V4q0-.825.588-1.412T9 2h9q.825 0 1.413.588T20 4v12q0 .825-.587 1.413T18 18zm0-2h9V4H9zm-4 6q-.825 0-1.412-.587T3 20V7q0-.425.288-.712T4 6t.713.288T5 7v13h10q.425 0 .713.288T16 21t-.288.713T15 22zm4-6V4z"},null,-1)]))}const Ln=te({name:"material-symbols-content-copy-outline-rounded",render:En}),Mn=$o("files",{state:()=>({selectedFiles:[],isCut:!1})}),Nn={class:"top-app-bar"},Bn={key:0},xn={key:1,class:"breadcrumb"},zn={key:0},Hn=["onClick"],Pn={key:0},Rn=["onClick"],An={class:"actions"},On=["onClick"],Kn={key:0,class:"scroller-wrapper"},Qn={class:"scroller"},Wn={class:"start"},jn={class:"number"},Gn=["onClick","onMouseover"],Jn={class:"start"},Xn={class:"number"},Yn=["onClick"],Zn={key:0,src:"/ficons/folder.svg",class:"svg"},es={key:0,class:"svg",src:mt},ts=["src","onError"],os=["src","onError"],ns={key:3,class:"svg",src:mt},ss={class:"title"},as={class:"subtitle"},ls={key:0},is={key:1},ds={class:"actions"},rs=["onClick"],cs=["onClick"],us={class:"card card-info"},ps={class:"key-value vertical"},_s={class:"key"},fs={class:"value"},vs=["onClick"],ms=["onClick"],hs=["onClick"],gs=["onClick"],ks=["onClick"],ys=["onClick"],bs={key:1,class:"no-data-placeholder"},it=1e4,ws=dt({__name:"FilesView",setup(V){var je;const{t:c}=Co(),oe=w([]),{parseQ:I,buildQ:ne}=ft(),u=ct({linkName:"",showHidden:!1,text:"",parent:""}),K=To().query,H=w(""),b=w([]),{selectedIds:T,allChecked:M,realAllChecked:se,clearSelection:f,toggleAllChecked:$,toggleSelect:P,total:E,checked:R,shiftEffectingIds:Q,handleItemClick:ae,handleMouseOver:le,selectAll:ie,shouldSelect:de}=_n(b),{keyDown:W,keyUp:N}=fn(ie,f,()=>{xe()}),re=w(!1),ce=w(!1),$e=w([]),Ce=w([]),ht=e=>{$e.value.push(e)},gt=e=>{Ce.value.push(e)},kt=Jo(),Te=rt(),{fileSortBy:j}=ye(Te),qe=qo(),{app:Ve,urlTokenKey:S,uploads:ue}=ye(qe),{selectedFiles:yt,isCut:bt}=ye(Mn()),{dropping:wt,fileDragEnter:Ie,fileDragLeave:De,dropFiles:$t}=Vo(ue),G=Ye(()=>Io(u.linkName,Ve.value)),{createPath:Ct,createVariables:Tt,createMutation:qt}=Do(S,b),{renameItem:Vt,renameDone:It,renameMutation:Dt,renameVariables:St}=So(()=>{B()}),{internal:Se,sdcard:Fe,usb:Ft,refetch:pe}=Fo(),{downloadFile:_e,downloadDir:Ut,downloadFiles:Et}=No(S),{view:Ue}=nn(oe,(e,t)=>{qe.lightbox={sources:e,index:t,visible:!0}}),Lt=w(parseInt(((je=K.page)==null?void 0:je.toString())??"1")),Mt=Ye(()=>{const e=[];let t=u.parent;for(;t&&t!==G.value;)e.unshift({path:t,name:Uo(t)}),t=t.substring(0,t.lastIndexOf("/"));return e.unshift({path:G.value,name:Kt()}),e}),Ee=w(!0),{loading:fe,fetch:B}=Eo({handle:async(e,t)=>{if(Ee.value=!1,re.value=!1,ce.value=!1,t)O(c(t),"error");else{const y=[];for(const x of e.files)y.push(Ko(x,S.value));b.value=y,E.value=y.length}},document:Oo,variables:()=>({root:G.value,offset:(Lt.value-1)*it,limit:it,query:H.value,sortBy:j.value}),options:{fetchPolicy:"cache-and-network"}}),{loading:Nt,canPaste:Le,copy:ve,cut:Me,paste:me}=Lo(b,bt,yt,B,pe),{input:Bt,upload:xt,uploadChanged:Ne}=Ze(ue),{input:zt,upload:Ht,uploadChanged:Be}=Ze(ue),{loading:Pt,mutate:Rt,onDone:At}=Mo({document:Qo});At(e=>{Et(e.data.setTempValue.key),f()});const Ot=()=>{Rt({key:on(),value:JSON.stringify(T.value.map(e=>({path:e})))})},he=e=>{e.forEach(t=>{an(b.value,y=>y.id===t.id)}),E.value=b.value.length,f(),pe()},xe=()=>{Z(tt,{files:b.value.filter(e=>T.value.includes(e.id)),onDone:e=>{he(e)}})};function Kt(){if(u.linkName==="sdcard")return c("sdcard");if(u.linkName==="app")return c("app_data");if(u.linkName.startsWith("usb")){const e=parseInt(u.linkName.substring(3));return`${c("usb_storage")} ${e}`}return c("internal_storage")}function ze(){var e,t,y,x;if(u.linkName==="sdcard")return`${c("storage_free_total",{free:L(((e=Fe.value)==null?void 0:e.freeBytes)??0),total:L(((t=Fe.value)==null?void 0:t.totalBytes)??0)})}`;if(u.linkName==="app")return c("app_data");if(u.linkName.startsWith("usb")){const k=parseInt(u.linkName.substring(3)),U=Ft.value[k-1];return`${c("storage_free_total",{free:L((U==null?void 0:U.freeBytes)??0),total:L((U==null?void 0:U.totalBytes)??0)})}`}return`${L(((y=Se.value)==null?void 0:y.freeBytes)??0)} / ${L(((x=Se.value)==null?void 0:x.totalBytes)??0,!0,0)}`}function J(e){f(),u.parent=e,u.text="";const t=ne(u);_t(Te,He(t))}function He(e){return e?`/files?q=${e}`:"/files"}function Qt(e){if(e.isDir){J(e.path);return}if(ot(e.name)){const t=nt(S.value,e.path);window.open(`/text-file?id=${encodeURIComponent(t)}`,"_blank")}else st(e.name)?window.open(we(S.value,e.path),"_blank"):at(e.name)?Ue(b.value,e):_e(e.path)}function Wt(e,t){if(!t.isDir)if(e.stopPropagation(),ot(t.name)){const y=nt(S.value,t.path);window.open(`/text-file?id=${encodeURIComponent(y)}`,"_blank")}else st(t.name)?window.open(we(S.value,t.path),"_blank"):at(t.name)?Ue(b.value,t):_e(t.path)}function jt(e){j.value!==e&&(ce.value=!0,j.value=e)}function Gt(){re.value=!0,B()}const Jt=()=>{Ct.value=u.parent,Z(lt,{title:c("create_folder"),placeholder:c("name"),mutation:qt,getVariables:Tt})};function Pe(e){xt(e)}function Re(e){Ht(e)}function Xt(){ve(T.value),f()}function Yt(){Me(T.value),f()}function Zt(){me(u.parent)}function eo(e){ve([e.id]),me(u.parent)}function to(e){Me([e.id])}function oo(e){ve([e.id])}function no(e){const t=we(S.value,e.path);navigator.clipboard&&navigator.clipboard.writeText?navigator.clipboard.writeText(t).then(()=>{O(c("link_copied"),"success")}).catch(()=>{Ae(t)}):Ae(t)}function Ae(e){try{const t=document.createElement("textarea");t.value=e,t.style.position="fixed",t.style.left="-999999px",t.style.top="-999999px",document.body.appendChild(t),t.focus(),t.select();const y=document.execCommand("copy");document.body.removeChild(t),y?O(c("link_copied"),"success"):O(c("copy_failed"),"error")}catch(t){console.error("Failed to copy text: ",t),O(c("copy_failed"),"error")}}function so(e){me(e.path)}function ao(e){Vt.value=e,Z(lt,{title:c("rename"),placeholder:c("name"),value:e.name,mutation:Dt,getVariables:St,done:It})}function lo(e){Z(tt,{files:[e],onDone:he})}const Oe=e=>{e.status==="done"&&setTimeout(()=>{B(),pe()},1e3)},Ke=e=>{he([e.item])},Qe=e=>{B()};function io(e){$t(e,u.parent)}const X=w(!1),ge=w(!1),Y=w({}),We=w({}),F=w({});return Bo(()=>{var e;H.value=sn(((e=K.q)==null?void 0:e.toString())??""),I(u,H.value),B(),z.on("upload_task_done",Oe),z.on("file_deleted",Ke),z.on("file_renamed",Qe),window.addEventListener("keydown",W),window.addEventListener("keyup",N)}),xo(()=>{z.off("upload_task_done",Oe),z.off("file_deleted",Ke),z.off("file_renamed",Qe),window.removeEventListener("keydown",W),window.removeEventListener("keyup",N)}),(e,t)=>{const y=zo,x=Ln,k=Ao,U=Fn,Ge=Wo,ke=jo,ro=In,co=hn,Je=dn,A=ut,uo=cn,po=Go,_o=rn,fo=ln,vo=tn,mo=ho,h=pt("tooltip");return n(),i(q,null,[a("div",Nn,[d(y,{"touch-target":"wrapper",checked:s(M),indeterminate:!s(M)&&s(R),onChange:s($)},null,8,["checked","indeterminate","onChange"]),s(T).length?(n(),i("span",Bn,_(e.$t("x_selected",{count:s(se)?s(E).toLocaleString():s(T).length.toLocaleString()})),1)):(n(),i("div",xn,[(n(!0),i(q,null,be(Mt.value,(l,o)=>(n(),i(q,{key:l.path},[o===0?(n(),i(q,{key:0},[l.path===u.parent?m((n(),i("span",zn,[ee(_(l.name)+" ("+_(s(E))+")",1)])),[[h,ze()]]):m((n(),i("a",{key:1,href:"#",onClick:v(p=>J(l.path),["stop","prevent"])},[ee(_(l.name),1)],8,Hn)),[[h,ze()]])],64)):(n(),i(q,{key:1},[l.path===u.parent?(n(),i("span",Pn,_(l.name)+" ("+_(s(E))+")",1)):(n(),i("a",{key:1,href:"#",onClick:v(p=>J(l.path),["stop","prevent"])},_(l.name),9,Rn))],64))],64))),128))])),s(R)?(n(),i(q,{key:2},[m((n(),g(k,{onClick:v(Xt,["stop"])},{default:r(()=>[d(x)]),_:1})),[[h,e.$t("copy")]]),m((n(),g(k,{onClick:v(Yt,["stop"])},{default:r(()=>[d(U)]),_:1})),[[h,e.$t("cut")]]),m((n(),g(k,{onClick:v(xe,["stop"])},{default:r(()=>[d(Ge)]),_:1})),[[h,e.$t("delete")]]),m((n(),g(k,{loading:s(Pt),onClick:v(Ot,["stop"])},{default:r(()=>[d(ke)]),_:1},8,["loading"])),[[h,e.$t("download")]])],64)):D("",!0),a("div",An,[d(ro,{filter:u,parent:G.value,"get-url":He,"navigate-to-dir":J},null,8,["filter","parent"]),m((n(),g(k,{onClick:Jt},{default:r(()=>[d(co)]),_:1})),[[h,e.$t("create_folder")]]),d(A,{modelValue:X.value,"onUpdate:modelValue":t[2]||(t[2]=l=>X.value=l)},{trigger:r(()=>[m((n(),g(k,null,{default:r(()=>[d(Je)]),_:1})),[[h,e.$t("upload")]])]),default:r(()=>[a("div",{class:"dropdown-item",onClick:t[0]||(t[0]=v(l=>{Pe(u.parent),X.value=!1},["stop"]))},_(e.$t("upload_files")),1),a("div",{class:"dropdown-item",onClick:t[1]||(t[1]=v(l=>{Re(u.parent),X.value=!1},["stop"]))},_(e.$t("upload_folder")),1)]),_:1},8,["modelValue"]),s(Le)()?m((n(),g(k,{key:0,loading:s(Nt),onClick:Zt},{default:r(()=>[d(uo)]),_:1},8,["loading"])),[[h,e.$t("paste")]]):D("",!0),m((n(),g(k,{loading:re.value,onClick:Gt},{default:r(()=>[d(po)]),_:1},8,["loading"])),[[h,e.$t("refresh")]]),d(A,{modelValue:ge.value,"onUpdate:modelValue":t[3]||(t[3]=l=>ge.value=l)},{trigger:r(()=>[m((n(),g(k,{loading:ce.value},{default:r(()=>[d(_o)]),_:1},8,["loading"])),[[h,e.$t("sort")]])]),default:r(()=>[(n(!0),i(q,null,be(s(kt),l=>(n(),i("div",{key:l.value,class:et(["dropdown-item",{selected:l.value===s(j)}]),onClick:o=>{jt(l.value),ge.value=!1}},_(e.$t(l.label)),11,On))),128))]),_:1},8,["modelValue"])])]),s(fe)&&Ee.value?(n(),i("div",Kn,[a("div",Qn,[(n(),i(q,null,be(20,l=>a("section",{key:l,class:"file-item selectable-card-skeleton"},[a("div",Wn,[t[8]||(t[8]=a("div",{class:"checkbox"},[a("div",{class:"skeleton-checkbox"})],-1)),a("span",jn,_(l),1)]),t[9]||(t[9]=Xo('<div class="image" data-v-5ddd5c0f><div class="skeleton-image" data-v-5ddd5c0f></div></div><div class="title" data-v-5ddd5c0f><div class="skeleton-text skeleton-title" data-v-5ddd5c0f></div></div><div class="subtitle" data-v-5ddd5c0f><div class="skeleton-text skeleton-subtitle" data-v-5ddd5c0f></div></div><div class="actions" data-v-5ddd5c0f><div class="skeleton-text skeleton-actions" data-v-5ddd5c0f></div></div>',4))])),64))])])):D("",!0),a("div",{class:"scroller-wrapper",onDragover:t[7]||(t[7]=v((...l)=>s(Ie)&&s(Ie)(...l),["stop","prevent"]))},[m(a("div",{class:"drag-mask",onDrop:v(io,["stop","prevent"]),onDragleave:t[4]||(t[4]=v((...l)=>s(De)&&s(De)(...l),["stop","prevent"]))},_(e.$t("release_to_send_files")),545),[[Ho,s(wt)]]),b.value.length>0?(n(),g(s(Po),{key:0,class:"scroller","data-key":"id","data-sources":b.value,"estimate-size":80},{item:r(({index:l,item:o})=>[a("section",{class:et(["file-item selectable-card",{selected:s(T).includes(o.id),selecting:s(Q).includes(o.id)}]),onClick:v(p=>s(ae)(p,o,l,()=>{Qt(o)}),["stop"]),onMouseover:p=>s(le)(p,l)},[a("div",Jn,[s(Q).includes(o.id)?(n(),g(y,{key:0,class:"checkbox","touch-target":"wrapper",checked:s(de),onClick:v(p=>s(P)(p,o,l),["stop"])},null,8,["checked","onClick"])):(n(),g(y,{key:1,class:"checkbox","touch-target":"wrapper",checked:s(T).includes(o.id),onClick:v(p=>s(P)(p,o,l),["stop"])},null,8,["checked","onClick"])),a("span",Xn,[d(fo,{id:l+1,raw:o},null,8,["id","raw"])])]),a("div",{class:"image",onClick:p=>Wt(p,o)},[o.isDir?(n(),i("img",Zn)):(n(),i(q,{key:1},[Ce.value.includes(o.id)?(n(),i("img",es)):!$e.value.includes(o.id)&&o.fileId?(n(),i("img",{key:1,class:"image-thumb",src:s(Yo)(o.fileId,"&w=50&h=50"),onError:p=>ht(o.id)},null,40,ts)):o.extension?(n(),i("img",{key:2,src:`/ficons/${o.extension}.svg`,class:"svg",onError:p=>gt(o.id)},null,40,os)):(n(),i("img",ns))],64))],8,Yn),a("div",ss,_(o.name),1),a("div",as,[o.isDir?(n(),i("span",ls,_(e.$t("x_items",o.children)),1)):(n(),i("span",is,_(s(L)(o.size)),1)),m((n(),i("span",null,[ee(_(s(en)(o.updatedAt)),1)])),[[h,s(Zo)(o.updatedAt)]])]),a("div",ds,[o.isDir?(n(),i(q,{key:0},[m((n(),g(k,{class:"sm",onClick:v(p=>s(Ut)(o.path),["stop"])},{default:r(()=>[d(ke)]),_:2},1032,["onClick"])),[[h,e.$t("download")]]),d(A,{modelValue:Y.value[o.id],"onUpdate:modelValue":p=>Y.value[o.id]=p},{trigger:r(()=>[m((n(),g(k,{class:"sm"},{default:r(()=>[d(Je)]),_:1})),[[h,e.$t("upload")]])]),default:r(()=>[a("div",{class:"dropdown-item",onClick:v(p=>{Pe(o.path),Y.value[o.id]=!1},["stop"])},_(e.$t("upload_files")),9,rs),a("div",{class:"dropdown-item",onClick:v(p=>{Re(o.path),Y.value[o.id]=!1},["stop"])},_(e.$t("upload_folder")),9,cs)]),_:2},1032,["modelValue","onUpdate:modelValue"])],64)):m((n(),g(k,{key:1,class:"sm",onClick:v(p=>s(_e)(o.path),["stop"])},{default:r(()=>[d(ke)]),_:2},1032,["onClick"])),[[h,e.$t("download")]]),m((n(),g(k,{class:"sm",onClick:v(p=>lo(o),["stop"])},{default:r(()=>[d(Ge)]),_:2},1032,["onClick"])),[[h,e.$t("delete")]]),d(A,{modelValue:We.value[o.id],"onUpdate:modelValue":p=>We.value[o.id]=p},{trigger:r(()=>[m((n(),g(k,{class:"sm"},{default:r(()=>[d(vo)]),_:1})),[[h,e.$t("info")]])]),default:r(()=>[a("section",us,[a("div",ps,[a("div",_s,_(e.$t("path")),1),a("div",fs,_(o.path),1)])])]),_:2},1032,["modelValue","onUpdate:modelValue"]),d(A,{modelValue:F.value[o.id],"onUpdate:modelValue":p=>F.value[o.id]=p},{trigger:r(()=>[m((n(),g(k,{class:"sm"},{default:r(()=>[d(mo)]),_:1})),[[h,e.$t("actions")]])]),default:r(()=>[a("div",{class:"dropdown-item",onClick:v(p=>{eo(o),F.value[o.id]=!1},["stop"])},_(e.$t("duplicate")),9,vs),a("div",{class:"dropdown-item",onClick:v(p=>{to(o),F.value[o.id]=!1},["stop"])},_(e.$t("cut")),9,ms),a("div",{class:"dropdown-item",onClick:v(p=>{oo(o),F.value[o.id]=!1},["stop"])},_(e.$t("copy")),9,hs),o.isDir&&s(Le)()?(n(),i("div",{key:0,class:"dropdown-item",onClick:v(p=>{so(o),F.value[o.id]=!1},["stop"])},_(e.$t("paste")),9,gs)):D("",!0),o.isDir?D("",!0):(n(),i("div",{key:1,class:"dropdown-item",onClick:v(p=>{no(o),F.value[o.id]=!1},["stop"])},_(e.$t("copy_link")),9,ks)),a("div",{class:"dropdown-item",onClick:v(p=>{ao(o),F.value[o.id]=!1},["stop"])},_(e.$t("rename")),9,ys)]),_:2},1032,["modelValue","onUpdate:modelValue"])])],42,Gn)]),_:1},8,["data-sources"])):D("",!0),!s(fe)&&b.value.length===0?(n(),i("div",bs,_(e.$t(s(Ro)(s(fe),s(Ve).permissions,"WRITE_EXTERNAL_STORAGE"))),1)):D("",!0),a("input",{ref_key:"fileInput",ref:Bt,style:{display:"none"},type:"file",multiple:"",onChange:t[5]||(t[5]=(...l)=>s(Ne)&&s(Ne)(...l))},null,544),a("input",{ref_key:"dirFileInput",ref:zt,style:{display:"none"},type:"file",multiple:"",webkitdirectory:"",mozdirectory:"",directory:"",onChange:t[6]||(t[6]=(...l)=>s(Be)&&s(Be)(...l))},null,544)],32)],64)}}}),Ss=vt(ws,[["__scopeId","data-v-5ddd5c0f"]]);export{Ss as default};
