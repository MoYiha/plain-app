import{_ as g}from"./LeftSidebar.vuevuetypescriptsetuptruelang-Bwcxwg_R.js";import{_ as C}from"./TagFilter.vuevuetypescriptsetuptruelang-nDSyeZ_O.js";import{e as S,f as y,s as N,g as T,K as k,r as B,N as w,w as b,J as q,o as i,q as u,a6 as _,a4 as I,aN as V,a as c,k as $,z,T as A,c as L,j as Q,t as n,l as d,G as R,B as x}from"./index-DRp6xo3j.js";import{u as G}from"./search-VN1T4MU3.js";const M={class:"nav"},j={class:"title"},D={key:0,class:"count"},F=S({__name:"ContactsSidebar",setup(E){const m=y(),{counter:a}=N(T()),{parseQ:p}=G(),s=k({tagIds:[]}),o=B(""),{fetch:f}=w({handle:e=>{e&&(a.value.contacts=e.total)},document:V,variables:()=>({})});function r(){var t;const e=_.currentRoute.value,l=I(((t=e.query.q)==null?void 0:t.toString())??"");p(s,l),o.value=s.tagIds.length===1?s.tagIds[0]:"",f()}r(),b(()=>_.currentRoute.value,()=>{r()});function v(){x(m,"/contacts")}return(e,l)=>{const t=C,h=g;return i(),q(h,null,{title:u(()=>[R(n(e.$t("page_title.contacts")),1)]),body:u(()=>[c("ul",M,[c("li",{class:A({active:!o.value}),onClick:z(v,["prevent"])},[c("span",j,n(e.$t("all")),1),d(a).contacts>=0?(i(),L("span",D,n(d(a).contacts.toLocaleString()),1)):Q("",!0)],2)]),$(t,{type:"CONTACT",selected:o.value},null,8,["selected"])]),_:1})}}});export{F as default};
