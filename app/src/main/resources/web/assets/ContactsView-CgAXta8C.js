import{_ as st}from"./VPagination.vuevuetypescriptsetuptruelang-CEZVU5HQ.js";import{m as ce,c as d,o as l,a as u,e as fe,ay as Me,r as F,az as Se,aA as Ie,aB as J,ae as at,aC as dt,S as z,p as k,k as r,at as ye,l as t,F as M,t as c,z as Ae,x as De,q as it,v as ut,aD as Fe,I as ze,u as Ee,i as ve,aE as Te,ab as be,j as $,Z as Be,U as y,V as w,a8 as xe,al as rt,aF as ct,f as mt,s as pt,g as _t,J as vt,K as bt,L as ft,h as yt,M as gt,N as $t,O as kt,P as K,Q as ht,y as D,ak as Ct,R as Vt,T as qe,W as wt,a2 as re,aG as Tt,E as Ne,aH as qt,G as Nt,aI as Ut,$ as Lt,a0 as Mt,a1 as St,d as It,A as At,a3 as Dt,aJ as Ue,ac as Ft,a4 as zt,a5 as Z,aK as Et,H as Bt}from"./index-CuU5w3Fk.js";import{_ as xt}from"./call-outline-rounded-BecyQYRR.js";import{_ as Kt}from"./FieldId.vuevuetypescriptsetuptruelang-BAr-ccW2.js";import{_ as Rt,a as Ot}from"./SearchInput-Do4mYLNe.js";import{_ as Qt}from"./VSelect-BW3REh_P.js";import{u as Gt,a as Ht}from"./tags-C_c-1fHE.js";import{b as jt,u as Pt,a as Jt}from"./key-events-CMYOn2tc.js";import{u as Wt}from"./search-cTEMyIe9.js";import"./VInputChip-Cze1-7DF.js";const Zt={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function Xt(T,f){return l(),d("svg",Zt,f[0]||(f[0]=[u("path",{fill:"currentColor",d:"M3 21v-4.25L16.2 3.575q.3-.275.663-.425t.762-.15t.775.15t.65.45L20.425 5q.3.275.438.65T21 6.4q0 .4-.137.763t-.438.662L7.25 21zM17.6 7.8L19 6.4L17.6 5l-1.4 1.4z"},null,-1)]))}const Yt=ce({name:"material-symbols-edit",render:Xt}),eo={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function to(T,f){return l(),d("svg",eo,f[0]||(f[0]=[u("path",{fill:"currentColor",d:"M12 14q.825 0 1.413-.587T14 12t-.587-1.412T12 10t-1.412.588T10 12t.588 1.413T12 14m-4 4h8v-.575q0-.6-.325-1.1t-.9-.75q-.65-.275-1.338-.425T12 15t-1.437.15t-1.338.425q-.575.25-.9.75T8 17.425zm10 4H6q-.825 0-1.412-.587T4 20V4q0-.825.588-1.412T6 2h7.175q.4 0 .763.15t.637.425l4.85 4.85q.275.275.425.638t.15.762V20q0 .825-.587 1.413T18 22m0-2V8.85L13.15 4H6v16zM6 20V4z"},null,-1)]))}const oo=ce({name:"material-symbols-contact-page-outline-rounded",render:to}),lo={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function no(T,f){return l(),d("svg",lo,f[0]||(f[0]=[u("path",{fill:"currentColor",d:"M12 13.825L8.1 17.7q-.275.275-.687.288T6.7 17.7q-.275-.275-.275-.7t.275-.7l4.6-4.6q.15-.15.325-.213t.375-.062t.375.062t.325.213l4.6 4.6q.275.275.288.688t-.288.712q-.275.275-.7.275t-.7-.275zm0-6L8.1 11.7q-.275.275-.687.288T6.7 11.7q-.275-.275-.275-.7t.275-.7l4.6-4.6q.15-.15.325-.212T12 5.425t.375.063t.325.212l4.6 4.6q.275.275.288.688t-.288.712q-.275.275-.7.275t-.7-.275z"},null,-1)]))}const so=ce({name:"material-symbols-keyboard-double-arrow-up-rounded",render:no}),ao={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function io(T,f){return l(),d("svg",ao,f[0]||(f[0]=[u("path",{fill:"currentColor",d:"m12 16.175l3.9-3.875q.275-.275.688-.288t.712.288q.275.275.275.7t-.275.7l-4.6 4.6q-.15.15-.325.213t-.375.062t-.375-.062t-.325-.213l-4.6-4.6q-.275-.275-.288-.687T6.7 12.3q.275-.275.7-.275t.7.275zm0-6L15.9 6.3q.275-.275.688-.287t.712.287q.275.275.275.7t-.275.7l-4.6 4.6q-.15.15-.325.213t-.375.062t-.375-.062t-.325-.213L6.7 7.7q-.275-.275-.288-.687T6.7 6.3q.275-.275.7-.275t.7.275z"},null,-1)]))}const uo=ce({name:"material-symbols-keyboard-double-arrow-down-rounded",render:io});function X(T){return Array.from({length:T},(f,h)=>h+1).concat(-1)}const le={phoneNumberTypes:X(20),emailTypes:X(4),addressTypes:X(3),eventTypes:X(3),imTypes:X(8),websiteTypes:X(7)},ro=fe({__name:"PromptModal",props:{do:{type:Function,required:!0},title:{type:String,required:!0},value:{type:String,default:""}},setup(T){const{handleSubmit:f}=Me(),h=F(),s=T,{value:g,resetField:R,errorMessage:U}=Se("inputValue",Ie().required()),C=f(()=>{s.do(String(g.value||"")),J()});return s.value?g.value=s.value:R(),at(async()=>{await dt(),requestAnimationFrame(()=>{setTimeout(()=>{var q;try{document.activeElement&&document.activeElement!==document.body&&document.activeElement.blur(),(q=h.value)==null||q.focus()}catch(S){console.debug("Focus blocked:",S)}},100)})}),(q,S)=>{const O=De,E=ye,L=Ae,Q=Fe;return l(),z(Q,{onClose:t(J)},{headline:k(()=>[M(c(T.title),1)]),content:k(()=>[r(O,{ref_key:"inputRef",ref:h,modelValue:t(g),"onUpdate:modelValue":S[0]||(S[0]=ee=>ut(g)?g.value=ee:null),class:"form-control",error:!!t(U),"error-text":t(U)?q.$t(t(U)):"",onKeyup:it(t(C),["enter"])},null,8,["modelValue","error","error-text","onKeyup"])]),actions:k(()=>[r(E,{value:"cancel",onClick:t(J)},{default:k(()=>[M(c(q.$t("cancel")),1)]),_:1},8,["onClick"]),r(L,{value:"ok",onClick:t(C)},{default:k(()=>[M(c(q.$t("ok")),1)]),_:1},8,["onClick"])]),_:1},8,["onClose"])}}}),co={class:"form-label"},mo={class:"form-row"},po={key:1,class:"v-center"},_o={key:0,class:"form-row"},vo={class:"v-center"},bo={class:"form-label"},fo={class:"v-center"},yo=["onClick"],go={key:1,class:"form-label"},$o={class:"v-center"},ko=["onClick"],ho={key:2,class:"form-label"},Co={class:"v-center"},Vo=["onClick"],wo={key:3,class:"form-label"},To={class:"v-center"},qo=["onClick"],No={key:4,class:"form-label"},Uo={class:"v-center"},Lo=["onClick"],Mo={class:"form-row",style:{display:"block",position:"relative"}},So={class:"form-row"},Le=fe({__name:"EditContactModal",props:{data:{type:Object,default:()=>({})},sources:{type:Array,default:()=>[]},done:{type:Function,default:()=>{}}},setup(T){const{handleSubmit:f}=Me(),h=T,s=ze({firstName:"",middleName:"",lastName:"",prefix:"",suffix:"",nickname:"",organization:null,notes:"",source:"",starred:0,phoneNumbers:[],emails:[],addresses:[],websites:[],events:[],ims:[],groupIds:[]}),g=F(!1),R=F(!1),{t:U}=Ee(),{mutate:C,loading:q,onDone:S}=ve({document:be`
    mutation createContact($input: ContactInput!) {
      createContact(input: $input) {
        ...ContactFragment
      }
    }
    ${Te}
  `,options:{update:()=>{h.done()}}}),{mutate:O,loading:E,onDone:L}=ve({document:be`
    mutation updateContact($id: ID!, $input: ContactInput!) {
      updateContact(id: $id, input: $input) {
        ...ContactFragment
      }
    }
    ${Te}
  `,options:{update:()=>{h.done()}}}),{value:Q,resetField:ee,errorMessage:ge}=Se("inputValue",Ie().test("required",e=>"valid.required",e=>!0).test("target-value",e=>"invalid_value",e=>!0)),I=(e,i)=>{e.splice(0,e.length);for(const _ of i)e.push({label:_.label,value:_.value,type:_.type})};(()=>{const e=h.data;e?(Object.assign(s,{firstName:e.firstName,middleName:e.middleName,lastName:e.lastName,prefix:e.prefix,suffix:e.suffix,notes:e.notes}),I(s.phoneNumbers,e.phoneNumbers),I(s.emails,e.emails),I(s.addresses,e.addresses),I(s.websites,e.websites),I(s.events,e.events),I(s.ims,e.ims)):(Object.assign(s,{firstName:"",middleName:"",lastName:"",prefix:"",suffix:"",notes:"",phoneNumbers:[{type:2,value:"",label:""}],emails:[],addresses:[],websites:[],events:[],ims:[]}),ee())})();const V=e=>{e.type===-1&&ct(ro,{value:e.label,title:U("custom"),do:i=>{e.label=i}})},ne=(e,i,_)=>i===-1?e.label?e.label:U("custom"):U(`contact.${_}.${i}`),N=(e,i,_)=>e.map(B=>({value:B,label:ne(_,B,i)})),G=e=>{e.push({type:1,value:"",label:""}),R.value=!1},H=(e,i)=>{e.splice(i,1)},W=f(()=>{var e,i;h.data?O({id:h.data.id,input:s}):(s.source=((i=(e=h.sources)==null?void 0:e[0])==null?void 0:i.name)??"",C({input:s}))});return S(()=>{J()}),L(()=>{J()}),(e,i)=>{const _=De,B=uo,se=so,j=Qt,P=xe,ae=ye,me=rt,de=Be,ie=Ae,ue=Fe;return l(),z(ue,{onClose:t(J)},{headline:k(()=>[M(c(T.data?e.$t("edit"):e.$t("create")),1)]),content:k(()=>[u("label",co,c(e.$t("name")),1),u("div",mo,[r(_,{modelValue:s.firstName,"onUpdate:modelValue":i[0]||(i[0]=n=>s.firstName=n),label:e.$t("first_name")},null,8,["modelValue","label"]),g.value?(l(),z(_,{key:0,modelValue:s.middleName,"onUpdate:modelValue":i[1]||(i[1]=n=>s.middleName=n),label:e.$t("middle_name")},null,8,["modelValue","label"])):$("",!0),r(_,{modelValue:s.lastName,"onUpdate:modelValue":i[2]||(i[2]=n=>s.lastName=n),label:e.$t("last_name")},null,8,["modelValue","label"]),g.value?$("",!0):(l(),d("div",po,[u("button",{class:"btn-icon",onClick:i[3]||(i[3]=n=>g.value=!0)},[r(B)])]))]),g.value?(l(),d("div",_o,[r(_,{modelValue:s.prefix,"onUpdate:modelValue":i[4]||(i[4]=n=>s.prefix=n),label:e.$t("prefix")},null,8,["modelValue","label"]),r(_,{modelValue:s.suffix,"onUpdate:modelValue":i[5]||(i[5]=n=>s.suffix=n),label:e.$t("suffix")},null,8,["modelValue","label"]),u("div",vo,[u("button",{class:"btn-icon",onClick:i[6]||(i[6]=n=>g.value=!1)},[r(se)])])])):$("",!0),u("label",bo,c(e.$t("phone_number")),1),(l(!0),d(y,null,w(s.phoneNumbers,(n,b)=>(l(),d("div",{key:b,class:"form-row"},[r(j,{modelValue:n.type,"onUpdate:modelValue":p=>n.type=p,modelModifiers:{number:!0},class:"flex-2",options:N(t(le).phoneNumberTypes,"phone_number_type",n),onChange:p=>V(n)},null,8,["modelValue","onUpdate:modelValue","options","onChange"]),r(_,{modelValue:n.value,"onUpdate:modelValue":p=>n.value=p,placeholder:e.$t("telephone"),class:"flex-3"},null,8,["modelValue","onUpdate:modelValue","placeholder"]),u("div",fo,[s.phoneNumbers.length>1?(l(),d("button",{key:0,class:"btn-icon",onClick:p=>H(s.phoneNumbers,b)},[r(P)],8,yo)):$("",!0)])]))),128)),s.emails.length?(l(),d("label",go,c(e.$t("email")),1)):$("",!0),(l(!0),d(y,null,w(s.emails,(n,b)=>(l(),d("div",{key:b,class:"form-row"},[r(j,{modelValue:n.type,"onUpdate:modelValue":p=>n.type=p,modelModifiers:{number:!0},class:"flex-2",options:N(t(le).emailTypes,"email_type",n),onChange:p=>V(n)},null,8,["modelValue","onUpdate:modelValue","options","onChange"]),r(_,{modelValue:n.value,"onUpdate:modelValue":p=>n.value=p,label:e.$t("email"),class:"flex-3"},null,8,["modelValue","onUpdate:modelValue","label"]),u("div",$o,[u("button",{class:"btn-icon",onClick:p=>H(s.emails,b)},[r(P)],8,ko)])]))),128)),s.addresses.length?(l(),d("label",ho,c(e.$t("address")),1)):$("",!0),(l(!0),d(y,null,w(s.addresses,(n,b)=>(l(),d("div",{key:b,class:"form-row"},[r(j,{modelValue:n.type,"onUpdate:modelValue":p=>n.type=p,modelModifiers:{number:!0},class:"flex-2",options:N(t(le).addressTypes,"address_type",n),onChange:p=>V(n)},null,8,["modelValue","onUpdate:modelValue","options","onChange"]),r(_,{modelValue:n.value,"onUpdate:modelValue":p=>n.value=p,label:e.$t("address"),class:"flex-3"},null,8,["modelValue","onUpdate:modelValue","label"]),u("div",Co,[u("button",{class:"btn-icon",onClick:p=>H(s.addresses,b)},[r(P)],8,Vo)])]))),128)),s.websites.length?(l(),d("label",wo,c(e.$t("website")),1)):$("",!0),(l(!0),d(y,null,w(s.websites,(n,b)=>(l(),d("div",{key:b,class:"form-row"},[r(j,{modelValue:n.type,"onUpdate:modelValue":p=>n.type=p,modelModifiers:{number:!0},class:"flex-2",options:N(t(le).websiteTypes,"website_type",n),onChange:p=>V(n)},null,8,["modelValue","onUpdate:modelValue","options","onChange"]),r(_,{modelValue:n.value,"onUpdate:modelValue":p=>n.value=p,placeholder:e.$t("website"),class:"flex-3"},null,8,["modelValue","onUpdate:modelValue","placeholder"]),u("div",To,[u("button",{class:"btn-icon",onClick:p=>H(s.websites,b)},[r(P)],8,qo)])]))),128)),s.ims.length?(l(),d("label",No,c(e.$t("im")),1)):$("",!0),(l(!0),d(y,null,w(s.ims,(n,b)=>(l(),d("div",{key:b,class:"form-row"},[r(j,{modelValue:n.type,"onUpdate:modelValue":p=>n.type=p,modelModifiers:{number:!0},class:"flex-2",options:N(t(le).imTypes,"im_type",n),onChange:p=>V(n)},null,8,["modelValue","onUpdate:modelValue","options","onChange"]),r(_,{modelValue:n.value,"onUpdate:modelValue":p=>n.value=p,placeholder:e.$t("im"),class:"flex-3"},null,8,["modelValue","onUpdate:modelValue","placeholder"]),u("div",Uo,[u("button",{class:"btn-icon",onClick:p=>H(s.ims,b)},[r(P)],8,Lo)])]))),128)),u("div",Mo,[r(me,{modelValue:R.value,"onUpdate:modelValue":i[12]||(i[12]=n=>R.value=n),placement:"auto",align:"top-left-to-bottom-left"},{trigger:k(()=>[r(ae,null,{default:k(()=>[M(c(e.$t("add_field")),1)]),_:1})]),default:k(()=>[u("div",{class:"dropdown-item",onClick:i[7]||(i[7]=()=>G(s.phoneNumbers))},c(e.$t("phone_number")),1),u("div",{class:"dropdown-item",onClick:i[8]||(i[8]=()=>G(s.emails))},c(e.$t("email")),1),u("div",{class:"dropdown-item",onClick:i[9]||(i[9]=()=>G(s.addresses))},c(e.$t("address")),1),u("div",{class:"dropdown-item",onClick:i[10]||(i[10]=()=>G(s.websites))},c(e.$t("website")),1),u("div",{class:"dropdown-item",onClick:i[11]||(i[11]=()=>G(s.ims))},c(e.$t("im")),1)]),_:1},8,["modelValue"])]),u("div",So,[r(_,{modelValue:s.notes,"onUpdate:modelValue":i[13]||(i[13]=n=>s.notes=n),type:"textarea",label:e.$t("notes"),rows:3},null,8,["modelValue","label"])])]),actions:k(()=>[r(ae,{value:"cancel",onClick:t(J)},{default:k(()=>[M(c(e.$t("cancel")),1)]),_:1},8,["onClick"]),r(ie,{value:"save",disabled:t(q)||t(E),onClick:t(W)},{default:k(()=>[t(q)||t(E)?(l(),z(de,{key:0,indeterminate:""})):$("",!0),M(" "+c(e.$t("save")),1)]),_:1},8,["disabled","onClick"])]),_:1},8,["onClose"])}}}),Io={class:"top-app-bar"},Ao={class:"title"},Do={key:0},Fo={key:1},zo={class:"btn-icon",style:{display:"none"}},Eo={class:"actions"},Bo={class:"scroll-content"},xo=["onClick","onMouseover"],Ko={class:"start"},Ro={class:"number"},Oo=["src"],Qo={class:"title"},Go={class:"subtitle"},Ho={key:0},jo={class:"info"},Po={class:"list-unstyled"},Jo=["onClick"],Wo={class:"actions"},Zo=["onClick"],Xo=["onClick"],Yo=["onClick"],el={class:"time"},tl={class:"start"},ol={class:"number"},ll={key:0,class:"no-data-placeholder"},Y=50,nl=fe({__name:"ContactsView",setup(T){var Ve;const f=mt(),{app:h}=pt(_t()),s=F([]),{t:g}=Ee(),{parseQ:R}=Wt(),U=ze({tagIds:[]}),C=vt.CONTACT,q=bt(),S=q.query,O=F(parseInt(((Ve=S.page)==null?void 0:Ve.toString())??"1")),E=F([]),L=F(""),{tags:Q,fetch:ee}=Gt(C),{addToTags:ge}=Ht(C,Q),{deleteItems:I}=jt(Et,()=>{W(),b(),Z.emit("refetch_tags",C)}),{selectedIds:V,allChecked:ne,realAllChecked:N,selectRealAll:G,allCheckedAlertVisible:H,clearSelection:W,toggleAllChecked:e,toggleSelect:i,total:_,checked:B,shiftEffectingIds:se,handleItemClick:j,handleMouseOver:P,selectAll:ae,shouldSelect:me}=Pt(s),de=o=>{const v=q.query.q;At(f,v?`/contacts?page=${o}&q=${v}`:`/contacts?page=${o}`)},{keyDown:ie,keyUp:ue}=Jt(_,Y,O,ae,W,de,()=>{I(V.value,N.value,_.value,L.value)}),{loading:n,fetch:b}=ft({handle:(o,v)=>{v?Ne(g(v),"error"):o&&(s.value=o.contacts,_.value=o.contactCount)},document:Tt,variables:()=>({offset:(O.value-1)*Y,limit:Y,query:L.value})});yt({handle:(o,v)=>{v?Ne(g(v),"error"):o&&(E.value=o.contactSources)},document:qt,variables:null});const p=o=>{o.type===C&&(W(),b())},$e=o=>{o.type===C&&b()};function Ke(o){re(Dt,{type:C,tags:Q.value,item:{key:o.id,title:"",size:0},selected:Q.value.filter(v=>o.tags.some(A=>A.id===v.id))})}function ke(o){let v="";Ue(o.firstName)||Ue(o.lastName)?v=`${o.lastName}${o.middleName}${o.firstName}`:v=[o.firstName,o.middleName,o.lastName].filter(pe=>pe).join(" ");const A=o.suffix?`, ${o.suffix}`:"",te=`${o.prefix} ${v} ${A}`.trim();return te||(o.emails.length?o.emails[0].value:"")}function Re(o){re(Ft,{id:o.id,name:ke(o),gql:be`
      mutation DeleteContact($query: String!) {
        deleteContacts(query: $query)
      }
    `,variables:()=>({query:`ids:${o.id}`}),typeName:"Contact",done:()=>{_.value--,o.tags.length&&Z.emit("refetch_tags",C)}})}function Oe(o){re(Le,{data:o,sources:E,done:b})}function Qe(){re(Le,{data:null,sources:E,done:b})}function Ge(o){return o?`/contacts?q=${o}`:"/contacts"}const he=F(""),Ce=F(0),{mutate:He,loading:je}=ve({document:Nt});function Pe(o,v,A){he.value=o,Ce.value=A,He({number:v})}return gt(()=>{var o;L.value=zt(((o=S.q)==null?void 0:o.toString())??""),R(U,L.value),ee(),b(),Z.on("item_tags_updated",$e),Z.on("items_tags_updated",p),window.addEventListener("keydown",ie),window.addEventListener("keyup",ue)}),$t(()=>{Z.off("item_tags_updated",$e),Z.off("items_tags_updated",p),window.removeEventListener("keydown",ie),window.removeEventListener("keyup",ue)}),(o,v)=>{const A=kt,te=xe,pe=Ct,we=Vt,Je=Rt,We=ye,Ze=Ot,Xe=Kt,Ye=oo,et=Lt,tt=Be,ot=xt,lt=Yt,nt=st,x=ht("tooltip");return l(),d(y,null,[u("div",Io,[r(A,{"touch-target":"wrapper",checked:t(ne),indeterminate:!t(ne)&&t(B),onChange:t(e)},null,8,["checked","indeterminate","onChange"]),u("div",Ao,[t(V).length?(l(),d("span",Do,c(o.$t("x_selected",{count:t(N)?t(_).toLocaleString():t(V).length.toLocaleString()})),1)):(l(),d("span",Fo,c(o.$t("page_title.contacts"))+" ("+c(t(_).toLocaleString())+")",1)),t(B)?(l(),d(y,{key:2},[K((l(),d("button",{class:"btn-icon",onClick:v[0]||(v[0]=D(m=>t(I)(t(V),t(N),t(_),L.value),["stop"]))},[r(te)])),[[x,o.$t("delete")]]),K((l(),d("button",zo,[r(pe)])),[[x,o.$t("download")]]),K((l(),d("button",{class:"btn-icon",onClick:v[1]||(v[1]=D(m=>t(ge)(t(V),t(N),L.value),["stop"]))},[r(we)])),[[x,o.$t("add_to_tags")]])],64)):$("",!0)]),u("div",Eo,[r(Je,{filter:U,tags:t(Q),"get-url":Ge},null,8,["filter","tags"]),r(We,{class:"btn-sm",onClick:Qe},{default:k(()=>[M(c(o.$t("create")),1)]),_:1})])]),r(Ze,{limit:Y,total:t(_),"all-checked-alert-visible":t(H),"real-all-checked":t(N),"select-real-all":t(G),"clear-selection":t(W)},null,8,["total","all-checked-alert-visible","real-all-checked","select-real-all","clear-selection"]),u("div",Bo,[u("div",{class:qe(["contact-list",{"select-mode":t(B)}])},[(l(!0),d(y,null,w(s.value,(m,oe)=>(l(),d("section",{key:m.id,class:qe(["contact-item selectable-card",{selected:t(V).includes(m.id),selecting:t(se).includes(m.id)}]),onClick:D(a=>t(j)(a,m,oe,()=>{}),["stop"]),onMouseover:a=>t(P)(a,oe)},[u("div",Ko,[t(se).includes(m.id)?(l(),z(A,{key:0,class:"checkbox","touch-target":"wrapper",checked:t(me),onClick:D(a=>t(i)(a,m,oe),["stop"])},null,8,["checked","onClick"])):(l(),z(A,{key:1,class:"checkbox","touch-target":"wrapper",checked:t(V).includes(m.id),onClick:D(a=>t(i)(a,m,oe),["stop"])},null,8,["checked","onClick"])),u("span",Ro,[r(Xe,{id:oe+1,raw:m},null,8,["id","raw"])])]),m.thumbnailId?(l(),d("img",{key:0,class:"image",src:t(Ut)(m.thumbnailId),width:"50"},null,8,Oo)):(l(),z(Ye,{key:1,class:"image"})),u("div",Qo,c(ke(m)),1),u("div",Go,[m.notes?(l(),d("span",Ho,c(m.notes),1)):$("",!0),r(et,{tags:m.tags,type:t(C),"only-links":!0},null,8,["tags","type"])]),u("div",jo,[u("ul",Po,[(l(!0),d(y,null,w(m.phoneNumbers,(a,_e)=>(l(),d("li",{key:_e,class:"phone-number"},[M(c(a.type>0?o.$t(`contact.phone_number_type.${a.type}`):a.label)+" "+c(a.normalizedNumber||a.value)+" ",1),t(je)&&he.value===m.id&&Ce.value===_e?(l(),z(tt,{key:0,indeterminate:"",class:"sm"})):K((l(),d("button",{key:1,class:"btn-icon sm",onClick:D(sl=>Pe(m.id,a.normalizedNumber||a.value,_e),["stop"])},[r(ot)],8,Jo)),[[x,o.$t("make_a_phone_call")]])]))),128)),(l(!0),d(y,null,w(m.emails,a=>(l(),d("li",{key:a.type+a.value},c(a.type>0?o.$t(`contact.email_type.${a.type}`):a.label)+" "+c(a.value),1))),128)),(l(!0),d(y,null,w(m.addresses,a=>(l(),d("li",{key:a.type+a.value},c(a.type>0?o.$t(`contact.address_type.${a.type}`):a.label)+" "+c(a.value),1))),128)),(l(!0),d(y,null,w(m.websites,a=>(l(),d("li",{key:a.type+a.value},c(a.type>0?o.$t(`contact.website_type.${a.type}`):a.label)+" "+c(a.value),1))),128)),(l(!0),d(y,null,w(m.ims,a=>(l(),d("li",{key:a.type+a.value},c(a.type>0?o.$t(`contact.im_type.${a.type}`):a.label)+" "+c(a.value),1))),128)),(l(!0),d(y,null,w(m.events,a=>(l(),d("li",{key:a.type+a.value},c(a.type>0?o.$t(`contact.event_type.${a.type}`):a.label)+" "+c(a.value),1))),128))])]),u("div",Wo,[K((l(),d("button",{class:"btn-icon sm",onClick:D(a=>Re(m),["stop"])},[r(te)],8,Zo)),[[x,o.$t("delete")]]),K((l(),d("button",{class:"btn-icon sm",onClick:D(a=>Oe(m),["stop"])},[r(lt)],8,Xo)),[[x,o.$t("edit")]]),K((l(),d("button",{class:"btn-icon sm",onClick:D(a=>Ke(m),["stop"])},[r(we)],8,Yo)),[[x,o.$t("add_to_tags")]])]),u("div",el,[K((l(),d("span",null,[M(c(t(St)(m.updatedAt)),1)])),[[x,t(Mt)(m.updatedAt)]])])],42,xo))),128)),t(n)&&s.value.length===0?(l(),d(y,{key:0},w(20,m=>u("section",{key:m,class:"contact-item selectable-card-skeleton"},[u("div",tl,[v[2]||(v[2]=u("div",{class:"checkbox"},[u("div",{class:"skeleton-checkbox"})],-1)),u("span",ol,c(m),1)]),v[3]||(v[3]=It('<div class="image" data-v-08e1b0b8><div class="skeleton-image" data-v-08e1b0b8></div></div><div class="title" data-v-08e1b0b8><div class="skeleton-text skeleton-title" data-v-08e1b0b8></div></div><div class="subtitle" data-v-08e1b0b8><div class="skeleton-text skeleton-subtitle" data-v-08e1b0b8></div></div><div class="info" data-v-08e1b0b8><div class="skeleton-text skeleton-info" data-v-08e1b0b8></div></div><div class="actions" data-v-08e1b0b8><div class="skeleton-text skeleton-actions" data-v-08e1b0b8></div></div><div class="time" data-v-08e1b0b8><div class="skeleton-text skeleton-time" data-v-08e1b0b8></div></div>',6))])),64)):$("",!0)],2),!t(n)&&s.value.length===0?(l(),d("div",ll,c(o.$t(t(wt)(t(n),t(h).permissions,"WRITE_CONTACTS"))),1)):$("",!0),t(_)>Y?(l(),z(nt,{key:1,page:O.value,go:de,total:t(_),limit:Y},null,8,["page","total"])):$("",!0)])],64)}}}),bl=Bt(nl,[["__scopeId","data-v-08e1b0b8"]]);export{bl as default};
