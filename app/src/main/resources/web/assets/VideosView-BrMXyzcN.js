import{_ as Wt}from"./VPagination.vuevuetypescriptsetuptruelang-CHD_8v0v.js";import{_ as Gt,a as Zt,b as Xt,c as Jt}from"./ViewToggleButtons.vuevuetypescriptsetuptruelang-jz36DVqt.js";import{_ as Yt}from"./ListItemPhone.vuevuetypescriptsetuptruelang-CQmW3Kot.js";import{e as $e,u as it,c as m,o as s,T as q,U as C,Q as c,R as be,l as e,J as l,ai as lt,z as r,q as u,k as d,a8 as dt,aO as rt,aP as P,al as ut,aQ as ee,aR as te,aS as pt,S as mt,a as g,b3 as _e,aK as oe,t as _,n as ye,aa as he,$ as ct,a0 as xt,G as Ye,a1 as xe,f as eo,s as et,r as z,K as to,g as oo,an as tt,ao as so,L as no,M as ao,aT as io,aU as ot,aV as lo,ap as ro,N as uo,aW as po,aX as mo,O as co,P as go,j as V,p as vo,ah as ko,ar as fo,V as x,W as _o,ay as yo,b4 as ho,F as $o,aZ as bo,aj as wo,aq as Co,a_ as Io,ax as To,a$ as Fo,B as st,a2 as So,a3 as Eo,b5 as nt,b1 as at,a4 as Vo,a5 as M}from"./index-DRp6xo3j.js";import{_ as Do}from"./FieldId.vuevuetypescriptsetuptruelang-slfJ4h1L.js";import{_ as gt}from"./VCheckbox-COaKMA3E.js";import{_ as Lo,a as Ao,b as Mo}from"./SearchInput-BJwFSU_P.js";import{_ as Bo}from"./sort-rounded-CWaGCvOj.js";import{_ as Uo}from"./MediaKeyboardShortcuts.vuevuetypescriptsetuptruelang-CQl8yN-o.js";import{a as Ro}from"./tags-DBIbojtk.js";import{u as zo,a as qo}from"./key-events-cECSsEaK.js";import{u as Po}from"./search-VN1T4MU3.js";import"./search-rounded-DveNm3Pb.js";const No=$e({__name:"VideoActionButtons",props:{item:{},filter:{},dataType:{},app:{},isPhone:{type:Boolean},deleteItem:{type:Function},restore:{type:Function},downloadFile:{type:Function},trash:{type:Function},addItemToTags:{type:Function},restoreLoading:{type:Function},trashLoading:{type:Function}},setup(we){const{t}=it();return(a,v)=>{const b=dt,I=lt,N=rt,O=ut,$=pt,U=mt,p=be("tooltip");return s(),m("div",{class:q(["list-item-actions",{mobile:a.isPhone}])},[a.filter.trash?(s(),m(C,{key:0},[c((s(),l(I,{class:"sm",onClick:v[0]||(v[0]=r(T=>a.deleteItem(a.dataType,a.item),["stop"]))},{default:u(()=>[d(b)]),_:1})),[[p,e(t)("delete")]]),c((s(),l(I,{class:"sm",loading:a.restoreLoading(`ids:${a.item.id}`),onClick:v[1]||(v[1]=r(T=>a.restore(a.dataType,`ids:${a.item.id}`),["stop"]))},{default:u(()=>[d(N)]),_:1},8,["loading"])),[[p,e(t)("restore")]]),c((s(),l(I,{class:"sm",onClick:v[2]||(v[2]=r(T=>a.downloadFile(a.item.path,e(P)(a.item.path).replace(" ","-")),["stop"]))},{default:u(()=>[d(O)]),_:1})),[[p,e(t)("download")]])],64)):(s(),m(C,{key:1},[e(ee)(e(te).MEDIA_TRASH,a.app.osVersion)?c((s(),l(I,{key:0,class:"sm",loading:a.trashLoading(`ids:${a.item.id}`),onClick:v[3]||(v[3]=r(T=>a.trash(a.dataType,`ids:${a.item.id}`),["stop"]))},{default:u(()=>[d($)]),_:1},8,["loading"])),[[p,e(t)("move_to_trash")]]):c((s(),l(I,{key:1,class:"sm",onClick:v[4]||(v[4]=r(T=>a.deleteItem(a.dataType,a.item),["stop"]))},{default:u(()=>[d(b)]),_:1})),[[p,e(t)("delete")]]),c((s(),l(I,{class:"sm",onClick:v[5]||(v[5]=r(T=>a.downloadFile(a.item.path,e(P)(a.item.path).replace(" ","-")),["stop"]))},{default:u(()=>[d(O)]),_:1})),[[p,e(t)("download")]]),c((s(),l(I,{class:"sm",onClick:v[6]||(v[6]=r(T=>a.addItemToTags(a.item),["stop"]))},{default:u(()=>[d(U)]),_:1})),[[p,e(t)("add_to_tags")]])],64))],2)}}}),Oo={class:"list-item-start"},Ho={class:"number"},Ko={class:"image"},Qo=["src"],jo=["src"],Wo={class:"title"},Go={class:"subtitle"},Zo={class:"time"},Xo={class:"image"},Jo=["src"],Yo=["src"],xo={class:"subtitle"},es={class:"subtitle"},ts=$e({__name:"VideoListItem",props:{item:{},index:{},selectedIds:{},shiftEffectingIds:{},shouldSelect:{type:Boolean},isPhone:{type:Boolean},imageErrorIds:{},bucketsMap:{},filter:{},dataType:{},mainStore:{},app:{},handleItemClick:{type:Function},handleMouseOver:{type:Function},toggleSelect:{type:Function},onImageError:{type:Function},viewBucket:{type:Function},deleteItem:{type:Function},restore:{type:Function},downloadFile:{type:Function},trash:{type:Function},addItemToTags:{type:Function},view:{type:Function},restoreLoading:{type:Function},trashLoading:{type:Function}},setup(we){return(t,a)=>{var U;const v=gt,b=Do,I=ct,N=No,O=Yt,$=be("tooltip");return t.isPhone?(s(),l(O,{key:1,"is-selected":t.selectedIds.includes(t.item.id),"is-selecting":t.shiftEffectingIds.includes(t.item.id),"checkbox-checked":t.shiftEffectingIds.includes(t.item.id)?t.shouldSelect:t.selectedIds.includes(t.item.id),onClick:a[8]||(a[8]=p=>t.handleItemClick(p,t.item,t.index,()=>t.view(t.index))),onMouseover:a[9]||(a[9]=p=>t.handleMouseOver(p,t.index)),onCheckboxClick:a[10]||(a[10]=p=>t.toggleSelect(p,t.item,t.index))},{image:u(()=>[g("div",Xo,[t.imageErrorIds.includes(t.item.id)?(s(),m("img",{key:0,src:`/ficons/${e(_e)(t.item.path)}.svg`,class:"svg"},null,8,Jo)):(s(),m("img",{key:1,class:"image-thumb",src:e(oe)(t.item.fileId,"&w=200&h=200"),onError:a[6]||(a[6]=p=>t.onImageError(t.item.id))},null,40,Yo))])]),title:u(()=>[Ye(_(e(P)(t.item.path)),1)]),subtitle:u(()=>{var p;return[g("div",xo,[g("span",null,_(e(ye)(t.item.size)),1),g("span",null,_(e(he)(t.item.duration)),1),g("a",{onClick:a[7]||(a[7]=r(T=>t.viewBucket(t.mainStore,t.item.bucketId),["stop","prevent"]))},_((p=t.bucketsMap[t.item.bucketId])==null?void 0:p.name),1),d(I,{tags:t.item.tags,type:t.dataType,"only-links":!0},null,8,["tags","type"])]),g("div",es,_(e(xe)(t.item.createdAt)),1)]}),actions:u(()=>[d(N,{item:t.item,filter:t.filter,"data-type":t.dataType,app:t.app,"is-phone":!0,"delete-item":t.deleteItem,restore:t.restore,"download-file":t.downloadFile,trash:t.trash,"add-item-to-tags":t.addItemToTags,"restore-loading":t.restoreLoading,"trash-loading":t.trashLoading},null,8,["item","filter","data-type","app","delete-item","restore","download-file","trash","add-item-to-tags","restore-loading","trash-loading"])]),_:1},8,["is-selected","is-selecting","checkbox-checked"])):(s(),m("section",{key:0,class:q(["media-item selectable-card",{selected:t.selectedIds.includes(t.item.id),selecting:t.shiftEffectingIds.includes(t.item.id)}]),onClick:a[4]||(a[4]=r(p=>t.handleItemClick(p,t.item,t.index,()=>t.view(t.index)),["stop"])),onMouseover:a[5]||(a[5]=p=>t.handleMouseOver(p,t.index))},[g("div",Oo,[t.shiftEffectingIds.includes(t.item.id)?(s(),l(v,{key:0,class:"checkbox","touch-target":"wrapper",checked:t.shouldSelect,onClick:a[0]||(a[0]=r(p=>t.toggleSelect(p,t.item,t.index),["stop"]))},null,8,["checked"])):(s(),l(v,{key:1,class:"checkbox","touch-target":"wrapper",checked:t.selectedIds.includes(t.item.id),onClick:a[1]||(a[1]=r(p=>t.toggleSelect(p,t.item,t.index),["stop"]))},null,8,["checked"])),g("span",Ho,[d(b,{id:t.index+1,raw:t.item},null,8,["id","raw"])])]),g("div",Ko,[t.imageErrorIds.includes(t.item.id)?(s(),m("img",{key:0,src:`/ficons/${e(_e)(t.item.path)}.svg`,class:"svg"},null,8,Qo)):(s(),m("img",{key:1,class:"image-thumb",src:e(oe)(t.item.fileId,"&w=200&h=200"),onError:a[2]||(a[2]=p=>t.onImageError(t.item.id))},null,40,jo))]),g("div",Wo,_(e(P)(t.item.path)),1),g("div",Go,[g("span",null,_(e(ye)(t.item.size)),1),g("span",null,_(e(he)(t.item.duration)),1),g("a",{onClick:a[3]||(a[3]=r(p=>t.viewBucket(t.mainStore,t.item.bucketId),["stop","prevent"]))},_((U=t.bucketsMap[t.item.bucketId])==null?void 0:U.name),1),d(I,{tags:t.item.tags,type:t.dataType,"only-links":!0},null,8,["tags","type"])]),d(N,{item:t.item,filter:t.filter,"data-type":t.dataType,app:t.app,"delete-item":t.deleteItem,restore:t.restore,"download-file":t.downloadFile,trash:t.trash,"add-item-to-tags":t.addItemToTags,"restore-loading":t.restoreLoading,"trash-loading":t.trashLoading},null,8,["item","filter","data-type","app","delete-item","restore","download-file","trash","add-item-to-tags","restore-loading","trash-loading"]),g("div",Zo,[c((s(),m("span",null,[Ye(_(e(xe)(t.item.createdAt)),1)])),[[$,e(xt)(t.item.createdAt)]])])],34))}}}),os={class:"top-app-bar"},ss={class:"title"},ns={key:0},as={key:1},is={key:0,class:"actions"},ls=["onClick"],ds={key:0,class:"secondary-actions"},rs=["onClick","onMouseover"],us=["src"],ps=["src","onError"],ms={key:1,class:"actions"},cs={class:"right"},gs={key:2,class:"no-data-placeholder"},B=55,Ss=$e({__name:"VideosView",setup(we){var Qe;const t=vo("isPhone"),a=eo(),{videoSortBy:v}=et(a),b=z([]),{t:I}=it(),{parseQ:N,buildQ:O}=Po(),$=to({tagIds:[],bucketId:void 0}),U=oo(),{app:p,urlTokenKey:T,uploads:se}=et(U),G=z(!1),ne=z(!1),{input:vt,upload:kt,uploadChanged:Ce}=tt(se),{input:ft,upload:_t,uploadChanged:Ie}=tt(se),{dropping:yt,fileDragEnter:Te,fileDragLeave:Fe,dropFiles:ht}=so(se),ae=z(!1),k=no.VIDEO,Se=ao(),Ee=Se.query,ie=z(parseInt(((Qe=Ee.page)==null?void 0:Qe.toString())??"1")),{tags:H,buckets:K,fetch:$t}=io(k),bt=ot(()=>{const o={};return K.value.forEach(i=>{o[i.id]=i}),o}),F=z(""),{addToTags:wt}=Ro(k,H),{deleteItems:le,deleteItem:de}=lo(),{view:Ct}=Fo(k),{selectedIds:w,allChecked:Ve,realAllChecked:D,selectRealAll:It,allCheckedAlertVisible:Tt,clearSelection:Q,toggleAllChecked:Ft,toggleSelect:Z,total:S,checked:R,shiftEffectingIds:re,handleItemClick:De,handleMouseOver:Le,selectAll:St,shouldSelect:Ae}=zo(b),{downloadItems:Me}=ro(T,k,Q,()=>yo("videos")),{downloadFile:ue}=To(T),Be=o=>{const i=Se.query.q;st(a,i?`/videos?page=${o}&q=${i}`:`/videos?page=${o}`)},{keyDown:Ue,keyUp:Re}=qo(S,B,ie,St,Q,Be,()=>{ee(te.MEDIA_TRASH,p.value.osVersion)?J(k,W()):le(k,w.value,D.value,S.value,F.value)}),pe=z([]),Et=Co(),Vt=ot(()=>b.value.map(o=>({src:oe(o.fileId),name:P(o.path),duration:o.duration,size:o.size,path:o.path,data:o,type:k}))),ze=o=>{pe.value.push(o)},{loading:X,fetch:j}=uo({handle:async(o,i)=>{if(ae.value=!1,i)$o(I(i),"error");else if(o){const L=[];for(const E of o.videos)L.push({...E,fileId:bo(T.value,E.path,E.id)});b.value=L,S.value=o.videoCount}},document:ho,variables:()=>({offset:(ie.value-1)*B,limit:B,query:F.value,sortBy:v.value})}),{trashLoading:me,trash:J}=po(),{restoreLoading:ce,restore:ge}=mo();function ve(o){U.lightbox={sources:Vt.value,index:o,visible:!0}}const W=()=>{let o=F.value;return D.value||(o=`ids:${w.value.join(",")}`),o};function Dt(o){v.value!==o&&(ae.value=!0,v.value=o)}function qe(o){return o?`/videos?q=${o}`:"/videos"}function Pe(o){So(Eo,{type:k,tags:H.value,item:{key:o.id,title:o.title,size:o.size},selected:H.value.filter(i=>o.tags.some(L=>L.id===i.id))})}function ke(){const o=K.value.find(i=>i.id===$.bucketId);return o?at(o.topItems[0]):`${p.value.internalStoragePath}/Movies`}function Lt(){kt(ke())}function At(){_t(ke())}function Mt(o){ht(o,ke(),i=>nt(i.name))}const Ne=o=>{o.type===k&&(Q(),j())},Oe=o=>{o.type===k&&j()},He=o=>{o.type===k&&(Q(),j())},Ke=o=>{o.status==="done"&&nt(o.fileName)&&((!$.bucketId||K.value.some(L=>L.id===$.bucketId&&L.topItems.some(E=>o.dir.startsWith(at(E)))))&&setTimeout(()=>{j()},1e3),M.emit("media_items_actioned",{type:k,action:"upload",query:""}))};function Bt(o){Object.assign($,o),st(a,qe(O($)))}return co(()=>{var o;F.value=Vo(((o=Ee.q)==null?void 0:o.toString())??""),N($,F.value),$t(),j(),M.on("item_tags_updated",Oe),M.on("items_tags_updated",Ne),M.on("media_items_actioned",He),M.on("upload_task_done",Ke),window.addEventListener("keydown",Ue),window.addEventListener("keyup",Re)}),go(()=>{M.off("item_tags_updated",Oe),M.off("items_tags_updated",Ne),M.off("media_items_actioned",He),M.off("upload_task_done",Ke),window.removeEventListener("keydown",Ue),window.removeEventListener("keyup",Re)}),(o,i)=>{const L=gt,E=dt,f=lt,je=rt,Y=ut,We=pt,Ge=mt,Ut=Lo,Rt=Uo,zt=wo,Ze=ko,qt=Bo,Xe=Gt,Pt=Mo,Nt=Ao,fe=Xt,Je=Jt,Ot=Io,Ht=ct,Kt=ts,Qt=Zt,jt=Wt,h=be("tooltip");return s(),m(C,null,[g("div",os,[d(L,{"touch-target":"wrapper",checked:e(Ve),indeterminate:!e(Ve)&&e(R),onChange:e(Ft)},null,8,["checked","indeterminate","onChange"]),g("div",ss,[e(w).length?(s(),m("span",ns,_(o.$t("x_selected",{count:e(D)?e(S).toLocaleString():e(w).length.toLocaleString()})),1)):(s(),m("span",as,_(o.$t("page_title.videos"))+" ("+_(e(S).toLocaleString())+")",1)),e(R)?(s(),m(C,{key:2},[$.trash?(s(),m(C,{key:0},[c((s(),l(f,{onClick:i[0]||(i[0]=r(n=>e(le)(e(k),e(w),e(D),e(S),F.value),["stop"]))},{default:u(()=>[d(E)]),_:1})),[[h,o.$t("delete")]]),c((s(),l(f,{loading:e(ce)(W()),onClick:i[1]||(i[1]=r(n=>e(ge)(e(k),W()),["stop"]))},{default:u(()=>[d(je)]),_:1},8,["loading"])),[[h,o.$t("restore")]]),c((s(),l(f,{onClick:i[2]||(i[2]=r(n=>e(Me)(e(D),e(w),F.value),["stop"]))},{default:u(()=>[d(Y)]),_:1})),[[h,o.$t("download")]])],64)):(s(),m(C,{key:1},[e(ee)(e(te).MEDIA_TRASH,e(p).osVersion)?c((s(),l(f,{key:0,loading:e(me)(W()),onClick:i[3]||(i[3]=r(n=>e(J)(e(k),W()),["stop"]))},{default:u(()=>[d(We)]),_:1},8,["loading"])),[[h,o.$t("move_to_trash")]]):c((s(),l(f,{key:1,onClick:i[4]||(i[4]=r(n=>e(le)(e(k),e(w),e(D),e(S),F.value),["stop"]))},{default:u(()=>[d(E)]),_:1})),[[h,o.$t("delete")]]),c((s(),l(f,{onClick:i[5]||(i[5]=r(n=>e(Me)(e(D),e(w),F.value),["stop"]))},{default:u(()=>[d(Y)]),_:1})),[[h,o.$t("download")]]),c((s(),l(f,{onClick:i[6]||(i[6]=r(n=>e(wt)(e(w),e(D),F.value),["stop"]))},{default:u(()=>[d(Ge)]),_:1})),[[h,o.$t("add_to_tags")]])],64))],64)):V("",!0)]),!e(t)||!e(R)?(s(),m("div",is,[d(Ut,{filter:$,tags:e(H),buckets:e(K),"get-url":qe,"show-chips":!e(t),"is-phone":e(t)},null,8,["filter","tags","buckets","show-chips","is-phone"]),d(Rt),$.trash?V("",!0):(s(),l(Ze,{key:0,modelValue:G.value,"onUpdate:modelValue":i[9]||(i[9]=n=>G.value=n)},{trigger:u(()=>[c((s(),l(f,null,{default:u(()=>[d(zt)]),_:1})),[[h,o.$t("upload")]])]),default:u(()=>[g("div",{class:"dropdown-item",onClick:i[7]||(i[7]=r(n=>{Lt(),G.value=!1},["stop"]))},_(o.$t("upload_files")),1),g("div",{class:"dropdown-item",onClick:i[8]||(i[8]=r(n=>{At(),G.value=!1},["stop"]))},_(o.$t("upload_folder")),1)]),_:1},8,["modelValue"])),d(Ze,{modelValue:ne.value,"onUpdate:modelValue":i[10]||(i[10]=n=>ne.value=n)},{trigger:u(()=>[c((s(),l(f,{loading:ae.value},{default:u(()=>[d(qt)]),_:1},8,["loading"])),[[h,o.$t("sort")]])]),default:u(()=>[(s(!0),m(C,null,x(e(Et),n=>(s(),m("div",{key:n.value,class:q(["dropdown-item",{selected:n.value===e(v)}]),onClick:A=>{Dt(n.value),ne.value=!1}},_(o.$t(n.label)),11,ls))),128))]),_:1},8,["modelValue"]),e(t)?V("",!0):(s(),l(Xe,{key:1,"card-view":e(a).videosCardView,"onUpdate:cardView":i[11]||(i[11]=n=>e(a).videosCardView=n)},null,8,["card-view"]))])):V("",!0)]),e(t)&&!e(R)?(s(),m("div",ds,[d(Xe,{"card-view":e(a).videosCardView,"onUpdate:cardView":i[12]||(i[12]=n=>e(a).videosCardView=n)},null,8,["card-view"])])):V("",!0),e(t)?(s(),l(Pt,{key:1,class:"mobile-search-filters",filter:$,tags:e(H),feeds:[],buckets:e(K),types:[],onFilterChange:Bt},null,8,["filter","tags","buckets"])):V("",!0),d(Nt,{limit:B,total:e(S),"all-checked-alert-visible":e(Tt),"real-all-checked":e(D),"select-real-all":e(It),"clear-selection":e(Q)},null,8,["total","all-checked-alert-visible","real-all-checked","select-real-all","clear-selection"]),g("div",{class:"scroll-content",onDragover:i[16]||(i[16]=r((...n)=>e(Te)&&e(Te)(...n),["stop","prevent"]))},[c(g("div",{class:"drag-mask",onDrop:r(Mt,["stop","prevent"]),onDragleave:i[13]||(i[13]=r((...n)=>e(Fe)&&e(Fe)(...n),["stop","prevent"]))},_(o.$t("release_to_send_files")),545),[[fo,e(yt)]]),e(a).videosCardView?(s(),m("div",{key:1,class:q(["media-list",{"select-mode":e(R)}])},[(s(!0),m(C,null,x(b.value,(n,A)=>(s(),l(Kt,{key:n.id,item:n,index:A,"is-phone":e(t),"selected-ids":e(w),"shift-effecting-ids":e(re),"should-select":e(Ae),"image-error-ids":pe.value,"buckets-map":bt.value,filter:$,"data-type":e(k),"main-store":e(a),app:e(p),"handle-item-click":e(De),"handle-mouse-over":e(Le),"toggle-select":e(Z),"on-image-error":ze,"view-bucket":e(Ct),"delete-item":e(de),restore:e(ge),"download-file":e(ue),trash:e(J),"add-item-to-tags":Pe,view:ve,"restore-loading":e(ce),"trash-loading":e(me)},null,8,["item","index","is-phone","selected-ids","shift-effecting-ids","should-select","image-error-ids","buckets-map","filter","data-type","main-store","app","handle-item-click","handle-mouse-over","toggle-select","view-bucket","delete-item","restore","download-file","trash","restore-loading","trash-loading"]))),128)),e(X)&&b.value.length===0?(s(),l(Qt,{key:0,limit:B,"is-phone":e(t)},null,8,["is-phone"])):V("",!0)],2)):(s(),m("div",{key:0,class:q(["media-grid",{"select-mode":e(R)}])},[(s(!0),m(C,null,x(b.value,(n,A)=>(s(),m("section",{key:n.id,class:q(["media-item",{selected:e(w).includes(n.id),selecting:e(re).includes(n.id)}]),onClick:r(y=>e(De)(y,n,A,ve),["stop"]),onMouseover:y=>e(Le)(y,A)},[pe.value.includes(n.id)?(s(),m("img",{key:0,src:`/ficons/${e(_e)(n.path)}.svg`,class:"image svg"},null,8,us)):(s(),m("img",{key:1,class:"image image-thumb",src:e(oe)(n.fileId,"&w=200&h=200"),onError:y=>ze(n.id)},null,40,ps)),e(re).includes(n.id)?(s(),l(f,{key:2,class:"btn-checkbox",onClick:r(y=>e(Z)(y,n,A),["stop"])},{default:u(()=>[e(Ae)?(s(),l(fe,{key:0})):(s(),l(Je,{key:1}))]),_:2},1032,["onClick"])):e(w).includes(n.id)?(s(),l(f,{key:3,class:"btn-checkbox",onClick:r(y=>e(Z)(y,n,A),["stop"])},{default:u(()=>[d(fe)]),_:2},1032,["onClick"])):(s(),m(C,{key:4},[d(f,{class:"btn-checkbox",onClick:r(y=>e(Z)(y,n,A),["stop"])},{default:u(()=>[e(w).includes(n.id)?(s(),l(fe,{key:0})):(s(),l(Je,{key:1}))]),_:2},1032,["onClick"]),e(R)?c((s(),l(f,{key:0,class:"btn-zoom sm",onClick:r(y=>ve(A),["stop"])},{default:u(()=>[d(Ot)]),_:2},1032,["onClick"])),[[h,o.$t("open")]]):(s(),m("div",ms,[$.trash?(s(),m(C,{key:0},[c((s(),l(f,{class:"sm",onClick:r(y=>e(de)(e(k),n),["stop"])},{default:u(()=>[d(E)]),_:2},1032,["onClick"])),[[h,o.$t("delete")]]),c((s(),l(f,{class:"sm",loading:e(ce)(`ids:${n.id}`),onClick:r(y=>e(ge)(e(k),`ids:${n.id}`),["stop"])},{default:u(()=>[d(je)]),_:2},1032,["loading","onClick"])),[[h,o.$t("restore")]]),c((s(),l(f,{class:"sm",onClick:r(y=>e(ue)(n.path,e(P)(n.path).replace(" ","-")),["stop"])},{default:u(()=>[d(Y)]),_:2},1032,["onClick"])),[[h,o.$t("download")]])],64)):(s(),m(C,{key:1},[e(ee)(e(te).MEDIA_TRASH,e(p).osVersion)?c((s(),l(f,{key:0,class:"sm",loading:e(me)(`ids:${n.id}`),onClick:r(y=>e(J)(e(k),`ids:${n.id}`),["stop"])},{default:u(()=>[d(We)]),_:2},1032,["loading","onClick"])),[[h,o.$t("move_to_trash")]]):c((s(),l(f,{key:1,class:"sm",onClick:r(y=>e(de)(e(k),n),["stop"])},{default:u(()=>[d(E)]),_:2},1032,["onClick"])),[[h,o.$t("delete")]]),c((s(),l(f,{class:"sm",onClick:r(y=>e(ue)(n.path,e(P)(n.path).replace(" ","-")),["stop"])},{default:u(()=>[d(Y)]),_:2},1032,["onClick"])),[[h,o.$t("download")]]),c((s(),l(f,{class:"sm",onClick:r(y=>Pe(n),["stop"])},{default:u(()=>[d(Ge)]),_:2},1032,["onClick"])),[[h,o.$t("add_to_tags")]])],64))])),g("div",{class:q(["info",{"has-tags":n.tags.length>0}])},[d(Ht,{tags:n.tags,type:e(k)},null,8,["tags","type"]),g("span",cs,_(["SIZE_ASC","SIZE_DESC"].includes(e(v))?e(ye)(n.size):e(he)(n.duration)),1)],2)],64))],42,rs))),128)),e(X)&&b.value.length===0?(s(),m(C,{key:0},x(B,n=>g("section",{key:n,class:"skeleton-image media-item"})),64)):V("",!0)],2)),!e(X)&&b.value.length===0?(s(),m("div",gs,_(o.$t(e(_o)(e(X),e(p).permissions,"WRITE_EXTERNAL_STORAGE"))),1)):V("",!0),e(S)>B?(s(),l(jt,{key:3,page:ie.value,go:Be,total:e(S),limit:B},null,8,["page","total"])):V("",!0),g("input",{ref_key:"fileInput",ref:vt,style:{display:"none"},type:"file",accept:"video/*",multiple:"",onChange:i[14]||(i[14]=(...n)=>e(Ce)&&e(Ce)(...n))},null,544),g("input",{ref_key:"dirFileInput",ref:ft,style:{display:"none"},type:"file",accept:"video/*",multiple:"",webkitdirectory:"",mozdirectory:"",directory:"",onChange:i[15]||(i[15]=(...n)=>e(Ie)&&e(Ie)(...n))},null,544)],32)],64)}}});export{Ss as default};
