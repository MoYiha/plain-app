import{_ as Ze}from"./VPagination.vuevuetypescriptsetuptruelang-C9URNuao.js";import{o as t,c as o,a as e,d as ie,h as B,ar as Te,as as O,at as et,t as c,x as p,y as f,m as n,z as tt,A as ot,H as Ve,I as Ue,g as Le,j as ae,ab as de,au as $e,e as L,p as h,O as v,P as b,q as ye,av as st,ad as Ie,al as nt,u as lt,s as at,i as dt,J as it,K as ut,l as ct,L as rt,M as _t,w as A,N as ge,v as ke,Q as pt,f as mt,C as Ce,aw as ht,ax as vt,Y as ne,B as ft,S as bt,ay as $t,V as we,U as yt,W as gt,X as kt,F as Ct,G as wt,a0 as H,az as Nt,Z as qt,aA as Ne,ac as Tt,$ as Vt,ap as Ut,a1 as Lt,a2 as It,a3 as St}from"./index-BxNI00MG.js";import{_ as At}from"./call-outline-rounded-CD5u8H3j.js";import{_ as xt}from"./contact-page-outline-rounded-BioqOZyD.js";import{c as Mt,u as Dt,_ as zt,a as Ft,b as Et}from"./key-events-B5RXeznw.js";import{u as Se,a as Ae}from"./vee-validate.esm-9czZ1sUw.js";import{u as Bt,a as Qt}from"./tags-BUfgTqH4.js";import{u as Kt}from"./search-D1_YTViL.js";import"./rss-feed-rounded-Dj4EQ17i.js";const Ot={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Rt=e("path",{fill:"currentColor",d:"M3 21v-4.25L16.2 3.575q.3-.275.663-.425t.762-.15t.775.15t.65.45L20.425 5q.3.275.438.65T21 6.4q0 .4-.137.763t-.438.662L7.25 21zM17.6 7.8L19 6.4L17.6 5l-1.4 1.4z"},null,-1),jt=[Rt];function Gt(y,S){return t(),o("svg",Ot,[...jt])}const Ht={name:"material-symbols-edit",render:Gt},Wt={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Jt=e("path",{fill:"currentColor",d:"M12 13.825L8.1 17.7q-.275.275-.687.288T6.7 17.7q-.275-.275-.275-.7t.275-.7l4.6-4.6q.15-.15.325-.213t.375-.062t.375.062t.325.213l4.6 4.6q.275.275.288.688t-.288.712q-.275.275-.7.275t-.7-.275zm0-6L8.1 11.7q-.275.275-.687.288T6.7 11.7q-.275-.275-.275-.7t.275-.7l4.6-4.6q.15-.15.325-.212T12 5.425t.375.063t.325.212l4.6 4.6q.275.275.288.688t-.288.712q-.275.275-.7.275t-.7-.275z"},null,-1),Pt=[Jt];function Xt(y,S){return t(),o("svg",Wt,[...Pt])}const Yt={name:"material-symbols-keyboard-double-arrow-up-rounded",render:Xt},Zt={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},eo=e("path",{fill:"currentColor",d:"m12 16.175l3.9-3.875q.275-.275.688-.288t.712.288q.275.275.275.7t-.275.7l-4.6 4.6q-.15.15-.325.213t-.375.062t-.375-.062t-.325-.213l-4.6-4.6q-.275-.275-.288-.687T6.7 12.3q.275-.275.7-.275t.7.275zm0-6L15.9 6.3q.275-.275.688-.287t.712.287q.275.275.275.7t-.275.7l-4.6 4.6q-.15.15-.325.213t-.375.062t-.375-.062t-.325-.213L6.7 7.7q-.275-.275-.288-.687T6.7 6.3q.275-.275.7-.275t.7.275z"},null,-1),to=[eo];function oo(y,S){return t(),o("svg",Zt,[...to])}const so={name:"material-symbols-keyboard-double-arrow-down-rounded",render:oo};function W(y){return Array.from({length:y},(S,w)=>w+1).concat(-1)}const Z={phoneNumberTypes:W(20),emailTypes:W(4),addressTypes:W(3),eventTypes:W(3),imTypes:W(8),websiteTypes:W(7)},no={slot:"headline"},lo={slot:"content"},ao=["error","error-text"],io={slot:"actions"},uo=ie({__name:"PromptModal",props:{do:{type:Function,required:!0},title:{type:String,required:!0},value:{type:String}},setup(y){const{handleSubmit:S}=Se(),w=B(),i=y,{value:k,resetField:Q,errorMessage:x}=Ae("inputValue",Te().required()),g=S(()=>{i.do(k.value??""),O()});return k.value=i.value,i.value||Q(),(async()=>{var V;await et(),(V=w.value)==null||V.focus()})(),(V,N)=>(t(),o("md-dialog",null,[e("div",no,c(y.title),1),e("div",lo,[p(e("md-outlined-text-field",{ref_key:"inputRef",ref:w,class:"form-control",error:n(x),"error-text":n(x)?V.$t(n(x)):"","onUpdate:modelValue":N[0]||(N[0]=q=>tt(k)?k.value=q:null),onKeyup:N[1]||(N[1]=ot((...q)=>n(g)&&n(g)(...q),["enter"]))},null,40,ao),[[f,n(k)]])]),e("div",io,[e("md-outlined-button",{value:"cancel",onClick:N[2]||(N[2]=(...q)=>n(O)&&n(O)(...q))},c(V.$t("cancel")),1),e("md-filled-button",{value:"ok",onClick:N[3]||(N[3]=(...q)=>n(g)&&n(g)(...q)),autofocus:""},c(V.$t("ok")),1)])]))}}),co=Ve(uo,[["__scopeId","data-v-f510d520"]]),ro={slot:"headline"},_o={slot:"content"},po={class:"form-label"},mo={class:"form-row"},ho=["label"],vo=["label"],fo=["label"],bo={key:1,class:"v-center"},$o=e("md-ripple",null,null,-1),yo={key:0,class:"form-row"},go=["label"],ko=["label"],Co={class:"v-center"},wo=e("md-ripple",null,null,-1),No={class:"form-label"},qo=["onUpdate:modelValue","onChange"],To=["value"],Vo={slot:"headline"},Uo=["placeholder","onUpdate:modelValue"],Lo={class:"v-center"},Io=["onClick"],So=e("md-ripple",null,null,-1),Ao={key:1,class:"form-label"},xo=["onUpdate:modelValue","onChange"],Mo=["value"],Do={slot:"headline"},zo=["label","onUpdate:modelValue"],Fo={class:"v-center"},Eo=["onClick"],Bo=e("md-ripple",null,null,-1),Qo={key:2,class:"form-label"},Ko=["onUpdate:modelValue","onChange"],Oo=["value"],Ro={slot:"headline"},jo=["label","onUpdate:modelValue"],Go={class:"v-center"},Ho=["onClick"],Wo=e("md-ripple",null,null,-1),Jo={key:3,class:"form-label"},Po=["onUpdate:modelValue","onChange"],Xo=["value"],Yo={slot:"headline"},Zo=["placeholder","onUpdate:modelValue"],es={class:"v-center"},ts=["onClick"],os=e("md-ripple",null,null,-1),ss={key:4,class:"form-label"},ns=["onUpdate:modelValue","onChange"],ls=["value"],as={slot:"headline"},ds=["placeholder","onUpdate:modelValue"],is={class:"v-center"},us=["onClick"],cs=e("md-ripple",null,null,-1),rs={class:"form-row",style:{display:"block",position:"relative"}},_s={class:"menu-items"},ps=["onClick"],ms={slot:"headline"},hs=["onClick"],vs={slot:"headline"},fs=["onClick"],bs={slot:"headline"},$s=["onClick"],ys={slot:"headline"},gs=["onClick"],ks={slot:"headline"},Cs={class:"form-row"},ws=["label"],Ns={slot:"actions"},qs=["disabled"],qe=ie({__name:"EditContactModal",props:{data:{type:Object},sources:{type:Array},done:{type:Function,required:!0}},setup(y){const{handleSubmit:S}=Se(),w=y,i=Ue({firstName:"",middleName:"",lastName:"",prefix:"",suffix:"",nickname:"",organization:null,notes:"",source:"",starred:0,phoneNumbers:[],emails:[],addresses:[],websites:[],events:[],ims:[],groupIds:[]}),k=B(!1),{t:Q}=Le(),{mutate:x,loading:g,onDone:V}=ae({document:de`
    mutation createContact($input: ContactInput!) {
      createContact(input: $input) {
        ...ContactFragment
      }
    }
    ${$e}
  `,options:{update:()=>{w.done()}},appApi:!0}),{mutate:N,loading:q,onDone:P}=ae({document:de`
    mutation updateContact($id: ID!, $input: ContactInput!) {
      updateContact(id: $id, input: $input) {
        ...ContactFragment
      }
    }
    ${$e}
  `,options:{update:()=>{w.done()}},appApi:!0}),{value:K,resetField:j,errorMessage:ue}=Ae("inputValue",Te().test("required",s=>"valid.required",s=>!0).test("target-value",s=>"invalid_value",s=>!0)),M=(s,r)=>{s.splice(0,s.length);for(const I of r)s.push({label:I.label,value:I.value,type:I.type})};(()=>{const s=w.data;s?(Object.assign(i,{firstName:s.firstName,middleName:s.middleName,lastName:s.lastName,prefix:s.prefix,suffix:s.suffix,notes:s.notes}),M(i.phoneNumbers,s.phoneNumbers),M(i.emails,s.emails),M(i.addresses,s.addresses),M(i.websites,s.websites),M(i.events,s.events),M(i.ims,s.ims)):(Object.assign(i,{firstName:"",middleName:"",lastName:"",prefix:"",suffix:"",notes:"",phoneNumbers:[{type:2,value:"",label:""}],emails:[],addresses:[],websites:[],events:[],ims:[]}),j())})();const D=s=>{s.type===-1&&st(co,{value:s.label,title:Q("custom"),do:r=>{s.label=r}})},T=(s,r,I)=>r===-1?s.label?s.label:Q("custom"):Q(`contact.${I}.${r}`),z=(s,r)=>{r.push({type:1,value:"",label:""}),s.close()},U=(s,r)=>{s.splice(r,1)},ee=S(()=>{var s,r;w.data?N({id:w.data.id,input:i}):(i.source=((r=(s=w.sources)==null?void 0:s[0])==null?void 0:r.name)??"",x({input:i}))});return V(()=>{O()}),P(()=>{O()}),(s,r)=>{const I=so,te=Yt,C=Ie,X=nt;return t(),o("md-dialog",null,[e("div",ro,c(y.data?s.$t("edit"):s.$t("create")),1),e("div",_o,[e("label",po,c(s.$t("name")),1),e("div",mo,[p(e("md-outlined-text-field",{label:s.$t("first_name"),"onUpdate:modelValue":r[0]||(r[0]=a=>i.firstName=a)},null,8,ho),[[f,i.firstName]]),k.value?p((t(),o("md-outlined-text-field",{key:0,label:s.$t("middle_name"),"onUpdate:modelValue":r[1]||(r[1]=a=>i.middleName=a)},null,8,vo)),[[f,i.middleName]]):L("",!0),p(e("md-outlined-text-field",{label:s.$t("last_name"),"onUpdate:modelValue":r[2]||(r[2]=a=>i.lastName=a)},null,8,fo),[[f,i.lastName]]),k.value?L("",!0):(t(),o("div",bo,[e("button",{class:"btn-icon",onClick:r[3]||(r[3]=a=>k.value=!0)},[$o,h(I)])]))]),k.value?(t(),o("div",yo,[p(e("md-outlined-text-field",{label:s.$t("prefix"),"onUpdate:modelValue":r[4]||(r[4]=a=>i.prefix=a)},null,8,go),[[f,i.prefix]]),p(e("md-outlined-text-field",{label:s.$t("suffix"),"onUpdate:modelValue":r[5]||(r[5]=a=>i.suffix=a)},null,8,ko),[[f,i.suffix]]),e("div",Co,[e("button",{class:"btn-icon",onClick:r[6]||(r[6]=a=>k.value=!1)},[wo,h(te)])])])):L("",!0),e("label",No,c(s.$t("phone_number")),1),(t(!0),o(v,null,b(i.phoneNumbers,(a,$)=>(t(),o("div",{class:"form-row",key:$},[p(e("md-outlined-select",{class:"flex-2","menu-positioning":"fixed","onUpdate:modelValue":u=>a.type=u,onChange:u=>D(a)},[(t(!0),o(v,null,b(n(Z).phoneNumberTypes,u=>(t(),o("md-select-option",{key:u,value:u},[e("div",Vo,c(T(a,u,"phone_number_type")),1)],8,To))),128))],40,qo),[[f,a.type,void 0,{number:!0}]]),p(e("md-outlined-text-field",{placeholder:s.$t("telephone"),"onUpdate:modelValue":u=>a.value=u,class:"flex-3"},null,8,Uo),[[f,a.value]]),e("div",Lo,[i.phoneNumbers.length>1?(t(),o("button",{key:0,class:"btn-icon",onClick:u=>U(i.phoneNumbers,$)},[So,h(C)],8,Io)):L("",!0)])]))),128)),i.emails.length?(t(),o("label",Ao,c(s.$t("email")),1)):L("",!0),(t(!0),o(v,null,b(i.emails,(a,$)=>(t(),o("div",{class:"form-row",key:$},[p(e("md-outlined-select",{class:"flex-2","menu-positioning":"fixed","onUpdate:modelValue":u=>a.type=u,onChange:u=>D(a)},[(t(!0),o(v,null,b(n(Z).emailTypes,u=>(t(),o("md-select-option",{key:u,value:u},[e("div",Do,c(T(a,u,"email_type")),1)],8,Mo))),128))],40,xo),[[f,a.type,void 0,{number:!0}]]),p(e("md-outlined-text-field",{label:s.$t("email"),"onUpdate:modelValue":u=>a.value=u,class:"flex-3"},null,8,zo),[[f,a.value]]),e("div",Fo,[e("button",{class:"btn-icon",onClick:u=>U(i.emails,$)},[Bo,h(C)],8,Eo)])]))),128)),i.addresses.length?(t(),o("label",Qo,c(s.$t("address")),1)):L("",!0),(t(!0),o(v,null,b(i.addresses,(a,$)=>(t(),o("div",{class:"form-row",key:$},[p(e("md-outlined-select",{class:"flex-2","menu-positioning":"fixed","onUpdate:modelValue":u=>a.type=u,onChange:u=>D(a)},[(t(!0),o(v,null,b(n(Z).addressTypes,u=>(t(),o("md-select-option",{key:u,value:u},[e("div",Ro,c(T(a,u,"address_type")),1)],8,Oo))),128))],40,Ko),[[f,a.type,void 0,{number:!0}]]),p(e("md-outlined-text-field",{label:s.$t("address"),"onUpdate:modelValue":u=>a.value=u,class:"flex-3"},null,8,jo),[[f,a.value]]),e("div",Go,[e("button",{class:"btn-icon",onClick:u=>U(i.addresses,$)},[Wo,h(C)],8,Ho)])]))),128)),i.websites.length?(t(),o("label",Jo,c(s.$t("website")),1)):L("",!0),(t(!0),o(v,null,b(i.websites,(a,$)=>(t(),o("div",{class:"form-row",key:$},[p(e("md-outlined-select",{class:"flex-2","menu-positioning":"fixed","onUpdate:modelValue":u=>a.type=u,onChange:u=>D(a)},[(t(!0),o(v,null,b(n(Z).websiteTypes,u=>(t(),o("md-select-option",{key:u,value:u},[e("div",Yo,c(T(a,u,"website_type")),1)],8,Xo))),128))],40,Po),[[f,a.type,void 0,{number:!0}]]),p(e("md-outlined-text-field",{placeholder:s.$t("website"),"onUpdate:modelValue":u=>a.value=u,class:"flex-3"},null,8,Zo),[[f,a.value]]),e("div",es,[e("button",{class:"btn-icon",onClick:u=>U(i.websites,$)},[os,h(C)],8,ts)])]))),128)),i.ims.length?(t(),o("label",ss,c(s.$t("im")),1)):L("",!0),(t(!0),o(v,null,b(i.ims,(a,$)=>(t(),o("div",{class:"form-row",key:$},[p(e("md-outlined-select",{class:"flex-2","menu-positioning":"fixed","onUpdate:modelValue":u=>a.type=u,onChange:u=>D(a)},[(t(!0),o(v,null,b(n(Z).imTypes,u=>(t(),o("md-select-option",{key:u,value:u},[e("div",as,c(T(a,u,"im_type")),1)],8,ls))),128))],40,ns),[[f,a.type,void 0,{number:!0}]]),p(e("md-outlined-text-field",{placeholder:s.$t("im"),"onUpdate:modelValue":u=>a.value=u,class:"flex-3"},null,8,ds),[[f,a.value]]),e("div",is,[e("button",{class:"btn-icon",onClick:u=>U(i.ims,$)},[cs,h(C)],8,us)])]))),128)),e("div",rs,[h(X,{placement:"auto"},{content:ye(a=>[e("div",_s,[e("md-menu-item",{onClick:()=>z(a,i.phoneNumbers)},[e("div",ms,c(s.$t("phone_number")),1)],8,ps),e("md-menu-item",{onClick:()=>z(a,i.emails)},[e("div",vs,c(s.$t("email")),1)],8,hs),e("md-menu-item",{onClick:()=>z(a,i.addresses)},[e("div",bs,c(s.$t("address")),1)],8,fs),e("md-menu-item",{onClick:()=>z(a,i.websites)},[e("div",ys,c(s.$t("website")),1)],8,$s),e("md-menu-item",{onClick:()=>z(a,i.ims)},[e("div",ks,c(s.$t("im")),1)],8,gs)])]),default:ye(()=>[e("div",null,[e("md-outlined-button",null,c(s.$t("add_field")),1)])]),_:1})]),e("div",Cs,[p(e("md-outlined-text-field",{type:"textarea",label:s.$t("notes"),"onUpdate:modelValue":r[7]||(r[7]=a=>i.notes=a),rows:"3"},null,8,ws),[[f,i.notes]])])]),e("div",Ns,[e("md-outlined-button",{value:"cancel",onClick:r[8]||(r[8]=(...a)=>n(O)&&n(O)(...a))},c(s.$t("cancel")),1),e("md-filled-button",{value:"save",disabled:n(g)||n(q),onClick:r[9]||(r[9]=(...a)=>n(ee)&&n(ee)(...a)),autofocus:""},c(s.$t("save")),9,qs)])])}}}),R=y=>(Ct("data-v-22d2eee9"),y=y(),wt(),y),Ts={class:"top-app-bar"},Vs=["checked","indeterminate"],Us={class:"title"},Ls={key:0},Is={key:1},Ss=R(()=>e("md-ripple",null,null,-1)),As={class:"btn-icon",style:{display:"none"}},xs=R(()=>e("md-ripple",null,null,-1)),Ms=R(()=>e("md-ripple",null,null,-1)),Ds={class:"actions"},zs={class:"scroll-content"},Fs=["onClick","onMouseover"],Es={class:"start"},Bs=["onClick","checked"],Qs=["onClick","checked"],Ks={class:"number"},Os=["src"],Rs={class:"title"},js={class:"subtitle"},Gs={key:0},Hs={class:"info"},Ws={class:"list-unstyled"},Js={key:0,indeterminate:"",class:"spinner-sm"},Ps=["onClick"],Xs=R(()=>e("md-ripple",null,null,-1)),Ys={class:"actions"},Zs=["onClick"],en=R(()=>e("md-ripple",null,null,-1)),tn=["onClick"],on=R(()=>e("md-ripple",null,null,-1)),sn=["onClick"],nn=R(()=>e("md-ripple",null,null,-1)),ln={class:"time"},an={key:1,class:"no-data-placeholder"},J=50,dn=ie({__name:"ContactsView",setup(y){var be;const S=lt(),{app:w}=at(dt()),i=B([]),{t:k}=Le(),{parseQ:Q}=Kt(),x=Ue({tagIds:[]}),g=it.CONTACT,V=pt(),N=V.query,q=B(parseInt(((be=N.page)==null?void 0:be.toString())??"1")),P=B([]),K=B(""),{tags:j,fetch:ue}=Bt(g),{addToTags:M}=Qt(g,j),{deleteItems:D}=Mt(Nt,()=>{r(),G(),H.emit("refetch_tags",g)}),{selectedIds:T,allChecked:z,realAllChecked:U,selectRealAll:ee,allCheckedAlertVisible:s,clearSelection:r,toggleAllChecked:I,toggleSelect:te,total:C,checked:X,shiftEffectingIds:a,handleItemClick:$,handleMouseOver:u,selectAll:xe,shouldSelect:Me}=Dt(i),ce=l=>{const m=V.query.q;mt(S,m?`/calls?page=${l}&q=${m}`:`/calls?page=${l}`)},{keyDown:re,keyUp:_e}=Et(C,J,q,xe,r,ce,()=>{D(U.value,T.value,K.value)}),{loading:De,fetch:G}=ut({handle:(l,m)=>{m?Ce(k(m),"error"):l&&(i.value=l.contacts,C.value=l.contactCount)},document:ht,variables:()=>({offset:(q.value-1)*J,limit:J,query:K.value}),appApi:!0});ct({handle:(l,m)=>{m?Ce(k(m),"error"):l&&(P.value=l.contactSources)},document:vt,variables:null,appApi:!0});const pe=l=>{l.type===g&&(r(),G())},me=l=>{l.type===g&&G()};function ze(l){ne(qt,{type:g,tags:j.value,item:{key:l.id,title:"",size:0},selected:j.value.filter(m=>l.tags.some(F=>F.id===m.id))})}function he(l){let m="";Ne(l.firstName)||Ne(l.lastName)?m=`${l.lastName}${l.middleName}${l.firstName}`:m=[l.firstName,l.middleName,l.lastName].filter(se=>se).join(" ");const F=l.suffix?`, ${l.suffix}`:"",oe=`${l.prefix} ${m} ${F}`.trim();return oe||(l.emails.length?l.emails[0].value:"")}function Fe(l){ne(Tt,{id:l.id,name:he(l),gql:de`
      mutation DeleteContact($query: String!) {
        deleteContacts(query: $query)
      }
    `,variables:()=>({query:`ids:${l.id}`}),appApi:!0,typeName:"Contact",done:()=>{C.value--,l.tags.length&&H.emit("refetch_tags",g)}})}function Ee(l){ne(qe,{data:l,sources:P,done:G})}function Be(){ne(qe,{data:null,sources:P,done:G})}function Qe(l){return l?`/contacts?q=${l}`:"/contacts"}const ve=B(""),fe=B(0),{mutate:Ke,loading:Oe}=ae({document:ft,appApi:!0});function Re(l,m,F){ve.value=l,fe.value=F,Ke({number:m})}return rt(()=>{var l;K.value=Vt(((l=N.q)==null?void 0:l.toString())??""),Q(x,K.value),ue(),G(),H.on("item_tags_updated",me),H.on("items_tags_updated",pe),window.addEventListener("keydown",re),window.addEventListener("keyup",_e)}),_t(()=>{H.off("item_tags_updated",me),H.off("items_tags_updated",pe),window.removeEventListener("keydown",re),window.removeEventListener("keyup",_e)}),(l,m)=>{const F=Ie,oe=Ut,se=Lt,je=zt,Ge=Ft,He=It,We=xt,Je=St,Pe=At,Xe=Ht,Ye=Ze,E=bt("tooltip");return t(),o(v,null,[e("div",Ts,[e("md-checkbox",{"touch-target":"wrapper",onChange:m[0]||(m[0]=(..._)=>n(I)&&n(I)(..._)),checked:n(z),indeterminate:!n(z)&&n(X)},null,40,Vs),e("div",Us,[n(T).length?(t(),o("span",Ls,c(l.$t("x_selected",{count:n(U)?n(C).toLocaleString():n(T).length.toLocaleString()})),1)):(t(),o("span",Is,c(l.$t("page_title.contacts"))+" ("+c(n(C).toLocaleString())+")",1)),n(X)?(t(),o(v,{key:2},[p((t(),o("button",{class:"btn-icon",onClick:m[1]||(m[1]=A(_=>n(D)(n(U),n(T),K.value),["stop"]))},[Ss,h(F)])),[[E,l.$t("delete")]]),p((t(),o("button",As,[xs,h(oe)])),[[E,l.$t("download")]]),p((t(),o("button",{class:"btn-icon",onClick:m[2]||(m[2]=A(_=>n(M)(n(T),n(U),K.value),["stop"]))},[Ms,h(se)])),[[E,l.$t("add_to_tags")]])],64)):L("",!0)]),e("div",Ds,[h(je,{filter:x,tags:n(j),"get-url":Qe},null,8,["filter","tags"]),e("md-outlined-button",{class:"btn-sm",onClick:Be},c(l.$t("create")),1)])]),h(Ge,{limit:J,total:n(C),"all-checked-alert-visible":n(s),"real-all-checked":n(U),"select-real-all":n(ee),"clear-selection":n(r)},null,8,["total","all-checked-alert-visible","real-all-checked","select-real-all","clear-selection"]),e("div",zs,[i.value.length>0?(t(),o("div",{key:0,class:ge(["contact-list",{"select-mode":n(X)}])},[(t(!0),o(v,null,b(i.value,(_,Y)=>(t(),o("section",{class:ge(["contact-item selectable-card",{selected:n(T).includes(_.id),selecting:n(a).includes(_.id)}]),key:_.id,onClick:A(d=>n($)(d,_,Y,()=>{}),["stop"]),onMouseover:d=>n(u)(d,Y)},[e("div",Es,[n(a).includes(_.id)?(t(),o("md-checkbox",{key:0,class:"checkbox","touch-target":"wrapper",onClick:A(d=>n(te)(d,_,Y),["stop"]),checked:n(Me)},null,8,Bs)):(t(),o("md-checkbox",{key:1,class:"checkbox","touch-target":"wrapper",onClick:A(d=>n(te)(d,_,Y),["stop"]),checked:n(T).includes(_.id)},null,8,Qs)),e("span",Ks,[h(He,{id:Y+1,raw:_},null,8,["id","raw"])])]),_.thumbnailId?(t(),o("img",{key:0,class:"image",src:n($t)(_.thumbnailId),width:"50"},null,8,Os)):(t(),ke(We,{key:1,class:"image"})),e("div",Rs,c(he(_)),1),e("div",js,[_.notes?(t(),o("span",Gs,c(_.notes),1)):L("",!0),h(Je,{tags:_.tags,type:n(g),"only-links":!0},null,8,["tags","type"])]),e("div",Hs,[e("ul",Ws,[(t(!0),o(v,null,b(_.phoneNumbers,(d,le)=>(t(),o("li",{class:"phone-number",key:le},[we(c(d.type>0?l.$t(`contact.phone_number_type.${d.type}`):d.label)+" "+c(d.normalizedNumber||d.value)+" ",1),n(Oe)&&ve.value===_.id&&fe.value===le?(t(),o("md-circular-progress",Js)):p((t(),o("button",{key:1,class:"btn-icon sm",onClick:A(un=>Re(_.id,d.normalizedNumber||d.value,le),["stop"])},[Xs,h(Pe)],8,Ps)),[[E,l.$t("make_a_phone_call")]])]))),128)),(t(!0),o(v,null,b(_.emails,d=>(t(),o("li",{key:d.type+d.value},c(d.type>0?l.$t(`contact.email_type.${d.type}`):d.label)+" "+c(d.value),1))),128)),(t(!0),o(v,null,b(_.addresses,d=>(t(),o("li",{key:d.type+d.value},c(d.type>0?l.$t(`contact.address_type.${d.type}`):d.label)+" "+c(d.value),1))),128)),(t(!0),o(v,null,b(_.websites,d=>(t(),o("li",{key:d.type+d.value},c(d.type>0?l.$t(`contact.website_type.${d.type}`):d.label)+" "+c(d.value),1))),128)),(t(!0),o(v,null,b(_.ims,d=>(t(),o("li",{key:d.type+d.value},c(d.type>0?l.$t(`contact.im_type.${d.type}`):d.label)+" "+c(d.value),1))),128)),(t(!0),o(v,null,b(_.events,d=>(t(),o("li",{key:d.type+d.value},c(d.type>0?l.$t(`contact.event_type.${d.type}`):d.label)+" "+c(d.value),1))),128))])]),e("div",Ys,[p((t(),o("button",{class:"btn-icon sm",onClick:A(d=>Fe(_),["stop"])},[en,h(F)],8,Zs)),[[E,l.$t("delete")]]),p((t(),o("button",{class:"btn-icon sm",onClick:A(d=>Ee(_),["stop"])},[on,h(Xe)],8,tn)),[[E,l.$t("edit")]]),p((t(),o("button",{class:"btn-icon sm",onClick:A(d=>ze(_),["stop"])},[nn,h(se)],8,sn)),[[E,l.$t("add_to_tags")]])]),e("div",ln,[p((t(),o("span",null,[we(c(n(gt)(_.updatedAt)),1)])),[[E,n(yt)(_.updatedAt)]])])],42,Fs))),128))],2)):(t(),o("div",an,c(l.$t(n(kt)(n(De),n(w).permissions,"WRITE_CONTACTS"))),1)),n(C)>J?(t(),ke(Ye,{key:2,page:q.value,go:ce,total:n(C),limit:J},null,8,["page","total"])):L("",!0)])],64)}}}),$n=Ve(dn,[["__scopeId","data-v-22d2eee9"]]);export{$n as default};
