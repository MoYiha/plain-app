import{_ as ho}from"./more-vert-CD_DV9h0.js";import{m as te,c as i,o as n,a,e as dt,f as rt,r as w,I as ct,w as Xe,T as V,k as d,bx as go,p as r,ak as ut,j as D,x as ko,q as yo,by as bo,z as wo,y as v,F as ee,t as _,O as m,P as pt,A as _t,bz as ft,H as vt,bA as $o,u as Co,K as To,s as ye,g as Vo,ah as qo,aM as Ye,bB as Io,bC as Do,bD as So,bE as Fo,aO as Eo,L as Uo,bF as Lo,ag as Ze,i as Mo,at as No,M as xo,N as Bo,l as s,U as be,R as g,al as zo,bp as Ho,V as Ro,aT as Po,bG as Ao,E as O,bH as Oo,bI as Ko,a7 as Qo,aj as jo,bJ as Go,S as et,ar as Wo,d as Jo,bK as mt,aH as Xo,n as L,$ as Yo,a0 as Zo,bL as en,bM as tn,a1 as Z,bN as tt,bO as ot,aV as nt,bP as st,ao as we,bQ as at,bR as on,bS as lt,a3 as nn,a4 as z,bT as sn}from"./index-Dd8UjYtJ.js";import{_ as an}from"./FieldId.vuevuetypescriptsetuptruelang-BnKTOzAN.js";import{_ as ln,a as dn}from"./upload-rounded-CVLjHjg8.js";import{_ as rn}from"./content-paste-rounded-mR0S3uyH.js";import{_ as cn,a as un}from"./VInputChip-xYeMr_VW.js";import{_ as pn}from"./VCheckbox-lCJ3fupj.js";import{u as _n,c as fn}from"./key-events-U1fzVka7.js";const vn={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function mn(q,c){return n(),i("svg",vn,c[0]||(c[0]=[a("path",{fill:"currentColor",d:"M4 20q-.825 0-1.412-.587T2 18V6q0-.825.588-1.412T4 4h5.175q.4 0 .763.15t.637.425L12 6h8q.825 0 1.413.588T22 8v10q0 .825-.587 1.413T20 20zm0-2h16V8h-8.825l-2-2H4zm0 0V6zm10-4v1q0 .425.288.713T15 16t.713-.288T16 15v-1h1q.425 0 .713-.288T18 13t-.288-.712T17 12h-1v-1q0-.425-.288-.712T15 10t-.712.288T14 11v1h-1q-.425 0-.712.288T12 13t.288.713T13 14z"},null,-1)]))}const hn=te({name:"material-symbols-create-new-folder-outline-rounded",render:mn}),gn={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function kn(q,c){return n(),i("svg",gn,c[0]||(c[0]=[a("path",{fill:"currentColor",d:"M19.075 21.9L17.5 20.35q-1.225.8-2.613 1.225T12 22q-2.075 0-3.9-.788t-3.175-2.137T2.788 15.9T2 12q0-1.5.425-2.887T3.65 6.5L2.075 4.925q-.3-.3-.3-.712t.3-.713t.713-.3t.712.3l17 17q.3.3.3.7t-.3.7t-.712.3t-.713-.3M12 20q1.075 0 2.088-.275t1.962-.825L5.1 7.95q-.55.95-.825 1.962T4 12q0 3.325 2.338 5.663T12 20m0-16q-.825 0-1.612.163T8.85 4.65q-.4.175-.8.05t-.6-.475t-.088-.75t.488-.575q.975-.45 2.012-.675T12 2q2.075 0 3.9.788t3.175 2.137T21.213 8.1T22 12q0 1.1-.225 2.138T21.1 16.15q-.175.375-.575.488t-.75-.088t-.475-.6t.05-.8q.325-.75.488-1.537T20 12q0-3.325-2.337-5.663T12 4m-1.425 9.425"},null,-1)]))}const yn=te({name:"material-symbols-hide-source-outline-rounded",render:kn}),bn={key:"filter-text"},wn={key:"filter-show-hidden"},$n={class:"btn-icon"},Cn={class:"filters"},Tn={class:"form-row"},Vn={class:"buttons"},qn=dt({__name:"FileSearchInput",props:{parent:{type:String,required:!0},filter:{type:Object,required:!0},getUrl:{type:Function,required:!0},navigateToDir:{type:Function,required:!1}},setup(q,{expose:c}){const{buildQ:oe}=ft(),I=q,ne=rt(),u=w(!1),C=ct({showHidden:!1,linkName:"",text:"",parent:""});Xe(I.filter,f=>{Object.assign(C,f)},{immediate:!0,deep:!0}),Xe(u,f=>{f&&Object.assign(C,I.filter)});function K(f){_t(ne,I.getUrl(oe(f)))}function H(f){return f.startsWith("/")}function b(){var $;const f=($=C.text)==null?void 0:$.trim();if(f&&H(f)&&I.navigateToDir){I.navigateToDir(f),u.value=!1;return}M(),u.value=!1}function T(f){f==="text"?(C.text="",M()):f==="showHidden"&&(C.showHidden=!1,M())}function M(){Object.assign(I.filter,C),K(I.filter)}function se(){C.showHidden=!C.showHidden}return c({dismiss:()=>{u.value=!1}}),(f,$)=>{const R=cn,U=yn,P=go,Q=un,ae=ko,le=bo,ie=wo,de=ut,j=pt("tooltip");return n(),i(V,null,[d(P,null,{default:r(()=>[q.filter.text?(n(),i("div",bn,[d(R,{label:q.filter.text,"remove-only":"",onRemove:$[0]||($[0]=()=>T("text"))},null,8,["label"])])):D("",!0),q.filter.showHidden?(n(),i("div",wn,[d(R,{label:f.$t("show_hidden"),"remove-only":"",onRemove:$[1]||($[1]=()=>T("showHidden"))},{default:r(()=>[d(U)]),_:1},8,["label"])])):D("",!0)]),_:1}),d(de,{modelValue:u.value,"onUpdate:modelValue":$[3]||($[3]=N=>u.value=N),"max-height":400},{trigger:r(()=>[m((n(),i("button",$n,[d(Q)])),[[j,f.$t("search")]])]),default:r(()=>[a("div",Cn,[a("div",Tn,[d(ae,{modelValue:C.text,"onUpdate:modelValue":$[2]||($[2]=N=>C.text=N),label:f.$t("keywords"),onKeyup:yo(b,["enter"])},null,8,["modelValue","label"])]),d(P,null,{default:r(()=>[d(le,{key:"chip-show-hidden",label:f.$t("show_hidden"),selected:C.showHidden,onClick:se},null,8,["label","selected"])]),_:1}),a("div",Vn,[d(ie,{onClick:v(b,["stop"])},{default:r(()=>[ee(_(f.$t("search")),1)]),_:1})])])]),_:1},8,["modelValue"])],64)}}}),In=vt(qn,[["__scopeId","data-v-32dffa4e"]]),Dn={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function Sn(q,c){return n(),i("svg",Dn,c[0]||(c[0]=[a("path",{fill:"currentColor",d:"m12 14l-2.35 2.35q.2.375.275.8T10 18q0 1.65-1.175 2.825T6 22t-2.825-1.175T2 18t1.175-2.825T6 14q.425 0 .85.075t.8.275L10 12L7.65 9.65q-.375.2-.8.275T6 10q-1.65 0-2.825-1.175T2 6t1.175-2.825T6 2t2.825 1.175T10 6q0 .425-.075.85t-.275.8L20.6 18.6q.675.675.3 1.538T19.575 21q-.275 0-.537-.112t-.463-.313zm3-3l-2-2l5.575-5.575q.2-.2.463-.312T19.574 3q.95 0 1.313.875t-.313 1.55zM6 8q.825 0 1.413-.587T8 6t-.587-1.412T6 4t-1.412.588T4 6t.588 1.413T6 8m6 4.5q.2 0 .35-.15t.15-.35t-.15-.35t-.35-.15t-.35.15t-.15.35t.15.35t.35.15M6 20q.825 0 1.413-.587T8 18t-.587-1.412T6 16t-1.412.588T4 18t.588 1.413T6 20"},null,-1)]))}const Fn=te({name:"material-symbols-content-cut-rounded",render:Sn}),En={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function Un(q,c){return n(),i("svg",En,c[0]||(c[0]=[a("path",{fill:"currentColor",d:"M9 18q-.825 0-1.412-.587T7 16V4q0-.825.588-1.412T9 2h9q.825 0 1.413.588T20 4v12q0 .825-.587 1.413T18 18zm0-2h9V4H9zm-4 6q-.825 0-1.412-.587T3 20V7q0-.425.288-.712T4 6t.713.288T5 7v13h10q.425 0 .713.288T16 21t-.288.713T15 22zm4-6V4z"},null,-1)]))}const Ln=te({name:"material-symbols-content-copy-outline-rounded",render:Un}),Mn=$o("files",{state:()=>({selectedFiles:[],isCut:!1})}),Nn={class:"top-app-bar"},xn={key:0},Bn={key:1,class:"breadcrumb"},zn={key:0},Hn=["onClick"],Rn={key:0},Pn=["onClick"],An={class:"actions"},On=["onClick"],Kn={key:0,class:"scroller-wrapper"},Qn={class:"scroller"},jn={class:"start"},Gn={class:"number"},Wn=["onClick","onMouseover"],Jn={class:"start"},Xn={class:"number"},Yn=["onClick"],Zn={key:0,src:"/ficons/folder.svg",class:"svg"},es={key:0,class:"svg",src:mt},ts=["src","onError"],os=["src","onError"],ns={key:3,class:"svg",src:mt},ss={class:"title"},as={class:"subtitle"},ls={key:0},is={key:1},ds={class:"actions"},rs=["onClick"],cs=["onClick"],us={class:"card card-info"},ps={class:"key-value vertical"},_s={class:"key"},fs={class:"value"},vs=["onClick"],ms=["onClick"],hs=["onClick"],gs=["onClick"],ks=["onClick"],ys=["onClick"],bs={key:1,class:"no-data-placeholder"},it=1e4,ws=dt({__name:"FilesView",setup(q){var Ge;const{t:c}=Co(),oe=w([]),{parseQ:I,buildQ:ne}=ft(),u=ct({linkName:"",showHidden:!1,text:"",parent:""}),K=To().query,H=w(""),b=w([]),{selectedIds:T,allChecked:M,realAllChecked:se,clearSelection:f,toggleAllChecked:$,toggleSelect:R,total:U,checked:P,shiftEffectingIds:Q,handleItemClick:ae,handleMouseOver:le,selectAll:ie,shouldSelect:de}=_n(b),{keyDown:j,keyUp:N}=fn(ie,f,()=>{Be()}),re=w(!1),ce=w(!1),$e=w([]),Ce=w([]),ht=e=>{$e.value.push(e)},gt=e=>{Ce.value.push(e)},kt=Wo(),Te=rt(),{fileSortBy:G}=ye(Te),Ve=Vo(),{app:qe,urlTokenKey:S,uploads:ue}=ye(Ve),{selectedFiles:yt,isCut:bt}=ye(Mn()),{dropping:wt,fileDragEnter:Ie,fileDragLeave:De,dropFiles:$t}=qo(ue),W=Ye(()=>Io(u.linkName,qe.value)),{createPath:Ct,createVariables:Tt,createMutation:Vt}=Do(S,b),{renameItem:qt,renameDone:It,renameMutation:Dt,renameVariables:St}=So(()=>{x()}),{internal:Se,sdcard:Fe,usb:Ft,refetch:pe}=Fo(),{downloadFile:_e,downloadDir:Et,downloadFiles:Ut}=No(S),{view:Ee}=on(oe,(e,t)=>{Ve.lightbox={sources:e,index:t,visible:!0}}),Lt=w(parseInt(((Ge=K.page)==null?void 0:Ge.toString())??"1")),Mt=Ye(()=>{const e=[];let t=u.parent;for(;t&&t!==W.value;)e.unshift({path:t,name:Eo(t)}),t=t.substring(0,t.lastIndexOf("/"));return e.unshift({path:W.value,name:Kt()}),e}),Ue=w(!0),{loading:fe,fetch:x}=Uo({handle:async(e,t)=>{if(Ue.value=!1,re.value=!1,ce.value=!1,t)O(c(t),"error");else{const y=[];for(const B of e.files)y.push(Oo(B,S.value));b.value=y,U.value=y.length}},document:Ao,variables:()=>({root:W.value,offset:(Lt.value-1)*it,limit:it,query:H.value,sortBy:G.value}),options:{fetchPolicy:"cache-and-network"}}),{loading:Nt,canPaste:Le,copy:ve,cut:Me,paste:me}=Lo(b,bt,yt,x,pe),{input:xt,upload:Bt,uploadChanged:Ne}=Ze(ue),{input:zt,upload:Ht,uploadChanged:xe}=Ze(ue),{loading:Rt,mutate:Pt,onDone:At}=Mo({document:Ko});At(e=>{Ut(e.data.setTempValue.key),f()});const Ot=()=>{Pt({key:tn(),value:JSON.stringify(T.value.map(e=>({path:e})))})},he=e=>{e.forEach(t=>{sn(b.value,y=>y.id===t.id)}),U.value=b.value.length,f(),pe()},Be=()=>{Z(tt,{files:b.value.filter(e=>T.value.includes(e.id)),onDone:e=>{he(e)}})};function Kt(){if(u.linkName==="sdcard")return c("sdcard");if(u.linkName==="app")return c("app_data");if(u.linkName.startsWith("usb")){const e=parseInt(u.linkName.substring(3));return`${c("usb_storage")} ${e}`}return c("internal_storage")}function ze(){var e,t,y,B;if(u.linkName==="sdcard")return`${c("storage_free_total",{free:L(((e=Fe.value)==null?void 0:e.freeBytes)??0),total:L(((t=Fe.value)==null?void 0:t.totalBytes)??0)})}`;if(u.linkName==="app")return c("app_data");if(u.linkName.startsWith("usb")){const k=parseInt(u.linkName.substring(3)),E=Ft.value[k-1];return`${c("storage_free_total",{free:L((E==null?void 0:E.freeBytes)??0),total:L((E==null?void 0:E.totalBytes)??0)})}`}return`${L(((y=Se.value)==null?void 0:y.freeBytes)??0)} / ${L(((B=Se.value)==null?void 0:B.totalBytes)??0,!0,0)}`}function J(e){f(),u.parent=e,u.text="";const t=ne(u);_t(Te,He(t))}function He(e){return e?`/files?q=${e}`:"/files"}function Qt(e){if(e.isDir){J(e.path);return}if(ot(e.name)){const t=nt(S.value,e.path);window.open(`/text-file?id=${encodeURIComponent(t)}`,"_blank")}else st(e.name)?window.open(we(S.value,e.path),"_blank"):at(e.name)?Ee(b.value,e):_e(e.path)}function jt(e,t){if(!t.isDir)if(e.stopPropagation(),ot(t.name)){const y=nt(S.value,t.path);window.open(`/text-file?id=${encodeURIComponent(y)}`,"_blank")}else st(t.name)?window.open(we(S.value,t.path),"_blank"):at(t.name)?Ee(b.value,t):_e(t.path)}function Gt(e){G.value!==e&&(ce.value=!0,G.value=e)}function Wt(){re.value=!0,x()}const Jt=()=>{Ct.value=u.parent,Z(lt,{title:c("create_folder"),placeholder:c("name"),mutation:Vt,getVariables:Tt})};function Re(e){Bt(e)}function Pe(e){Ht(e)}function Xt(){ve(T.value),f()}function Yt(){Me(T.value),f()}function Zt(){me(u.parent)}function eo(e){ve([e.id]),me(u.parent)}function to(e){Me([e.id])}function oo(e){ve([e.id])}function no(e){const t=we(S.value,e.path);navigator.clipboard&&navigator.clipboard.writeText?navigator.clipboard.writeText(t).then(()=>{O(c("link_copied"),"success")}).catch(()=>{Ae(t)}):Ae(t)}function Ae(e){try{const t=document.createElement("textarea");t.value=e,t.style.position="fixed",t.style.left="-999999px",t.style.top="-999999px",document.body.appendChild(t),t.focus(),t.select();const y=document.execCommand("copy");document.body.removeChild(t),y?O(c("link_copied"),"success"):O(c("copy_failed"),"error")}catch(t){console.error("Failed to copy text: ",t),O(c("copy_failed"),"error")}}function so(e){me(e.path)}function ao(e){qt.value=e,Z(lt,{title:c("rename"),placeholder:c("name"),value:e.name,mutation:Dt,getVariables:St,done:It})}function lo(e){Z(tt,{files:[e],onDone:he})}const Oe=e=>{e.status==="done"&&setTimeout(()=>{x(),pe()},1e3)},Ke=e=>{he([e.item])},Qe=e=>{x()};function io(e){$t(e,u.parent)}const X=w(!1),ge=w(!1),Y=w({}),je=w({}),F=w({});return xo(()=>{var e;H.value=nn(((e=K.q)==null?void 0:e.toString())??""),I(u,H.value),x(),z.on("upload_task_done",Oe),z.on("file_deleted",Ke),z.on("file_renamed",Qe),window.addEventListener("keydown",j),window.addEventListener("keyup",N)}),Bo(()=>{z.off("upload_task_done",Oe),z.off("file_deleted",Ke),z.off("file_renamed",Qe),window.removeEventListener("keydown",j),window.removeEventListener("keyup",N)}),(e,t)=>{const y=pn,B=Ln,k=Po,E=Fn,We=Qo,ke=jo,ro=In,co=hn,Je=ln,A=ut,uo=rn,po=Go,_o=dn,fo=an,vo=en,mo=ho,h=pt("tooltip");return n(),i(V,null,[a("div",Nn,[d(y,{"touch-target":"wrapper",checked:s(M),indeterminate:!s(M)&&s(P),onChange:s($)},null,8,["checked","indeterminate","onChange"]),s(T).length?(n(),i("span",xn,_(e.$t("x_selected",{count:s(se)?s(U).toLocaleString():s(T).length.toLocaleString()})),1)):(n(),i("div",Bn,[(n(!0),i(V,null,be(Mt.value,(l,o)=>(n(),i(V,{key:l.path},[o===0?(n(),i(V,{key:0},[l.path===u.parent?m((n(),i("span",zn,[ee(_(l.name)+" ("+_(s(U))+")",1)])),[[h,ze()]]):m((n(),i("a",{key:1,href:"#",onClick:v(p=>J(l.path),["stop","prevent"])},[ee(_(l.name),1)],8,Hn)),[[h,ze()]])],64)):(n(),i(V,{key:1},[l.path===u.parent?(n(),i("span",Rn,_(l.name)+" ("+_(s(U))+")",1)):(n(),i("a",{key:1,href:"#",onClick:v(p=>J(l.path),["stop","prevent"])},_(l.name),9,Pn))],64))],64))),128))])),s(P)?(n(),i(V,{key:2},[m((n(),g(k,{onClick:v(Xt,["stop"])},{default:r(()=>[d(B)]),_:1})),[[h,e.$t("copy")]]),m((n(),g(k,{onClick:v(Yt,["stop"])},{default:r(()=>[d(E)]),_:1})),[[h,e.$t("cut")]]),m((n(),g(k,{onClick:v(Be,["stop"])},{default:r(()=>[d(We)]),_:1})),[[h,e.$t("delete")]]),m((n(),g(k,{loading:s(Rt),onClick:v(Ot,["stop"])},{default:r(()=>[d(ke)]),_:1},8,["loading"])),[[h,e.$t("download")]])],64)):D("",!0),a("div",An,[d(ro,{filter:u,parent:W.value,"get-url":He,"navigate-to-dir":J},null,8,["filter","parent"]),m((n(),g(k,{onClick:Jt},{default:r(()=>[d(co)]),_:1})),[[h,e.$t("create_folder")]]),d(A,{modelValue:X.value,"onUpdate:modelValue":t[2]||(t[2]=l=>X.value=l)},{trigger:r(()=>[m((n(),g(k,null,{default:r(()=>[d(Je)]),_:1})),[[h,e.$t("upload")]])]),default:r(()=>[a("div",{class:"dropdown-item",onClick:t[0]||(t[0]=v(l=>{Re(u.parent),X.value=!1},["stop"]))},_(e.$t("upload_files")),1),a("div",{class:"dropdown-item",onClick:t[1]||(t[1]=v(l=>{Pe(u.parent),X.value=!1},["stop"]))},_(e.$t("upload_folder")),1)]),_:1},8,["modelValue"]),s(Le)()?m((n(),g(k,{key:0,loading:s(Nt),onClick:Zt},{default:r(()=>[d(uo)]),_:1},8,["loading"])),[[h,e.$t("paste")]]):D("",!0),m((n(),g(k,{loading:re.value,onClick:Wt},{default:r(()=>[d(po)]),_:1},8,["loading"])),[[h,e.$t("refresh")]]),d(A,{modelValue:ge.value,"onUpdate:modelValue":t[3]||(t[3]=l=>ge.value=l)},{trigger:r(()=>[m((n(),g(k,{loading:ce.value},{default:r(()=>[d(_o)]),_:1},8,["loading"])),[[h,e.$t("sort")]])]),default:r(()=>[(n(!0),i(V,null,be(s(kt),l=>(n(),i("div",{key:l.value,class:et(["dropdown-item",{selected:l.value===s(G)}]),onClick:o=>{Gt(l.value),ge.value=!1}},_(e.$t(l.label)),11,On))),128))]),_:1},8,["modelValue"])])]),s(fe)&&Ue.value?(n(),i("div",Kn,[a("div",Qn,[(n(),i(V,null,be(20,l=>a("section",{key:l,class:"file-item selectable-card-skeleton"},[a("div",jn,[t[8]||(t[8]=a("div",{class:"checkbox"},[a("div",{class:"skeleton-checkbox"})],-1)),a("span",Gn,_(l),1)]),t[9]||(t[9]=Jo('<div class="image" data-v-5ddd5c0f><div class="skeleton-image" data-v-5ddd5c0f></div></div><div class="title" data-v-5ddd5c0f><div class="skeleton-text skeleton-title" data-v-5ddd5c0f></div></div><div class="subtitle" data-v-5ddd5c0f><div class="skeleton-text skeleton-subtitle" data-v-5ddd5c0f></div></div><div class="actions" data-v-5ddd5c0f><div class="skeleton-text skeleton-actions" data-v-5ddd5c0f></div></div>',4))])),64))])])):D("",!0),a("div",{class:"scroller-wrapper",onDragover:t[7]||(t[7]=v((...l)=>s(Ie)&&s(Ie)(...l),["stop","prevent"]))},[m(a("div",{class:"drag-mask",onDrop:v(io,["stop","prevent"]),onDragleave:t[4]||(t[4]=v((...l)=>s(De)&&s(De)(...l),["stop","prevent"]))},_(e.$t("release_to_send_files")),545),[[zo,s(wt)]]),b.value.length>0?(n(),g(s(Ho),{key:0,class:"scroller","data-key":"id","data-sources":b.value,"estimate-size":80},{item:r(({index:l,item:o})=>[a("section",{class:et(["file-item selectable-card",{selected:s(T).includes(o.id),selecting:s(Q).includes(o.id)}]),onClick:v(p=>s(ae)(p,o,l,()=>{Qt(o)}),["stop"]),onMouseover:p=>s(le)(p,l)},[a("div",Jn,[s(Q).includes(o.id)?(n(),g(y,{key:0,class:"checkbox","touch-target":"wrapper",checked:s(de),onClick:v(p=>s(R)(p,o,l),["stop"])},null,8,["checked","onClick"])):(n(),g(y,{key:1,class:"checkbox","touch-target":"wrapper",checked:s(T).includes(o.id),onClick:v(p=>s(R)(p,o,l),["stop"])},null,8,["checked","onClick"])),a("span",Xn,[d(fo,{id:l+1,raw:o},null,8,["id","raw"])])]),a("div",{class:"image",onClick:p=>jt(p,o)},[o.isDir?(n(),i("img",Zn)):(n(),i(V,{key:1},[Ce.value.includes(o.id)?(n(),i("img",es)):!$e.value.includes(o.id)&&o.fileId?(n(),i("img",{key:1,class:"image-thumb",src:s(Xo)(o.fileId,"&w=50&h=50"),onError:p=>ht(o.id)},null,40,ts)):o.extension?(n(),i("img",{key:2,src:`/ficons/${o.extension}.svg`,class:"svg",onError:p=>gt(o.id)},null,40,os)):(n(),i("img",ns))],64))],8,Yn),a("div",ss,_(o.name),1),a("div",as,[o.isDir?(n(),i("span",ls,_(e.$t("x_items",o.children)),1)):(n(),i("span",is,_(s(L)(o.size)),1)),m((n(),i("span",null,[ee(_(s(Zo)(o.updatedAt)),1)])),[[h,s(Yo)(o.updatedAt)]])]),a("div",ds,[o.isDir?(n(),i(V,{key:0},[m((n(),g(k,{class:"sm",onClick:v(p=>s(Et)(o.path),["stop"])},{default:r(()=>[d(ke)]),_:2},1032,["onClick"])),[[h,e.$t("download")]]),d(A,{modelValue:Y.value[o.id],"onUpdate:modelValue":p=>Y.value[o.id]=p},{trigger:r(()=>[m((n(),g(k,{class:"sm"},{default:r(()=>[d(Je)]),_:1})),[[h,e.$t("upload")]])]),default:r(()=>[a("div",{class:"dropdown-item",onClick:v(p=>{Re(o.path),Y.value[o.id]=!1},["stop"])},_(e.$t("upload_files")),9,rs),a("div",{class:"dropdown-item",onClick:v(p=>{Pe(o.path),Y.value[o.id]=!1},["stop"])},_(e.$t("upload_folder")),9,cs)]),_:2},1032,["modelValue","onUpdate:modelValue"])],64)):m((n(),g(k,{key:1,class:"sm",onClick:v(p=>s(_e)(o.path),["stop"])},{default:r(()=>[d(ke)]),_:2},1032,["onClick"])),[[h,e.$t("download")]]),m((n(),g(k,{class:"sm",onClick:v(p=>lo(o),["stop"])},{default:r(()=>[d(We)]),_:2},1032,["onClick"])),[[h,e.$t("delete")]]),d(A,{modelValue:je.value[o.id],"onUpdate:modelValue":p=>je.value[o.id]=p},{trigger:r(()=>[m((n(),g(k,{class:"sm"},{default:r(()=>[d(vo)]),_:1})),[[h,e.$t("info")]])]),default:r(()=>[a("section",us,[a("div",ps,[a("div",_s,_(e.$t("path")),1),a("div",fs,_(o.path),1)])])]),_:2},1032,["modelValue","onUpdate:modelValue"]),d(A,{modelValue:F.value[o.id],"onUpdate:modelValue":p=>F.value[o.id]=p},{trigger:r(()=>[m((n(),g(k,{class:"sm"},{default:r(()=>[d(mo)]),_:1})),[[h,e.$t("actions")]])]),default:r(()=>[a("div",{class:"dropdown-item",onClick:v(p=>{eo(o),F.value[o.id]=!1},["stop"])},_(e.$t("duplicate")),9,vs),a("div",{class:"dropdown-item",onClick:v(p=>{to(o),F.value[o.id]=!1},["stop"])},_(e.$t("cut")),9,ms),a("div",{class:"dropdown-item",onClick:v(p=>{oo(o),F.value[o.id]=!1},["stop"])},_(e.$t("copy")),9,hs),o.isDir&&s(Le)()?(n(),i("div",{key:0,class:"dropdown-item",onClick:v(p=>{so(o),F.value[o.id]=!1},["stop"])},_(e.$t("paste")),9,gs)):D("",!0),o.isDir?D("",!0):(n(),i("div",{key:1,class:"dropdown-item",onClick:v(p=>{no(o),F.value[o.id]=!1},["stop"])},_(e.$t("copy_link")),9,ks)),a("div",{class:"dropdown-item",onClick:v(p=>{ao(o),F.value[o.id]=!1},["stop"])},_(e.$t("rename")),9,ys)]),_:2},1032,["modelValue","onUpdate:modelValue"])])],42,Wn)]),_:1},8,["data-sources"])):D("",!0),!s(fe)&&b.value.length===0?(n(),i("div",bs,_(e.$t(s(Ro)(s(fe),s(qe).permissions,"WRITE_EXTERNAL_STORAGE"))),1)):D("",!0),a("input",{ref_key:"fileInput",ref:xt,style:{display:"none"},type:"file",multiple:"",onChange:t[5]||(t[5]=(...l)=>s(Ne)&&s(Ne)(...l))},null,544),a("input",{ref_key:"dirFileInput",ref:zt,style:{display:"none"},type:"file",multiple:"",webkitdirectory:"",mozdirectory:"",directory:"",onChange:t[6]||(t[6]=(...l)=>s(xe)&&s(xe)(...l))},null,544)],32)],64)}}}),Fs=vt(ws,[["__scopeId","data-v-5ddd5c0f"]]);export{Fs as default};
