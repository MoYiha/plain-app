import{_ as L}from"./LeftSidebar.vuevuetypescriptsetuptruelang-CbCF_-pF.js";import{d as b,e as w,s as T,f as Q,D as V,r as k,G as A,w as M,L as N,o as r,a1 as g,a2 as S,$ as R,aq as z,a as t,x as p,M as u,c as m,h as y,t as a,k as l,V as D,a4 as G,y as h,a5 as x}from"./index-Dohfv8Fq.js";import{u as E}from"./search-BGPnRmZx.js";const I={class:"nav"},P={class:"title"},j={key:0,class:"count"},F={class:"title"},H={key:0,class:"count"},J={class:"title"},K={key:0,class:"count"},Y=b({__name:"AppsSidebar",setup(O){const v=w(),{counter:o}=T(Q()),{parseQ:C}=E(),_=V({tagIds:[]}),n=k(""),i=k(-1),{fetch:$}=A({handle:e=>{e&&(o.value.packages=e.total,o.value.packagesSystem=e.system,i.value=e.total-e.system)},document:z,variables:()=>({})});function d(){var c;const e=S.currentRoute.value,s=R(((c=e.query.q)==null?void 0:c.toString())??"");C(_,s),n.value=_.type??"",$()}function f(e){const s=G([{name:"type",op:"",value:e}]);h(v,`/apps?q=${x(s)}`)}function B(){h(v,"/apps")}return d(),M(()=>S.currentRoute.value,()=>{d()}),(e,s)=>{const c=L;return r(),N(c,null,{title:g(()=>[D(a(e.$t("page_title.apps")),1)]),body:g(()=>[t("ul",I,[t("li",{class:u({active:!n.value}),onClick:p(B,["prevent"])},[t("span",P,a(e.$t("all")),1),l(o).packages>=0?(r(),m("span",j,a(l(o).packages.toLocaleString()),1)):y("",!0)],2),t("li",{class:u({active:n.value==="user"}),onClick:s[0]||(s[0]=p(q=>f("user"),["prevent"]))},[t("span",F,a(e.$t("app_type.user")),1),i.value>=0?(r(),m("span",H,a(i.value.toLocaleString()),1)):y("",!0)],2),t("li",{class:u({active:n.value==="system"}),onClick:s[1]||(s[1]=p(q=>f("system"),["prevent"]))},[t("span",J,a(e.$t("app_type.system")),1),l(o).packagesSystem>=0?(r(),m("span",K,a(l(o).packagesSystem.toLocaleString()),1)):y("",!0)],2)])]),_:1})}}});export{Y as default};
