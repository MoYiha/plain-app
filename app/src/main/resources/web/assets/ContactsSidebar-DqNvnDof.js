import{_ as g}from"./LeftSidebar.vuevuetypescriptsetuptruelang-CbCF_-pF.js";import{_ as C}from"./TagFilter.vuevuetypescriptsetuptruelang-BkMRTiB-.js";import{d as y,e as S,s as k,f as B,D as T,r as w,G as N,w as V,L as $,o as l,a1 as u,a2 as _,$ as b,aB as I,a as c,j as L,x as q,M as x,c as A,h as M,t as n,k as d,V as Q,y as R}from"./index-Dohfv8Fq.js";import{u as z}from"./search-BGPnRmZx.js";import"./more-vert-XVOmELru.js";import"./EditValueModal-BR2lNZFL.js";import"./vee-validate-BgwL6Mce.js";const D={class:"nav"},G={class:"title"},j={key:0,class:"count"},W=y({__name:"ContactsSidebar",setup(E){const m=S(),{counter:a}=k(B()),{parseQ:p}=z(),s=T({tagIds:[]}),o=w(""),{fetch:f}=N({handle:t=>{t&&(a.value.contacts=t.total)},document:I,variables:()=>({})});function r(){var e;const t=_.currentRoute.value,i=b(((e=t.query.q)==null?void 0:e.toString())??"");p(s,i),o.value=s.tagIds.length===1?s.tagIds[0]:"",f()}r(),V(()=>_.currentRoute.value,()=>{r()});function h(){R(m,"/contacts")}return(t,i)=>{const e=C,v=g;return l(),$(v,null,{title:u(()=>[Q(n(t.$t("page_title.contacts")),1)]),body:u(()=>[c("ul",D,[c("li",{class:x({active:!o.value}),onClick:q(h,["prevent"])},[c("span",G,n(t.$t("all")),1),d(a).contacts>=0?(l(),A("span",j,n(d(a).contacts.toLocaleString()),1)):M("",!0)],2)]),L(e,{type:"CONTACT",selected:o.value},null,8,["selected"])]),_:1})}}});export{W as default};
