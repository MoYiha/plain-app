import{_ as P}from"./LeftSidebar.vuevuetypescriptsetuptruelang-DEmfzh0O.js";import{e as R,f as q,s as F,g as N,u as T,I as x,r as h,aL as D,w as L,R as A,o as c,p as _,a5 as m,a3 as E,bw as I,a as l,c as v,y as b,S as k,l as S,K as M,t as i,U as Q,T as V,F as z,A as g,B as H,C as K}from"./index-Bm4LvS3o.js";const U={class:"nav"},j={class:"title"},G=["onClick"],J={class:"title"},Z=R({__name:"FilesSidebar",setup(O){const u=M(),p=q(),{app:s}=F(N()),{t:n}=T(),{parseQ:$}=I(),o=x({showHidden:!1,linkName:"",text:"",parent:""}),B=h(""),d=h(!1);function C(){g(p,"/files/recent")}const w=D(()=>{const e=[{name:"internal",label:n("internal_storage"),path:s.value.internalStoragePath}];return s.value.sdcardPath&&e.push({name:"sdcard",label:n("sdcard"),path:s.value.sdcardPath}),s.value.usbDiskPaths.forEach((t,a)=>{e.push({name:`usb${a+1}`,label:`${n("usb_storage")} ${a+1}`,path:t})}),e.push({name:"app",label:n("app_data"),path:s.value.externalFilesDir}),e});function y(e){const t=H([{name:"parent",op:"",value:e.path},{name:"link_name",op:"",value:e.name}]);g(p,`/files?q=${K(t)}`)}function f(){var a;const e=m.currentRoute.value;if(e.path==="/files/recent"){d.value=!0;return}d.value=!1;const t=E(((a=e.query.q)==null?void 0:a.toString())??"");$(o,t),B.value=o.parent}return f(),L(()=>m.currentRoute.value.fullPath,()=>{f()}),(e,t)=>{const a=P;return c(),A(a,null,{title:_(()=>[z(i(e.$t("page_title.files")),1)]),body:_(()=>[l("ul",U,[l("li",{class:k({active:S(u).path==="/files/recent"}),onClick:b(C,["prevent"])},[l("span",j,i(e.$t("recents")),1)],2),(c(!0),v(V,null,Q(w.value,r=>(c(),v("li",{key:r.path,class:k({active:S(u).path==="/files"&&r.name===o.linkName}),onClick:b(W=>y(r),["prevent"])},[l("span",J,i(r.label),1)],10,G))),128))])]),_:1})}}});export{Z as default};
