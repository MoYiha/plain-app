import{_ as b}from"./LeftSidebar.vuevuetypescriptsetuptruelang-CF3KQ8wQ.js";import{_ as q}from"./TagFilter.vuevuetypescriptsetuptruelang-DA-dvEFf.js";import{d as w,u as B,s as I,i as V,I as L,h as d,K as Q,k as A,v as R,q as m,b8 as z,a5 as f,$ as E,o as i,V as M,t as s,a,w as h,N as v,m as l,c as g,e as y,p as x,a6 as D,f as S,a7 as G}from"./index-BxNI00MG.js";import{u as K}from"./search-D1_YTViL.js";import"./sidebar-JKGKmRjc.js";import"./more-vert-rfLdxqnE.js";import"./EditValueModal-DZMNikfg.js";import"./vee-validate.esm-9czZ1sUw.js";const O={class:"nav"},P={class:"title"},j={key:0,class:"count"},F={class:"title"},H={key:0,class:"count"},ae=w({__name:"NotesSidebar",setup(J){const u=B(),{counter:t}=I(V()),{parseQ:T}=K(),o=L({tagIds:[]}),n=d(!1),r=d(""),{fetch:k}=Q({handle:e=>{e&&(t.value.notes=e.total,t.value.notesTrash=e.trash)},document:z,variables:()=>({}),appApi:!0});function p(){var c;const e=f.currentRoute.value,_=E(((c=e.query.q)==null?void 0:c.toString())??"");T(o,_),r.value=o.tagIds.length===1?o.tagIds[0]:"",n.value=o.trash??!1,n.value&&(r.value=""),k()}p(),A(()=>f.currentRoute.value,()=>{p()});function C(){const e=D([{name:"trash",op:"",value:"true"}]);S(u,`/notes?q=${G(e)}`)}function N(){S(u,"/notes")}return(e,_)=>{const c=q,$=b;return i(),R($,null,{title:m(()=>[M(s(e.$t("page_title.notes")),1)]),body:m(()=>[a("ul",O,[a("li",{onClick:h(N,["prevent"]),class:v({active:!r.value&&!n.value})},[a("span",P,s(e.$t("all")),1),l(t).notes>=0?(i(),g("span",j,s(l(t).notes.toLocaleString()),1)):y("",!0)],2),a("li",{onClick:h(C,["prevent"]),class:v({active:n.value})},[a("span",F,s(e.$t("trash")),1),l(t).notesTrash>=0?(i(),g("span",H,s(l(t).notesTrash.toLocaleString()),1)):y("",!0)],2)]),x(c,{type:"NOTE",selected:r.value},null,8,["selected"])]),_:1})}}});export{ae as default};
