import{_ as ho}from"./more-vert-BMfIzoNk.js";import{m as ee,c as i,o as n,a,e as rt,f as dt,r as $,I as ct,w as Xe,T as V,k as r,bx as ko,p as d,ak as ut,j as I,x as go,q as yo,by as bo,z as wo,y as f,F as Z,t as _,O as v,P as pt,A as _t,bz as ft,H as vt,bA as $o,u as Co,K as To,s as ge,g as Vo,ah as qo,aM as Ye,bB as Io,bC as Do,bD as So,bE as Fo,aO as Eo,L as Uo,bF as Lo,ag as Ze,i as Mo,at as No,M as Bo,N as zo,l as s,U as ye,R as h,al as Ho,bp as xo,V as Ro,aT as Po,bG as Ao,E as R,bH as Oo,bI as Ko,a7 as Qo,aj as jo,bJ as Go,S as et,ar as Wo,d as Jo,bK as mt,aH as Xo,n as L,$ as Yo,a0 as Zo,bL as en,bM as tn,a1 as Y,bN as tt,bO as ot,aV as nt,bP as st,ao as be,bQ as at,bR as on,bS as lt,a3 as nn,a4 as H,bT as sn}from"./index-Eg2Dz6vI.js";import{_ as an}from"./FieldId.vuevuetypescriptsetuptruelang-lzcc_jvg.js";import{_ as ln,a as rn}from"./upload-rounded-DxjQpv8E.js";import{_ as dn}from"./content-paste-rounded-zSMrJg3M.js";import{_ as cn,a as un}from"./VInputChip-BoCl3y34.js";import{_ as pn}from"./VCheckbox-BuMj4nO3.js";import{u as _n,c as fn}from"./key-events-BNPqExTk.js";const vn={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function mn(q,c){return n(),i("svg",vn,c[0]||(c[0]=[a("path",{fill:"currentColor",d:"M4 20q-.825 0-1.412-.587T2 18V6q0-.825.588-1.412T4 4h5.175q.4 0 .763.15t.637.425L12 6h8q.825 0 1.413.588T22 8v10q0 .825-.587 1.413T20 20zm0-2h16V8h-8.825l-2-2H4zm0 0V6zm10-4v1q0 .425.288.713T15 16t.713-.288T16 15v-1h1q.425 0 .713-.288T18 13t-.288-.712T17 12h-1v-1q0-.425-.288-.712T15 10t-.712.288T14 11v1h-1q-.425 0-.712.288T12 13t.288.713T13 14z"},null,-1)]))}const hn=ee({name:"material-symbols-create-new-folder-outline-rounded",render:mn}),kn={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function gn(q,c){return n(),i("svg",kn,c[0]||(c[0]=[a("path",{fill:"currentColor",d:"M19.075 21.9L17.5 20.35q-1.225.8-2.613 1.225T12 22q-2.075 0-3.9-.788t-3.175-2.137T2.788 15.9T2 12q0-1.5.425-2.887T3.65 6.5L2.075 4.925q-.3-.3-.3-.712t.3-.713t.713-.3t.712.3l17 17q.3.3.3.7t-.3.7t-.712.3t-.713-.3M12 20q1.075 0 2.088-.275t1.962-.825L5.1 7.95q-.55.95-.825 1.962T4 12q0 3.325 2.338 5.663T12 20m0-16q-.825 0-1.612.163T8.85 4.65q-.4.175-.8.05t-.6-.475t-.088-.75t.488-.575q.975-.45 2.012-.675T12 2q2.075 0 3.9.788t3.175 2.137T21.213 8.1T22 12q0 1.1-.225 2.138T21.1 16.15q-.175.375-.575.488t-.75-.088t-.475-.6t.05-.8q.325-.75.488-1.537T20 12q0-3.325-2.337-5.663T12 4m-1.425 9.425"},null,-1)]))}const yn=ee({name:"material-symbols-hide-source-outline-rounded",render:gn}),bn={key:"filter-text"},wn={key:"filter-show-hidden"},$n={class:"btn-icon"},Cn={class:"filters"},Tn={class:"form-row"},Vn={class:"buttons"},qn=rt({__name:"FileSearchInput",props:{parent:{type:String,required:!0},filter:{type:Object,required:!0},getUrl:{type:Function,required:!0}},setup(q,{expose:c}){const{buildQ:te}=ft(),U=q,oe=dt(),p=$(!1),T=ct({showHidden:!1,linkName:"",text:"",parent:""});Xe(U.filter,g=>{Object.assign(T,g)},{immediate:!0,deep:!0}),Xe(p,g=>{g&&Object.assign(T,U.filter)});function P(g){_t(oe,U.getUrl(te(g)))}function M(){C(),p.value=!1}function b(g){g==="text"?(T.text="",C()):g==="showHidden"&&(T.showHidden=!1,C())}function C(){Object.assign(U.filter,T),P(U.filter)}function A(){T.showHidden=!T.showHidden}return c({dismiss:()=>{p.value=!1}}),(g,w)=>{const O=cn,K=yn,D=ko,Q=un,j=go,ne=bo,se=wo,ae=ut,le=pt("tooltip");return n(),i(V,null,[r(D,null,{default:d(()=>[q.filter.text?(n(),i("div",bn,[r(O,{label:q.filter.text,"remove-only":"",onRemove:w[0]||(w[0]=()=>b("text"))},null,8,["label"])])):I("",!0),q.filter.showHidden?(n(),i("div",wn,[r(O,{label:g.$t("show_hidden"),"remove-only":"",onRemove:w[1]||(w[1]=()=>b("showHidden"))},{default:d(()=>[r(K,{slot:"icon"})]),_:1},8,["label"])])):I("",!0)]),_:1}),r(ae,{modelValue:p.value,"onUpdate:modelValue":w[3]||(w[3]=N=>p.value=N),"max-height":400},{trigger:d(()=>[v((n(),i("button",$n,[r(Q)])),[[le,g.$t("search")]])]),default:d(()=>[a("div",Cn,[a("div",Tn,[r(j,{modelValue:T.text,"onUpdate:modelValue":w[2]||(w[2]=N=>T.text=N),label:g.$t("keywords"),onKeyup:yo(M,["enter"])},null,8,["modelValue","label"])]),r(D,null,{default:d(()=>[r(ne,{key:"chip-show-hidden",label:g.$t("show_hidden"),selected:T.showHidden,onClick:A},null,8,["label","selected"])]),_:1}),a("div",Vn,[r(se,{onClick:f(M,["stop"])},{default:d(()=>[Z(_(g.$t("search")),1)]),_:1})])])]),_:1},8,["modelValue"])],64)}}}),In=vt(qn,[["__scopeId","data-v-1ce937f4"]]),Dn={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function Sn(q,c){return n(),i("svg",Dn,c[0]||(c[0]=[a("path",{fill:"currentColor",d:"m12 14l-2.35 2.35q.2.375.275.8T10 18q0 1.65-1.175 2.825T6 22t-2.825-1.175T2 18t1.175-2.825T6 14q.425 0 .85.075t.8.275L10 12L7.65 9.65q-.375.2-.8.275T6 10q-1.65 0-2.825-1.175T2 6t1.175-2.825T6 2t2.825 1.175T10 6q0 .425-.075.85t-.275.8L20.6 18.6q.675.675.3 1.538T19.575 21q-.275 0-.537-.112t-.463-.313zm3-3l-2-2l5.575-5.575q.2-.2.463-.312T19.574 3q.95 0 1.313.875t-.313 1.55zM6 8q.825 0 1.413-.587T8 6t-.587-1.412T6 4t-1.412.588T4 6t.588 1.413T6 8m6 4.5q.2 0 .35-.15t.15-.35t-.15-.35t-.35-.15t-.35.15t-.15.35t.15.35t.35.15M6 20q.825 0 1.413-.587T8 18t-.587-1.412T6 16t-1.412.588T4 18t.588 1.413T6 20"},null,-1)]))}const Fn=ee({name:"material-symbols-content-cut-rounded",render:Sn}),En={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function Un(q,c){return n(),i("svg",En,c[0]||(c[0]=[a("path",{fill:"currentColor",d:"M9 18q-.825 0-1.412-.587T7 16V4q0-.825.588-1.412T9 2h9q.825 0 1.413.588T20 4v12q0 .825-.587 1.413T18 18zm0-2h9V4H9zm-4 6q-.825 0-1.412-.587T3 20V7q0-.425.288-.712T4 6t.713.288T5 7v13h10q.425 0 .713.288T16 21t-.288.713T15 22zm4-6V4z"},null,-1)]))}const Ln=ee({name:"material-symbols-content-copy-outline-rounded",render:Un}),Mn=$o("files",{state:()=>({selectedFiles:[],isCut:!1})}),Nn={class:"top-app-bar"},Bn={key:0},zn={key:1,class:"breadcrumb"},Hn={key:0},xn=["onClick"],Rn={key:0},Pn=["onClick"],An={class:"actions"},On=["onClick"],Kn={key:0,class:"scroller-wrapper"},Qn={class:"scroller"},jn={class:"start"},Gn={class:"number"},Wn=["onClick","onMouseover"],Jn={class:"start"},Xn={class:"number"},Yn=["onClick"],Zn={key:0,src:"/ficons/folder.svg",class:"svg"},es={key:0,class:"svg",src:mt},ts=["src","onError"],os=["src","onError"],ns={key:3,class:"svg",src:mt},ss={class:"title"},as={class:"subtitle"},ls={key:0},is={key:1},rs={class:"actions"},ds=["onClick"],cs=["onClick"],us={class:"card card-info"},ps={class:"key-value vertical"},_s={class:"key"},fs={class:"value"},vs=["onClick"],ms=["onClick"],hs=["onClick"],ks=["onClick"],gs=["onClick"],ys=["onClick"],bs={key:1,class:"no-data-placeholder"},it=1e4,ws=rt({__name:"FilesView",setup(q){var Ge;const{t:c}=Co(),te=$([]),{parseQ:U,buildQ:oe}=ft(),p=ct({linkName:"",showHidden:!1,text:"",parent:""}),P=To().query,M=$(""),b=$([]),{selectedIds:C,allChecked:A,realAllChecked:g,clearSelection:w,toggleAllChecked:O,toggleSelect:K,total:D,checked:Q,shiftEffectingIds:j,handleItemClick:ne,handleMouseOver:se,selectAll:ae,shouldSelect:le}=_n(b),{keyDown:N,keyUp:we}=fn(ae,w,()=>{ze()}),ie=$(!1),re=$(!1),$e=$([]),Ce=$([]),ht=e=>{$e.value.push(e)},kt=e=>{Ce.value.push(e)},gt=Wo(),Te=dt(),{fileSortBy:G}=ge(Te),Ve=Vo(),{app:qe,urlTokenKey:S,uploads:de}=ge(Ve),{selectedFiles:yt,isCut:bt}=ge(Mn()),{dropping:wt,fileDragEnter:Ie,fileDragLeave:De,dropFiles:$t}=qo(de),W=Ye(()=>Io(p.linkName,qe.value)),{createPath:Ct,createVariables:Tt,createMutation:Vt}=Do(S,b),{renameItem:qt,renameDone:It,renameMutation:Dt,renameVariables:St}=So(()=>{B()}),{internal:Se,sdcard:Fe,usb:Ft,refetch:ce}=Fo(),{downloadFile:ue,downloadDir:Et,downloadFiles:Ut}=No(S),{view:Ee}=on(te,(e,t)=>{Ve.lightbox={sources:e,index:t,visible:!0}}),Lt=$(parseInt(((Ge=P.page)==null?void 0:Ge.toString())??"1")),Mt=Ye(()=>{const e=[];let t=p.parent;for(;t&&t!==W.value;)e.unshift({path:t,name:Eo(t)}),t=t.substring(0,t.lastIndexOf("/"));return e.unshift({path:W.value,name:Kt()}),e}),Ue=$(!0),{loading:pe,fetch:B}=Uo({handle:async(e,t)=>{if(Ue.value=!1,ie.value=!1,re.value=!1,t)R(c(t),"error");else{const y=[];for(const z of e.files)y.push(Oo(z,S.value));b.value=y,D.value=y.length}},document:Ao,variables:()=>({root:W.value,offset:(Lt.value-1)*it,limit:it,query:M.value,sortBy:G.value}),options:{fetchPolicy:"cache-and-network"}}),{loading:Nt,canPaste:Le,copy:_e,cut:Me,paste:fe}=Lo(b,bt,yt,B,ce),{input:Bt,upload:zt,uploadChanged:Ne}=Ze(de),{input:Ht,upload:xt,uploadChanged:Be}=Ze(de),{loading:Rt,mutate:Pt,onDone:At}=Mo({document:Ko});At(e=>{Ut(e.data.setTempValue.key),w()});const Ot=()=>{Pt({key:tn(),value:JSON.stringify(C.value.map(e=>({path:e})))})},ve=e=>{e.forEach(t=>{sn(b.value,y=>y.id===t.id)}),D.value=b.value.length,w(),ce()},ze=()=>{Y(tt,{files:b.value.filter(e=>C.value.includes(e.id)),onDone:e=>{ve(e)}})};function Kt(){if(p.linkName==="sdcard")return c("sdcard");if(p.linkName==="app")return c("app_data");if(p.linkName.startsWith("usb")){const e=parseInt(p.linkName.substring(3));return`${c("usb_storage")} ${e}`}return c("internal_storage")}function He(){var e,t,y,z;if(p.linkName==="sdcard")return`${c("storage_free_total",{free:L(((e=Fe.value)==null?void 0:e.freeBytes)??0),total:L(((t=Fe.value)==null?void 0:t.totalBytes)??0)})}`;if(p.linkName==="app")return c("app_data");if(p.linkName.startsWith("usb")){const k=parseInt(p.linkName.substring(3)),E=Ft.value[k-1];return`${c("storage_free_total",{free:L((E==null?void 0:E.freeBytes)??0),total:L((E==null?void 0:E.totalBytes)??0)})}`}return`${L(((y=Se.value)==null?void 0:y.freeBytes)??0)} / ${L(((z=Se.value)==null?void 0:z.totalBytes)??0,!0,0)}`}function me(e){w(),p.parent=e;const t=oe(p);_t(Te,xe(t))}function xe(e){return e?`/files?q=${e}`:"/files"}function Qt(e){if(e.isDir){me(e.path);return}if(ot(e.name)){const t=nt(S.value,e.path);window.open(`/text-file?id=${encodeURIComponent(t)}`,"_blank")}else st(e.name)?window.open(be(S.value,e.path),"_blank"):at(e.name)?Ee(b.value,e):ue(e.path)}function jt(e,t){if(!t.isDir)if(e.stopPropagation(),ot(t.name)){const y=nt(S.value,t.path);window.open(`/text-file?id=${encodeURIComponent(y)}`,"_blank")}else st(t.name)?window.open(be(S.value,t.path),"_blank"):at(t.name)?Ee(b.value,t):ue(t.path)}function Gt(e){G.value!==e&&(re.value=!0,G.value=e)}function Wt(){ie.value=!0,B()}const Jt=()=>{Ct.value=p.parent,Y(lt,{title:c("create_folder"),placeholder:c("name"),mutation:Vt,getVariables:Tt})};function Re(e){zt(e)}function Pe(e){xt(e)}function Xt(){_e(C.value),w()}function Yt(){Me(C.value),w()}function Zt(){fe(p.parent)}function eo(e){_e([e.id]),fe(p.parent)}function to(e){Me([e.id])}function oo(e){_e([e.id])}function no(e){const t=be(S.value,e.path);navigator.clipboard&&navigator.clipboard.writeText?navigator.clipboard.writeText(t).then(()=>{R(c("link_copied"),"success")}).catch(()=>{Ae(t)}):Ae(t)}function Ae(e){try{const t=document.createElement("textarea");t.value=e,t.style.position="fixed",t.style.left="-999999px",t.style.top="-999999px",document.body.appendChild(t),t.focus(),t.select();const y=document.execCommand("copy");document.body.removeChild(t),y?R(c("link_copied"),"success"):R(c("copy_failed"),"error")}catch(t){console.error("Failed to copy text: ",t),R(c("copy_failed"),"error")}}function so(e){fe(e.path)}function ao(e){qt.value=e,Y(lt,{title:c("rename"),placeholder:c("name"),value:e.name,mutation:Dt,getVariables:St,done:It})}function lo(e){Y(tt,{files:[e],onDone:ve})}const Oe=e=>{e.status==="done"&&setTimeout(()=>{B(),ce()},1e3)},Ke=e=>{ve([e.item])},Qe=e=>{B()};function io(e){$t(e,p.parent)}const J=$(!1),he=$(!1),X=$({}),je=$({}),F=$({});return Bo(()=>{var e;M.value=nn(((e=P.q)==null?void 0:e.toString())??""),U(p,M.value),B(),H.on("upload_task_done",Oe),H.on("file_deleted",Ke),H.on("file_renamed",Qe),window.addEventListener("keydown",N),window.addEventListener("keyup",we)}),zo(()=>{H.off("upload_task_done",Oe),H.off("file_deleted",Ke),H.off("file_renamed",Qe),window.removeEventListener("keydown",N),window.removeEventListener("keyup",we)}),(e,t)=>{const y=pn,z=Ln,k=Po,E=Fn,We=Qo,ke=jo,ro=In,co=hn,Je=ln,x=ut,uo=dn,po=Go,_o=rn,fo=an,vo=en,mo=ho,m=pt("tooltip");return n(),i(V,null,[a("div",Nn,[r(y,{"touch-target":"wrapper",checked:s(A),indeterminate:!s(A)&&s(Q),onChange:s(O)},null,8,["checked","indeterminate","onChange"]),s(C).length?(n(),i("span",Bn,_(e.$t("x_selected",{count:s(g)?s(D).toLocaleString():s(C).length.toLocaleString()})),1)):(n(),i("div",zn,[(n(!0),i(V,null,ye(Mt.value,(l,o)=>(n(),i(V,{key:l.path},[o===0?(n(),i(V,{key:0},[l.path===p.parent?v((n(),i("span",Hn,[Z(_(l.name)+" ("+_(s(D))+")",1)])),[[m,He()]]):v((n(),i("a",{key:1,href:"#",onClick:f(u=>me(l.path),["stop","prevent"])},[Z(_(l.name),1)],8,xn)),[[m,He()]])],64)):(n(),i(V,{key:1},[l.path===p.parent?(n(),i("span",Rn,_(l.name)+" ("+_(s(D))+")",1)):(n(),i("a",{key:1,href:"#",onClick:f(u=>me(l.path),["stop","prevent"])},_(l.name),9,Pn))],64))],64))),128))])),s(Q)?(n(),i(V,{key:2},[v((n(),h(k,{onClick:f(Xt,["stop"])},{icon:d(()=>[r(z)]),_:1})),[[m,e.$t("copy")]]),v((n(),h(k,{onClick:f(Yt,["stop"])},{icon:d(()=>[r(E)]),_:1})),[[m,e.$t("cut")]]),v((n(),h(k,{onClick:f(ze,["stop"])},{icon:d(()=>[r(We)]),_:1})),[[m,e.$t("delete")]]),v((n(),h(k,{loading:s(Rt),onClick:f(Ot,["stop"])},{icon:d(()=>[r(ke)]),_:1},8,["loading"])),[[m,e.$t("download")]])],64)):I("",!0),a("div",An,[r(ro,{filter:p,parent:W.value,"get-url":xe},null,8,["filter","parent"]),v((n(),h(k,{onClick:Jt},{icon:d(()=>[r(co)]),_:1})),[[m,e.$t("create_folder")]]),r(x,{modelValue:J.value,"onUpdate:modelValue":t[2]||(t[2]=l=>J.value=l)},{trigger:d(()=>[v((n(),h(k,null,{icon:d(()=>[r(Je)]),_:1})),[[m,e.$t("upload")]])]),default:d(()=>[a("div",{class:"dropdown-item",onClick:t[0]||(t[0]=f(l=>{Re(p.parent),J.value=!1},["stop"]))},_(e.$t("upload_files")),1),a("div",{class:"dropdown-item",onClick:t[1]||(t[1]=f(l=>{Pe(p.parent),J.value=!1},["stop"]))},_(e.$t("upload_folder")),1)]),_:1},8,["modelValue"]),s(Le)()?v((n(),h(k,{key:0,loading:s(Nt),onClick:Zt},{icon:d(()=>[r(uo)]),_:1},8,["loading"])),[[m,e.$t("paste")]]):I("",!0),v((n(),h(k,{loading:ie.value,onClick:Wt},{icon:d(()=>[r(po)]),_:1},8,["loading"])),[[m,e.$t("refresh")]]),r(x,{modelValue:he.value,"onUpdate:modelValue":t[3]||(t[3]=l=>he.value=l)},{trigger:d(()=>[v((n(),h(k,{loading:re.value},{icon:d(()=>[r(_o)]),_:1},8,["loading"])),[[m,e.$t("sort")]])]),default:d(()=>[(n(!0),i(V,null,ye(s(gt),l=>(n(),i("div",{key:l.value,class:et(["dropdown-item",{selected:l.value===s(G)}]),onClick:o=>{Gt(l.value),he.value=!1}},_(e.$t(l.label)),11,On))),128))]),_:1},8,["modelValue"])])]),s(pe)&&Ue.value?(n(),i("div",Kn,[a("div",Qn,[(n(),i(V,null,ye(20,l=>a("section",{key:l,class:"file-item selectable-card-skeleton"},[a("div",jn,[t[8]||(t[8]=a("div",{class:"checkbox"},[a("div",{class:"skeleton-checkbox"})],-1)),a("span",Gn,_(l),1)]),t[9]||(t[9]=Jo('<div class="image" data-v-10f2602f><div class="skeleton-image" data-v-10f2602f></div></div><div class="title" data-v-10f2602f><div class="skeleton-text skeleton-title" data-v-10f2602f></div></div><div class="subtitle" data-v-10f2602f><div class="skeleton-text skeleton-subtitle" data-v-10f2602f></div></div><div class="actions" data-v-10f2602f><div class="skeleton-text skeleton-actions" data-v-10f2602f></div></div>',4))])),64))])])):I("",!0),a("div",{class:"scroller-wrapper",onDragover:t[7]||(t[7]=f((...l)=>s(Ie)&&s(Ie)(...l),["stop","prevent"]))},[v(a("div",{class:"drag-mask",onDrop:f(io,["stop","prevent"]),onDragleave:t[4]||(t[4]=f((...l)=>s(De)&&s(De)(...l),["stop","prevent"]))},_(e.$t("release_to_send_files")),545),[[Ho,s(wt)]]),b.value.length>0?(n(),h(s(xo),{key:0,class:"scroller","data-key":"id","data-sources":b.value,"estimate-size":80},{item:d(({index:l,item:o})=>[a("section",{class:et(["file-item selectable-card",{selected:s(C).includes(o.id),selecting:s(j).includes(o.id)}]),onClick:f(u=>s(ne)(u,o,l,()=>{Qt(o)}),["stop"]),onMouseover:u=>s(se)(u,l)},[a("div",Jn,[s(j).includes(o.id)?(n(),h(y,{key:0,class:"checkbox","touch-target":"wrapper",checked:s(le),onClick:f(u=>s(K)(u,o,l),["stop"])},null,8,["checked","onClick"])):(n(),h(y,{key:1,class:"checkbox","touch-target":"wrapper",checked:s(C).includes(o.id),onClick:f(u=>s(K)(u,o,l),["stop"])},null,8,["checked","onClick"])),a("span",Xn,[r(fo,{id:l+1,raw:o},null,8,["id","raw"])])]),a("div",{class:"image",onClick:u=>jt(u,o)},[o.isDir?(n(),i("img",Zn)):(n(),i(V,{key:1},[Ce.value.includes(o.id)?(n(),i("img",es)):!$e.value.includes(o.id)&&o.fileId?(n(),i("img",{key:1,class:"image-thumb",src:s(Xo)(o.fileId,"&w=50&h=50"),onError:u=>ht(o.id)},null,40,ts)):o.extension?(n(),i("img",{key:2,src:`/ficons/${o.extension}.svg`,class:"svg",onError:u=>kt(o.id)},null,40,os)):(n(),i("img",ns))],64))],8,Yn),a("div",ss,_(o.name),1),a("div",as,[o.isDir?(n(),i("span",ls,_(e.$t("x_items",o.children)),1)):(n(),i("span",is,_(s(L)(o.size)),1)),v((n(),i("span",null,[Z(_(s(Zo)(o.updatedAt)),1)])),[[m,s(Yo)(o.updatedAt)]])]),a("div",rs,[o.isDir?(n(),i(V,{key:0},[v((n(),h(k,{class:"sm",onClick:f(u=>s(Et)(o.path),["stop"])},{icon:d(()=>[r(ke)]),_:2},1032,["onClick"])),[[m,e.$t("download")]]),r(x,{modelValue:X.value[o.id],"onUpdate:modelValue":u=>X.value[o.id]=u},{trigger:d(()=>[v((n(),h(k,{class:"sm"},{icon:d(()=>[r(Je)]),_:1})),[[m,e.$t("upload")]])]),default:d(()=>[a("div",{class:"dropdown-item",onClick:f(u=>{Re(o.path),X.value[o.id]=!1},["stop"])},_(e.$t("upload_files")),9,ds),a("div",{class:"dropdown-item",onClick:f(u=>{Pe(o.path),X.value[o.id]=!1},["stop"])},_(e.$t("upload_folder")),9,cs)]),_:2},1032,["modelValue","onUpdate:modelValue"])],64)):v((n(),h(k,{key:1,class:"sm",onClick:f(u=>s(ue)(o.path),["stop"])},{icon:d(()=>[r(ke)]),_:2},1032,["onClick"])),[[m,e.$t("download")]]),v((n(),h(k,{class:"sm",onClick:f(u=>lo(o),["stop"])},{icon:d(()=>[r(We)]),_:2},1032,["onClick"])),[[m,e.$t("delete")]]),r(x,{modelValue:je.value[o.id],"onUpdate:modelValue":u=>je.value[o.id]=u},{trigger:d(()=>[v((n(),h(k,{class:"sm"},{icon:d(()=>[r(vo)]),_:1})),[[m,e.$t("info")]])]),default:d(()=>[a("section",us,[a("div",ps,[a("div",_s,_(e.$t("path")),1),a("div",fs,_(o.path),1)])])]),_:2},1032,["modelValue","onUpdate:modelValue"]),r(x,{modelValue:F.value[o.id],"onUpdate:modelValue":u=>F.value[o.id]=u},{trigger:d(()=>[v((n(),h(k,{class:"sm"},{icon:d(()=>[r(mo)]),_:1})),[[m,e.$t("actions")]])]),default:d(()=>[a("div",{class:"dropdown-item",onClick:f(u=>{eo(o),F.value[o.id]=!1},["stop"])},_(e.$t("duplicate")),9,vs),a("div",{class:"dropdown-item",onClick:f(u=>{to(o),F.value[o.id]=!1},["stop"])},_(e.$t("cut")),9,ms),a("div",{class:"dropdown-item",onClick:f(u=>{oo(o),F.value[o.id]=!1},["stop"])},_(e.$t("copy")),9,hs),o.isDir&&s(Le)()?(n(),i("div",{key:0,class:"dropdown-item",onClick:f(u=>{so(o),F.value[o.id]=!1},["stop"])},_(e.$t("paste")),9,ks)):I("",!0),o.isDir?I("",!0):(n(),i("div",{key:1,class:"dropdown-item",onClick:f(u=>{no(o),F.value[o.id]=!1},["stop"])},_(e.$t("copy_link")),9,gs)),a("div",{class:"dropdown-item",onClick:f(u=>{ao(o),F.value[o.id]=!1},["stop"])},_(e.$t("rename")),9,ys)]),_:2},1032,["modelValue","onUpdate:modelValue"])])],42,Wn)]),_:1},8,["data-sources"])):I("",!0),!s(pe)&&b.value.length===0?(n(),i("div",bs,_(e.$t(s(Ro)(s(pe),s(qe).permissions,"WRITE_EXTERNAL_STORAGE"))),1)):I("",!0),a("input",{ref_key:"fileInput",ref:Bt,style:{display:"none"},type:"file",multiple:"",onChange:t[5]||(t[5]=(...l)=>s(Ne)&&s(Ne)(...l))},null,544),a("input",{ref_key:"dirFileInput",ref:Ht,style:{display:"none"},type:"file",multiple:"",webkitdirectory:"",mozdirectory:"",directory:"",onChange:t[6]||(t[6]=(...l)=>s(Be)&&s(Be)(...l))},null,544)],32)],64)}}}),Fs=vt(ws,[["__scopeId","data-v-10f2602f"]]);export{Fs as default};
