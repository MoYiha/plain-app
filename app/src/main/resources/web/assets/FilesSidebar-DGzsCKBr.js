import{_ as w}from"./LeftSidebar.vuevuetypescriptsetuptruelang-Bkp0VFG-.js";import{d as N,u as R,s as y,i as F,g as x,I as D,h,aF as Q,k as T,v as V,q as m,Q as E,a6 as _,a0 as I,o as c,V as L,t as i,a as r,w as v,N as b,m as k,c as g,P as M,O as z,bu as A,f as S,a7 as H,a8 as O}from"./index-B-S542RM.js";const j={class:"nav"},G={class:"title"},J=["onClick"],K={class:"title"},Z=N({__name:"FilesSidebar",setup(U){const u=E(),p=R(),{app:s}=y(F()),{t:n}=x(),{parseQ:$}=A(),l=D({showHidden:!1,linkName:"",text:"",parent:""}),P=h(""),d=h(!1);function q(){S(p,"/files/recent")}const B=Q(()=>{const e=[{name:"internal",label:n("internal_storage"),path:s.value.internalStoragePath}];return s.value.sdcardPath&&e.push({name:"sdcard",label:n("sdcard"),path:s.value.sdcardPath}),s.value.usbDiskPaths.forEach((t,a)=>{e.push({name:`usb${a+1}`,label:`${n("usb_storage")} ${a+1}`,path:t})}),e.push({name:"app",label:n("app_name"),path:s.value.externalFilesDir}),e});function C(e){const t=H([{name:"parent",op:"",value:e.path},{name:"link_name",op:"",value:e.name}]);S(p,`/files?q=${O(t)}`)}function f(){var a;const e=_.currentRoute.value;if(e.path==="/files/recent"){d.value=!0;return}d.value=!1;const t=I(((a=e.query.q)==null?void 0:a.toString())??"");$(l,t),P.value=l.parent}return f(),T(()=>_.currentRoute.value.fullPath,()=>{f()}),(e,t)=>{const a=w;return c(),V(a,null,{title:m(()=>[L(i(e.$t("page_title.files")),1)]),body:m(()=>[r("ul",j,[r("li",{onClick:v(q,["prevent"]),class:b({active:k(u).path==="/files/recent"})},[r("span",G,i(e.$t("recents")),1)],2),(c(!0),g(z,null,M(B.value,o=>(c(),g("li",{onClick:v(W=>C(o),["prevent"]),class:b({active:k(u).path==="/files"&&o.name===l.linkName})},[r("span",K,i(o.label),1)],10,J))),256))])]),_:1})}}});export{Z as default};
